(()=>{const e="https://ts-media.syd1.cdn.digitaloceanspaces.com",t="https://storefront.trustshop.io",s={display_rating:"before",display_number:!0,avg_rating:0,total_review:0,icon_color:"#FFB400",label_rating:"Rating",label_ratings:"Ratings",show_rating_when_empty:!0},o={product_page:{star_size:16,text_star:12,text_rating:12},collection_page:{star_size:16,text_star:16}};let i=document.getElementById("trustshop-product_rating")?{...s,...JSON.parse(document.getElementById("trustshop-product_rating").value)}:s,r=document.getElementById("trustshop-product_rating_font_size")&&document.getElementById("trustshop-product_rating_font_size").value?{...o,...JSON.parse(document.getElementById("trustshop-product_rating_font_size").value)}:o,n={imageFromReview:0,viewImage:0},a=[],d=[],l=[],p=[],u=0,c=0,h={small:"300",medium:"450",big:"600"},m=6,_={review:1,slide_image:1,modal_image:{prev:null,next:1},from:!1,detail:{prev:null,next:null}};const w={text_customer_reviews:"Customer Reviews",text_reviews:"Reviews",text_review:"Review",text_review_this_product:"Review this product",text_share_your_thoughts:"Share your thoughts with other customers",btn_write_a_review:"Write a review",all_photos:"All photos",text_images_from_reviews:"Images from reviews",text_review_with_comments:"Review with comments",label_filter_all:"All",label_filter_most_helpful:"Most helpful",label_filter_highest_rating:"Highest rating",label_filter_lowest_rating:"Lowest rating",label_filter_oldest:"Oldest",label_filter_newest:"Newest",label_filter_review_with_photos:"Review with photos",text_review_on:"Reviewed on",text_people_found_helpful:"people found this helpful",text_helpful:"Helpful",text_report:"Report",text_reply_from:"Reply from",anonymous:"Anonymous",btn_load_more_review:"Load more reviews",no_review_text_no_review:"No reviews yet. Any feedback? Let us know",no_review_btn_write_first_review:"Write review",modal_write_title:"Ratings and Reviews",modal_write_text_reviews:"Reviews",modal_review_text_click_to_rate:"Click to rate",modal_review_add_photo_or_video:"Add photo or video",name_display_format:"Name display",option_name_display_format_1:"John Smith",option_name_display_format_2:"John S.",option_name_display_format_3:"J.S.",option_name_display_format_4:"Anonymous",modal_review_label_customer_name:"Your Name",modal_review_placeholder_customer_name:"Type your name here",modal_review_label_customer_email:"Your Email",modal_review_placeholder_customer_email:"Your email is private and is used to send you discount vouchers",modal_review_label_review_title:"Review Title",modal_review_placeholder_review_title:"Example: Easy to use",modal_review_label_review_content:"Product Review",modal_review_placeholder_review_content:"Example: Since i bought this a month ago, it has been used a lot. What i like best this product is...",modal_review_label_characters_remaining:"characters remaining",modal_review_btn_add_photo:"Photo",modal_review_btn_add_video:"Video",modal_review_btn_back:"Back",modal_review_btn_submit_review:"Submit Review",modal_pending_review_title:"Pending Review",modal_pending_review_subtitle:"Your review has been sent successfully and will be reviewed to ensure it meets our guidelines and standards. Please allow us some time to thoroughly assess your review.",modal_pending_review_button:"Continue shopping",modal_success_review_title:"Review submitted successfully!",modal_success_review_subtitle:"Thank you for spending time sharing your experience and leaving feedback, it will be very beneficial for other customers.",modal_success_review_button:"Continue shopping",modal_report_title:"Report this review",modal_report_subtitle:"Thank you for taking the time to help {{ shopname }}.Your report is anonymous.",modal_report_option_1:"Review contains private information.",modal_report_option_2:"Review contains objectionable language.",modal_report_option_3:"Review contains advertising or spam.",modal_report_option_4:"Review contains violent and disgusting content.",modal_report_option_5:"Other violations.",modal_report_btn:"Report this review",modal_view_image_text_all_media:"All photos",modal_all_media_title:"Reviews gallery",text_all:"All",text_image:"Images",text_video:"Videos",no_media:"No medias uploaded yet!",no_image:"No images uploaded yet!",no_video:"No videos uploaded yet!",purchased_item:"Purchased item",view_product:"View product",required_input:"*Please fill out this field",required_email:"*Please enter a valid email address!",media_rule_size:"*Media size must be smaller than 10MB",media_rule_type:"*Image type must be .bmp, .jpeg or .png. Video type must be .mp4, .mov",media_upload_fail:"*Unable to upload the image. Please try again later",media_upload_duplicate:"*You have already uploaded this image",modal_image_review_for:"Review for",modal_image_from_this_review:"Image from this review"},g={primary_color:"#3D4153",secondary_color:"#FFFFFF",title_text_color:"#3D4153",star_icon_color:"#FFB400",primary_text_color:"#74788D",secondary_text_color:"#74788D",line_color:"#A7ABC3",rating_process_color:"#3D4153",rating_process_empty_color:"#EEEEEE",filter_sort_background:"#F2F2F6",filter_sort_text:"#74788D",load_more_color:"#407BFF",user_name_color:"#303030",section_title_color:"#111111",text_no_review_color:"#111111",call_to_action_color:"#3D4153",call_to_text_color:"#FFFFFF",border_color:"#CED6E2",bg_base_color:"#FFFFFF",bg_no_review_color:"#FFFFFF",reply_title_color:"#3D4153",reply_content_color:"#3D4153",reply_background_color:"#F6F6F6",modal_all_medias_headline_title:"#121212",modal_all_medias_filter_label:"#3D4153",modal_all_medias_filter_background:"#f2f2f6",modal_all_medias_selected_filter_label:"#FFFFFF",modal_all_medias_selected_filter_background:"#3D4153",modal_all_medias_star_icon:"#FFB400",modal_all_medias_rating_background:"#FAFAFA",modal_detail_customer_name:"#121212",modal_detail_review_time_title:"#74788D",modal_detail_review_star:"#FFB400",modal_detail_review_star_default:"#CCCCCC",modal_detail_review_star_field_background:"#F1F1F1",modal_detail_review_title:"#3D4153",modal_detail_review_content:"#303030",modal_detail_navigator_button:"#FFFFFF",modal_detail_navigator_arrow:"#303030",modal_detail_product_name:"#303030",modal_detail_product_price:"#303030",modal_detail_icon_title:"#74788D",modal_detail_selected_icon:"#1E4786",modal_detail_icon_background:"#F2F2F6",modal_detail_divider:"#F2F2F6",modal_detail_card_background:"#FFFFFF",form_write_review_star_color:"#FFB400"},v={write_a_review_button:!0,customer_profile_picture:!0,country:!0,verify_buyer:!0,review_date:!0,button_helpful:!0,button_report:!0,no_review_border:!0,summary_star_icon:!0,summary_number_of_reviews:!0,summary_divider:!0,summary_text_1:!0,summary_text_2:!0,show_review_media:!0,image_galley_star_rating:!0,number_of_reviews:!0,media_size_on_galley:100,media_size_on_review:100,modal_all_medias:{filterList:{All:!0,Images:!0,Videos:!0,"5_star":!0,"4_star":!0,"3_star":!0,"2_star":!0,"1_star":!0},show_star_rating:!0,show_helpful_button:!0},detail:{show_review_media:!0,show_review_time:!0,show_purchase_items:!0,star_size:16},form_write_review:{show_product_image:!0,show_add_photo_btn:!0,show_add_video_btn:!1,required_review_title:!0,star_size:32}};let f=document.getElementById("trustshop-widget_box_layout_box")&&document.getElementById("trustshop-widget_box_layout_box").value?document.getElementById("trustshop-widget_box_layout_box").value:"list",L=document.getElementById("trustshop-widget_box_layout_summary_box")&&document.getElementById("trustshop-widget_box_layout_summary_box").value?document.getElementById("trustshop-widget_box_layout_summary_box").value:"top",y=document.getElementById("trustshop-widget_box_color_customize")&&document.getElementById("trustshop-widget_box_color_customize").value?{...g,...JSON.parse(document.getElementById("trustshop-widget_box_color_customize").value)}:g,C=document.getElementById("trustshop-widget_box_section_show")&&document.getElementById("trustshop-widget_box_section_show").value?{...v,...JSON.parse(document.getElementById("trustshop-widget_box_section_show").value)}:v,b=document.getElementById("trustshop-widget_box_sort_filter")&&document.getElementById("trustshop-widget_box_sort_filter").value?JSON.parse(document.getElementById("trustshop-widget_box_sort_filter").value):["all","most_helpful","highest_rating","lowest_rating","oldest","newest","stars_filter"],E=document.getElementById("trustshop-get-product_info")?JSON.parse(document.getElementById("trustshop-get-product_info").value):{},M=document.getElementById("trustshop-widget_box_label_content")&&document.getElementById("trustshop-widget_box_label_content").value?{...w,...JSON.parse(document.getElementById("trustshop-widget_box_label_content").value)}:w,$=document.getElementById("trustshop-widget_box_review_per_page")&&document.getElementById("trustshop-widget_box_review_per_page").value?JSON.parse(document.getElementById("trustshop-widget_box_review_per_page").value):{review_per_page_desktop:6,review_per_page_mobile:4},I={name:"",email:"",title:"",content:"",star:"",medias:[],customer_display_name:"first_name_last_name",product_id:E.productId,shop_id:E.shopId},x=[{value:"first_name_last_name",label:M.option_name_display_format_1??"John Smith"},{value:"first_name",label:M.option_name_display_format_2??"John S."},{value:"short_name",label:M.option_name_display_format_3??"J.S."},{value:"anonymous",label:M.option_name_display_format_4??"Anonymous"}];const T='<div class = "trustshop-loading">\n                    <div class = "trustshop-spin">\n                    </div>\n                </div>';let B=`<svg\n                width="16"\n                height="16"\n                viewBox="0 0 20 20"\n                fill="none"\n                xmlns="http://www.w3.org/2000/svg">\n                <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M8.08928 1.17108C8.4354 0.358626 9.58777 0.360834 9.93077 1.1746L11.6766 5.31665C11.8171 5.65002 12.1267 5.8815 12.4862 5.92197L16.8555 6.41382C17.7019 6.50909 18.0493 7.55118 17.4295 8.13529L14.0908 11.2818C13.8397 11.5184 13.7283 11.8677 13.7961 12.2059L14.7086 16.7617C14.8797 17.6163 13.9518 18.2656 13.2076 17.812L9.50179 15.5534C9.18343 15.3594 8.78356 15.3586 8.46441 15.5513L4.74959 17.7948C4.00363 18.2453 3.07849 17.5925 3.25286 16.7387L4.18277 12.1854C4.25178 11.8475 4.14178 11.4978 3.89171 11.2603L0.565012 8.10016C-0.0525416 7.51353 0.299188 6.47272 1.146 6.38096L5.51584 5.90742C5.87562 5.86843 6.18627 5.6381 6.3281 5.30517L8.08928 1.17108Z"\n                    fill="${y.star_icon_color&&""!==y.star_icon_color?y.star_icon_color:g.star_icon_color}" />\n            </svg>`;const H='<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M1.5 15L0 13.5L6 7.5L0 1.5L1.5 0L7.5 6L13.5 0L15 1.5L9 7.5L15 13.5L13.5 15L7.5 9L1.5 15Z" fill="black"></path>\n    </svg>',S={star_icon:{html:'<svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.16604 12.1708C7.48383 11.979 7.88171 11.979 8.19951 12.1708L10.858 13.7754C11.6153 14.2325 12.5495 13.5535 12.3486 12.692L11.6431 9.6678C11.5587 9.30631 11.6816 8.92784 11.9621 8.68479L14.3124 6.64873C14.981 6.06952 14.6236 4.97126 13.7422 4.89648L10.65 4.63414C10.2804 4.60278 9.95851 4.36944 9.81377 4.02794L8.60349 1.17237C8.2589 0.359342 7.10664 0.359342 6.76205 1.17237L5.55177 4.02794C5.40703 4.36944 5.08517 4.60278 4.71559 4.63414L1.62335 4.89648C0.741922 4.97126 0.384515 6.06952 1.05311 6.64873L3.40341 8.68479C3.68397 8.92784 3.80682 9.30631 3.72249 9.6678L3.01697 12.692C2.81601 13.5535 3.75024 14.2325 4.50756 13.7754L7.16604 12.1708Z" fill="#D4D4D4"/></svg>',icon_number:1},button_corner_radius:4,element_corners:"rounded",review_name_format_selection:"customer",merchant_selection_format:"first_name_last_name"};let q=S;(()=>{if(!document.getElementById("trustshop-global-display__setting")||!document.getElementById("trustshop-global-display__setting").value)return;let e=document.getElementById("trustshop-global-display__setting")&&document.getElementById("trustshop-global-display__setting").value&&""!==JSON.parse(document.getElementById("trustshop-global-display__setting").value).star_icon.trim(),t=e?{...S,...JSON.parse(document.getElementById("trustshop-global-display__setting").value)}:S;if(e){const e=(new TextDecoder).decode(Uint8Array.from(atob(t.star_icon),(e=>e.charCodeAt(0))));t={...t,star_icon:JSON.parse(e)}}B=t.star_icon.html?t.star_icon.html:S.star_icon.html;let s=document.getElementById("trustshop-css-variable");s||(s=document.createElement("style"),s.id="trustshop-css-variable",s.innerHTML+=`:root {--trustshop-button-radius: ${t.button_corner_radius+"px"||"4px"};}`,document.head.appendChild(s)),q=t})(),window.trustshop_UniqueID={existingsRatingId:new Set,generateUniqueId:e=>{let t;do{t=e+"-"+Math.random().toString(36).substr(2,9)}while(window.trustshop_UniqueID.existingsRatingId.has(t));return window.trustshop_UniqueID.existingsRatingId.add(t),t}},window.trustshop_reviews={widget_container:document.querySelector("#trustshop-review"),handleNullLabelContent:e=>{const t=w;Object.keys(t).forEach((s=>{void 0===e[s]?t[s]=w[s]:null===e[s]?t[s]="":t[s]=e[s]}))},checkHiddenParent:e=>{let t=e.parentNode;for(;t&&t!==document.body;){if("none"===window.getComputedStyle(t).display)return t;t=t.parentNode}return null},checkPageWidth:()=>{const e=window.innerWidth;e>789||e<=789&&e>575||e<=575&&e>375?h={small:"300",medium:"450",big:"600"}:e<=375&&(h={small:"300",medium:"300",big:"450"})},checkDevice:()=>{m=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?$.review_per_page_mobile&&""!==$.review_per_page_mobile?$.review_per_page_mobile:6:$.review_per_page_desktop&&""!==$.review_per_page_desktop?$.review_per_page_desktop:6},updateColorsVariable:(e,t,s,o)=>{const i=document.body;Object.entries(e).forEach((([r,n])=>{i.style.setProperty(`--trustshop-${s?s+"-":""}${r.replaceAll("_","-")}${o?"-"+o:""}`,t[r]&&""!==t[r]?t[r]:e[r])}))},colorVariable:(e,t,s,o)=>{const i=new Set;let r=document.getElementById("trustshop-css-variable");r||(r=document.createElement("style"),r.id="trustshop-css-variable",document.head.appendChild(r));let n=r.innerHTML,a=n.match(/:root\s*\{[^}]*\}/),d=a?a[0].replace(":root {","").replace("}","").trim():"";d.split(";").forEach((e=>{const[t]=e.split(":").map((e=>e.trim()));t.startsWith("--")&&i.add(t)}));let l=d?d+"\n":"";Object.entries(e).forEach((([r,n])=>{const a=`--trustshop-${s?s+"-":""}${r.replaceAll("_","-")}${o?"-"+o:""}`;i.has(a)||(l+=`${a}: ${t[r]&&""!==t[r]?t[r]:e[r]};\n`,i.add(a))})),a?r.innerHTML=n.replace(a[0],`:root {${l}}`):r.innerHTML+=`:root {${l}}\n`},sizeVariable:(e,t="")=>{let s=document.getElementById("trustshop-css-variable");s||(s=document.createElement("style"),s.id="trustshop-css-variable",document.head.appendChild(s));let o=s.innerHTML,i=o.match(/:root\s*\{[^}]*\}/),r=i?i[0].replace(":root {","").replace("}","").trim():"";const n=new Set;r.split(";").forEach((e=>{const[t]=e.split(":").map((e=>e.trim()));t.startsWith("--")&&n.add(t)}));let a=r?r+"\n":"";Object.entries(e).forEach((([e,s])=>{if("boolean"!=typeof s){const o=`${t}${e.replace(/_/g,"-")}`;n.has(o)||(a+=`${o}: ${s}px;\n`,n.add(o))}})),i?s.innerHTML=o.replace(i[0],`:root {${a}}`):s.innerHTML+=`:root {${a}}\n`},currentVideo:null,dataFetch:e=>fetch(e,{method:"GET"}).then((e=>e.json())).then((e=>e)).catch((e=>{})),initReviews:async()=>{if("true"!==E.is_show&&!E.is_show)return;if(!document.getElementById("trustshop-get-product_info"))return;const e=trustshop_reviews.widget_container;if(!e)return!1;if(null==E.productId||""==E.productId||null==E.productId){if(!e.getAttribute("product_data"))return;E=JSON.parse(e.getAttribute("product_data"))}e.innerHTML=T,trustshop_reviews.colorVariable(g,y),trustshop_reviews.sizeVariable(C.detail,"--trustshop-detail-"),trustshop_reviews.sizeVariable(C.form_write_review,"--trustshop-form-write-review-"),trustshop_reviews.widget_container.style.setProperty("--trustshop-media-size-on-review",80*C.media_size_on_review/100+"px"),trustshop_reviews.widget_container.style.setProperty("--trustshop-media-size-on-galley",110*C.media_size_on_galley/100+"px"),trustshop_reviews.handleNullLabelContent(M),trustshop_reviews.checkPageWidth(),trustshop_reviews.checkDevice(),"grid"===f&&e.classList.add("trustshop-review-type--grid"),e.closest(".page-width")?e.closest(".page-width").classList.contains("scroll-trigger")&&e.closest(".page-width").classList.remove("scroll-trigger"):e.closest(".scroll-trigger")&&e.closest(".scroll-trigger").classList.remove("scroll-trigger");const s=[`${t}/storefront/summary?product_id=${E.productId}`,`${t}/storefront/review-images?product_id=${E.productId}`,`${t}/storefront/reviews?product_id=${E.productId}&type=${b.length<1?"all":"stars_filter"===b[0]?"5_star":b[0]}&per_page=${m}`],o=Promise.all(s.map(trustshop_reviews.dataFetch)).then((e=>e)).catch((e=>{})),i=await o,r=i[0],n=i[1],a=i[2];n&&n.data.length>0&&(l=n.data,n.next_cursor?_.slide_image=_.slide_image+1:_.slide_image=null);const d=trustshop_reviews.loadSummaryBox(r),p=document.createElement("div");if("left"===L?p.classList.add("trustshop-layout-box--left"):p.classList.add("trustshop-layout-box--top"),0===a.data.length)trustshop_reviews.widget_container.querySelector(".trustshop-loading").remove(),e.innerHTML='<span style="display:none"></span>',e.appendChild(trustshop_reviews.noReview()),y.bg_no_review_color&&y.bg_no_review_color.toLowerCase()!=="#FFFFFF".toLowerCase()&&(e.style.backgroundColor="var(--trustshop-bg-no-review-color)",e.style.boxShadow="0 0 0 100vmax var(--trustshop-bg-no-review-color)",e.style.clipPath="inset(0 -100vmax)");else{y.bg_base_color&&y.bg_base_color.toLowerCase()!=="#FFFFFF".toLowerCase()&&(e.style.backgroundColor="var(--trustshop-bg-base-color)",e.style.boxShadow="0 0 0 100vmax var(--trustshop-bg-base-color)",e.style.clipPath="inset(0 -100vmax)"),trustshop_reviews.widget_container.querySelector(".trustshop-loading").remove(),e.innerHTML='<span style="display:none"></span>',p.appendChild(d);const t=document.createElement("div");t.classList.add("trustshop","trustshop-review--body");const s=document.createElement("div");if(s.classList.add("trustshop","trustshop-review-body--header"),C.show_review_media&&"false"!==C.show_review_media&&s.appendChild(trustshop_reviews.imageFromReview(_.slide_image)),s.appendChild(trustshop_reviews.tabFilter(r.stars_review)),t.appendChild(s),a.next_cursor?_.review=_.review+1:_.review=null,"grid"===f)t.appendChild(trustshop_reviews.loadReviewList2(a.data,_.review));else t.appendChild(trustshop_reviews.loadReviewList1(a.data,_.review));if(p.appendChild(t),e.innerHTML=` <p class="trustshop-header--title trustshop trustshop-title">${M.text_customer_reviews?.trim()??w.text_customer_reviews}</p>`,e.appendChild(p),"grid"===f){const e=trustshop_reviews.checkHiddenParent(trustshop_reviews.widget_container.querySelector(".trustshop-review--list.trustshop-review-list--grid"));e?(e.classList.add("temp-show"),trustshop_widgetreviews.handleResizeAllGridItems(),e.classList.remove("temp-show")):trustshop_widgetreviews.handleResizeAllGridItems()}trustshop_widgetreviews.handleSlideImageButton(_.slide_image)}document.body.appendChild(trustshop_reviews.reviewForm(r)),document.querySelectorAll(".trustshop-form-star--rating").forEach((e=>{e.addEventListener("click",(e=>{document.getElementById("trustshop-warning--rating").classList.remove("show-trustshop-warning")}))}));const u=document.createElement("div");u.classList.add("trustshop-report--overlay"),u.appendChild(trustshop_reviews.reportBtn()),u.addEventListener("click",(()=>{u.classList.contains("trustshop-show--report")&&u.classList.remove("trustshop-show--report")})),document.body.appendChild(u)},noReview:()=>{const e=document.createElement("div");e.classList.add("trustshop-no--review"),!0!==C.no_review_border&&"true"!==C.no_review_border||(e.style.padding="50px 20px",e.style.border="1px solid var(--trustshop-border-color)"),"square"===q.element_corners&&e.classList.add("trustshop-element-corner--square"),e.innerHTML=`\n                <div class="trustshop-no-review--header">\n                    <p class="trustshop trustshop-title">\n                        ${M.text_customer_reviews?.trim()??w.text_customer_reviews}\n                    </p>\n                </div>\n            `;const t=document.createElement("div");if(t.classList.add("trustshop-no-review--content"),t.innerHTML=`\n                                    <p class="trustshop-no-review--title">\n                                    ${M.no_review_text_no_review?.trim()??w.no_review_text_no_review}\n                                    </p>`,C.write_a_review_button){const e=document.createElement("button");e.classList.add("trustshop-button","trustshop-no-review--button"),e.id="trustshop-noreview--button",e.innerHTML=M.no_review_btn_write_first_review?.trim()??w.no_review_btn_write_first_review,e.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.showFormWriteReview("show")})),t.appendChild(e)}return e.appendChild(t),e},noMedia:e=>{let t="";switch(e){case"all":default:t=M.no_media?.trim()??w.no_media;break;case"image":t=M.no_image?.trim()??w.no_image;break;case"video":t=M.no_video?.trim()??w.no_video}return`<div class="trustshop trustshop-no-media--container" id="trustshop-no-media--container">\n        <div class="trustshop-no-media--img">\n        <img\n            src="https://cdn.shopify.com/extensions/1d58b11e-67d4-4759-9832-075599757e1d/0.0.0/assets/trustshop-no-review-img.png?v=1700352987"\n            alt="no review"\n            width="100%"\n            height="100%">\n    </div>\n    <p class="trustshop-no-media--title">\n        ${t}\n    </p>\n        </div>`},loadSummaryBox:e=>{const t=document.createElement("div"),s=document.createElement("div");"top"===L?(t.classList.add("trustshop","trustshop-summary-box-type--top"),s.classList.add("trustshop","trustshop-score-card-type--top"),"square"===q.element_corners&&s.classList.add("trustshop-element-corner--square"),!1===C.write_a_review_button&&s.classList.add("trustshop-score-card-no-review--btn")):(t.classList.add("trustshop","trustshop-summary-box-type--left"),s.classList.add("trustshop","trustshop-score-card-type--left"),"square"===q.element_corners&&s.classList.add("trustshop-element-corner--square")),s.id="trustshop-score--card";const o=document.createElement("div");o.classList.add("trustshop-overview--wrap"),C.summary_divider||(o.style.border="none");const i=document.createElement("div");return i.classList.add("trustshop","trustshop-overview--container"),e?(i.innerHTML=`\n                    <div class=" trustshop trustshop-overview-content">\n                        <div class=" trustshop trustshop-overview-rating">\n                            <p class=" trustshop trustshop-rating">\n                                <span>${e.average_review}</span>\n                                ${C.summary_star_icon?B:""}\n                            </p>\n                            ${C.summary_number_of_reviews?`<p class=" trustshop trustshop-total-rating">${e.total_review} ${e.total_review>1?M.text_reviews?.trim()??w.text_reviews:M.text_review?.trim()??w.text_review}</p>`:""}\n                            \n                        </div>\n                    </div>\n\n                `,o.appendChild(i),o.appendChild(trustshop_reviews.scoreBars(e.stars_review,e.total_review))):(i.innerHTML=`\n                    <div class=" trustshop trustshop-overview-content">\n                        <div class=" trustshop trustshop-overview-rating">\n                            <p class=" trustshop trustshop-rating">\n                                0\n                                ${C.summary_star_icon?B:""}\n                            </p>\n                            ${C.summary_number_of_reviews?`<p class=" trustshop trustshop-total-rating">0 ${M.text_review?.trim()??w.text_review}</p>`:""}\n                            \n                        </div>\n                    </div>\n\n                `,o.appendChild(i),o.appendChild(trustshop_reviews.scoreBars())),s.appendChild(o),C.write_a_review_button||C.summary_text_1||C.summary_text_2?(C.summary_divider&&s.insertAdjacentHTML("beforeend","<div class='trustshop-summary-box--divider'></div>"),s.appendChild(trustshop_reviews.writeReviewButton())):!C.summary_divider||C.write_a_review_button||C.summary_text_1||C.summary_text_2||(s.insertAdjacentHTML("beforeend","<div class='trustshop-summary-box--divider'></div>"),s.insertAdjacentHTML("beforeend",'<div class="trustshop-write-review--empty"></div>')),t.appendChild(s),t},scoreBars:(e,t)=>{const s=document.createElement("div");if(s.classList.add("trustshop-score-bar--list"),e&&t&&t>0)for(let o=5;o>=1;o--){const i=document.createElement("div");i.classList.add("trustshop-score-bar--item"),i.innerHTML=`\n                                        <span> ${o+B} </span>\n                                        <div class="trustshop-bar-container" style=" background:var(--trustshop-rating-process-empty-color) ; border-radius: 10px">\n                                            <div style="height: 100%; width: ${(e[`star_${o}`]/t*100).toFixed(2)}%; ; border-radius: 10px">\n                                            </div>\n                                        </div>\n                                        <div style="min-width:${!1===C.number_of_reviews||"false"===C.number_of_reviews?"unset":""}">\n                                        ${C.number_of_reviews&&"false"!==C.number_of_reviews?`<span> ${(e[`star_${o}`]/t*100).toFixed(0)}% </span>`:""}\n                                        \n                                        </div>\n                                    `,i.setAttribute("value",`${o}_star`),i.addEventListener("click",(()=>{document.querySelector(".trustshop-filter--container").scrollIntoView(),trustshop_widgetreviews.tabAction(trustshop_reviews.widget_container.querySelector(`.trustshop-comments-filter--item[value='${o}_star']`),o+"_star")})),s.appendChild(i)}else for(let e=5;e>=1;e--){const t=document.createElement("div");t.classList.add("trustshop-score-bar--item"),t.innerHTML=`\n                                        <span> ${e+B} </span>\n                                        <div class="trustshop-bar-container" style=" background:#EEEEEE ; border-radius: 10px">\n                                            <div style="height: 100%; width: 0%; border-radius: 10px">\n                                            </div>\n                                        </div>\n                                        <div style="min-width:${!1===C.number_of_reviews||"false"===C.number_of_reviews?"unset":""}">\n                                        ${C.number_of_reviews&&"false"!==C.number_of_reviews?"<span> 0% </span>":""}\n                                        \n                                        </div>\n                                    `,s.appendChild(t)}return s},writeReviewButton:()=>{const e=document.createElement("div");if(e.classList.add("trustshop","trustshop-write-review"),e.innerHTML=`\n                ${C.summary_text_1?`<p class="trustshop trustshop-title">${M.text_review_this_product?.trim()??w.text_review_this_product}</p>`:""}\n                ${C.summary_text_2?`<p class="trustshop-subheading">\n                            ${M.text_share_your_thoughts?.trim()??w.text_share_your_thoughts}\n                        </p>`:""}\n            `,C.write_a_review_button){const t=document.createElement("button");t.classList.add("trustshop","trustshop-button"),t.id="trustshop-write--review",t.innerHTML=M.btn_write_a_review?.trim()??w.btn_write_a_review,t.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.showFormWriteReview("show")})),e.appendChild(t)}return e},imageFromReview:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-image--review");const s=document.createElement("p");s.classList.add("trustshop","trustshop-review-header","trustshop-title"),s.innerHTML=`${M.text_images_from_reviews?.trim()??w.text_images_from_reviews}`;const o=document.createElement("span");o.innerHTML=M.all_photos?.trim()??w.all_photos,o.addEventListener("click",(()=>{trustshop_widgetreviews.modalViewMedia("show",null,E.productId)})),s.appendChild(o),t.appendChild(s);const i=document.createElement("div");if(i.classList.add("trustshop","trustshop-image-review--container"),l.length>0){const e=document.createElement("div");e.classList.add("trustshop-image-review--wrap");const s=document.createElement("div");return s.classList.add("trustshop","trustshop-image-review--list"),e.addEventListener("scroll",(()=>{var e=s.getBoundingClientRect();n.imageFromReview=e.left-document.querySelector(".trustshop-image-review--container").getBoundingClientRect().left,n.imageFromReview<=-trustshop_reviews.widget_container.querySelector(".trustshop-image-review--list").clientWidth+i.clientWidth&&trustshop_widgetreviews.slideImageFromReviews(-12,_.slide_image,!0)})),l.forEach(((e,t)=>{const o=document.createElement("div");o.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&o.classList.add("trustshop-element-corner--square"),"video"===e.media_type?(o.classList.add("video"),o.innerHTML=`<img\n                                                src="${e.video_thumb}"\n                                                width="100%"\n                                                height="100%">\n                                            <div class=" trustshop trustshop-video-rating">\n                                            <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 0C1.65326 0 1.08097 0.203188 0.65901 0.564866C0.237053 0.926542 0 1.41709 0 1.92857V7.07143C0 7.58291 0.237053 8.07346 0.65901 8.43513C1.08097 8.79681 1.65326 9 2.25 9H9.75C10.3467 9 10.919 8.79681 11.341 8.43513C11.7629 8.07346 12 7.58291 12 7.07143V6.05186L13.7197 7.52593C13.8247 7.61581 13.9583 7.67701 14.1037 7.7018C14.2492 7.7266 14.4 7.71386 14.537 7.66522C14.674 7.61657 14.7911 7.5342 14.8736 7.42851C14.956 7.32281 15 7.19856 15 7.07143V1.92857C15 1.80144 14.956 1.67719 14.8736 1.57149C14.7911 1.4658 14.674 1.38343 14.537 1.33478C14.4 1.28614 14.2492 1.2734 14.1037 1.2982C13.9583 1.32299 13.8247 1.3842 13.7197 1.47407L12 2.94814V1.92857C12 1.41709 11.7629 0.926542 11.341 0.564866C10.919 0.203188 10.3467 0 9.75 0H2.25Z" fill="var(--trustshop-secondary-color)"/>\n                                            </svg>\n                                            ${C.image_galley_star_rating?`<span>★ ${e.star}\n                                                </span>`:""}\n                                                \n                                            </div>`):(o.classList.add("image"),o.innerHTML=`<img\n                                                src="${trustshop_widgetreviews.handleImageUrl(e.url,"small")}"\n                                                width="100%"\n                                                height="100%">\n                                            ${C.image_galley_star_rating?`<div class=" trustshop trustshop-img-rating">\n                                            <span>★ ${e.star}\n                                            </span>\n                                        </div>`:""}`),o.addEventListener("click",(()=>{trustshop_widgetreviews.modalViewMedia("detail",e.review_id,E.productId,"video"===e.media_type?e.video_thumb:e.url,e.media_type)})),s.appendChild(o)})),e.appendChild(s),i.appendChild(e),t.appendChild(i),t}return t.innerHTML="",t},tabFilter:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-filter--container"),t.insertAdjacentHTML("beforeend",`<p class=" trustshop trustshop-title trustshop-review-body--title">${M.text_review_with_comments?.trim()??w.text_review_with_comments}</p>`);const s=document.createElement("div");s.classList.add("trustshop","trustshop-review-filter--wrap");const o=document.createElement("div");o.classList.add("trustshop","trustshop-review--filter");const i=["5_star","4_star","3_star","2_star","1_star"];return b.forEach(((e,t)=>{if("stars_filter"===e)i.forEach(((e,t)=>{const s=document.createElement("button");s.classList.add("trustshop","trustshop-comments-filter--item","trustshop-button"),"stars_filter"===b[0]&&"5_star"===e&&s.classList.add("trustshop-active"),s.value=e,s.innerHTML=`${B} ${e.split("_")[0]}`,s.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.tabAction(e.currentTarget)})),o.appendChild(s)}));else{const s=document.createElement("button");s.classList.add("trustshop","trustshop-comments-filter--item","trustshop-tabs-filter","trustshop-button"),"stars_filter"!==e&&0===t&&s.classList.add("trustshop-active"),s.value=e,Object.keys(M).map((t=>{t.split("label_filter_")[1]&&t.split("label_filter_")[1]===e&&(s.innerHTML=M[t])})),o.appendChild(s),s.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.tabAction(e.currentTarget)}))}})),s.appendChild(o),t.appendChild(s),t},loadReview1:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-review-item-type--list"),t.id=`trustshop-review-id--${e.id}`;const s=document.createElement("div");s.classList.add("trustshop","trustshop-review-item--header");const o=document.createElement("div");o.classList.add("trustshop","trustshop-review--author");const i=["1abc9c","16a085","c0392b","9b59b6","8e44ad","bdc3c7","34495e","95a5a6","f1c40f","f39c12","2ecc71","27ae60","d35400","3498db","2980b9","e74c3c","ec87bf","d870ad","f69785","9ba37e","b49255","a94136"];var r=i[Math.floor(Math.random()*i.length)];let n=w.anonymous;n=e.customer.name&&""!==e.customer.name&&"Anonymous"!==e.customer.name?e.customer.name:M.anonymous?.trim()??w.anonymous,!1!==C.customer_name&&"false"!==C.customer_name||(n=n.trim().split(/\s+/g).map((e=>e[0]+"*".repeat(e.length-1))).join(" "));const a=n.split(/\s/),d=(a[0]?a[0].slice(0,1):"")+(a[1]?a[1].slice(0,1):"");o.innerHTML=`${C.customer_profile_picture?`<div class=" trustshop trustshop-author--avt"style="background-color: #${r}">\n                                    <p class="trustshop-author-avt--text">${d.toUpperCase()}</p>\n                                    </div>`:""}\n                                    <div class=" trustshop trustshop-author--name">\n                                        <p>${n}</p>\n                                        <div>\n                                            ${!1!==C.review_date?`<div>\n                                                <span class="edit-icon">\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="6" height="4" viewBox="0 0 6 4" fill="none">\n                                                        <g clip-path="url(#clip0_7029_21997)">\n                                                        <path d="M2.63984 3.23203L4.54516 1.75288C4.22459 1.64898 3.93347 1.49717 3.68833 1.3061C3.44209 1.11575 3.24645 0.889667 3.11257 0.640721L1.20725 2.11987C1.05861 2.23526 0.98416 2.29306 0.920272 2.35666C0.844818 2.43171 0.780119 2.51292 0.727319 2.59885C0.682752 2.67165 0.64952 2.74925 0.583055 2.90404L0.232185 3.72061C0.216036 3.758 0.21364 3.79814 0.225267 3.83653C0.236893 3.87492 0.26208 3.91003 0.297998 3.93791C0.333916 3.96579 0.37914 3.98535 0.428587 3.99437C0.478033 4.0034 0.529743 4.00154 0.577903 3.989L1.62974 3.71661C1.82939 3.66501 1.92909 3.63921 2.02286 3.60462C2.13363 3.56362 2.23822 3.51342 2.33483 3.45482C2.41675 3.40522 2.4912 3.34742 2.63984 3.23203ZM5.07378 1.3425C5.26375 1.19501 5.37048 0.994986 5.37048 0.786416C5.37048 0.577845 5.26375 0.377818 5.07378 0.230336C4.88381 0.0828543 4.62615 1.55397e-09 4.35748 0C4.08882 -1.55397e-09 3.83116 0.0828543 3.64119 0.230336L3.41269 0.40773L3.42247 0.429929C3.53508 0.680063 3.71935 0.907092 3.9614 1.0939C4.20923 1.28744 4.51191 1.43331 4.84528 1.51989L5.07378 1.3425Z" fill="#A7ABC3"/>\n                                                        </g>\n                                                        <defs>\n                                                        <clipPath id="clip0_7029_21997">\n                                                            <rect width="5.15246" height="4" fill="white" transform="translate(0.218018)"/>\n                                                        </clipPath>\n                                                        </defs>\n                                                    </svg>\n                                                </span>\n                                                <span class=" trustshop trustshop-post-time">\n                                                    ${M.text_review_on?.trim()??w.text_review_on}  \n                                                    ${new Date(e.created_at).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}\n                                                </span>\n                                            </div>`:""}\n                                            \n                                        </div>\n                                    </div>`,s.insertAdjacentHTML("afterbegin",o.outerHTML),t.insertAdjacentHTML("afterbegin",s.outerHTML);const l=document.createElement("div");l.classList.add("trustshop","trustshop-review-item--body");const p=document.createElement("div");p.classList.add("trustshop","trustshop-review--rating");const u=document.createElement("p");u.classList.add("trustshop","trustshop-stars"),u.insertAdjacentHTML("beforeend",`\n                ${trustshop_reviews.ratingStar(e.star,y.star_icon_color).outerHTML}\n        ${e.title}`),p.insertAdjacentHTML("afterbegin",u.outerHTML),l.innerHTML=`\n                                    ${p.outerHTML}\n                                    `;const c=e.content.replaceAll(/\n/g,"</br>");if(c.length<500)l.insertAdjacentHTML("beforeend",`<p class=" trustshop trustshop-review--content">\n                                                <span id="content--${e.id}">${c}</span>\n                                            </p>`);else{const t=document.createElement("p");t.classList.add("trustshop","trustshop-review--content"),t.innerHTML=`<span id="content--${e.id}">${c.substring(0,500)}...</span>`;const s=document.createElement("span");s.setAttribute("value","show-more"),s.classList.add("trustshop-button-show-full--review"),s.innerHTML="More",t.appendChild(s),l.appendChild(t),s.addEventListener("click",(t=>{trustshop_widgetreviews.handleShowFullContent(c,e.id,t)}))}e.medias.length>0&&C.show_review_media&&"false"!==C.show_review_media&&l.appendChild(trustshop_reviews.loadingMediaReviews(e));const h=document.createElement("div");if(h.classList.add("review-item-action--field"),!1!==C.button_helpful&&h.appendChild(trustshop_reviews.helpfulBtn(e.id,e.helpful)),!1!==C.button_helpful&&!1!==C.button_report){const e=document.createElement("div");e.classList.add("action-field--divider"),h.appendChild(e)}if(!1!==C.button_report){const t=document.createElement("button");t.classList.add("trustshop-report--btn","trustshop-button"),t.innerHTML=M.text_report?.trim()??w.text_report,t.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.add("trustshop-show--report"),document.querySelector(".trustshop-report--submit").value=e.id})),h.appendChild(t)}if(l.appendChild(h),e.reply){const t=(new TextDecoder).decode(Uint8Array.from(atob(E.reply_name),(e=>e.charCodeAt(0)))),s=document.createElement("div");s.classList.add("trustshop-reply--box"),s.innerHTML=`<div class="reply-box--header"><p class="reply-from">${M.text_reply_from?.trim()??w.text_reply_from} ${E.reply_name&&""!==E.reply_name?t:Shopify.shop.split(".")[0]}</p></div><div class="reply-box--content">${e.reply}</div>`,l.appendChild(s)}return t.appendChild(l),t},loadReview2:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-review-item-type--grid"),t.id=`trustshop-review-id--${e.id}`;const s=document.createElement("div");s.classList.add("trustshop-review-item-grid--content");const o=document.createElement("div");o.classList.add("trustshop","trustshop-review--author");const i=["1abc9c","16a085","c0392b","9b59b6","8e44ad","bdc3c7","34495e","95a5a6","f1c40f","f39c12","2ecc71","27ae60","d35400","3498db","2980b9","e74c3c","ec87bf","d870ad","f69785","9ba37e","b49255","a94136"];var r=i[Math.floor(Math.random()*i.length)];let n=w.anonymous;n=e.customer.name&&""!==e.customer.name&&"Anonymous"!==e.customer.name?e.customer.name:M.anonymous?.trim()??w.anonymous,!1!==C.customer_name&&"false"!==C.customer_name||(n=n.trim().split(/\s+/g).map((e=>e[0]+"*".repeat(e.length-1))).join(" "));const a=n.split(/\s/),d=(a[0]?a[0].slice(0,1):"")+(a[1]?a[1].slice(0,1):"");o.innerHTML=`${C.customer_profile_picture?`<div class=" trustshop trustshop-author--avt"style="background-color: #${r}">\n                                        <p class="trustshop-author-avt--text">${d.toUpperCase()}</p>\n                                    </div>`:""}\n                                    <div class=" trustshop trustshop-author--name">\n                                        <p>${n}</p>\n                                        <div>\n                                            ${!1!==C.review_date?`<div>\n                                                <span class="edit-icon">\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="6" height="4" viewBox="0 0 6 4" fill="none">\n                                                        <g clip-path="url(#clip0_7029_21997)">\n                                                        <path d="M2.63984 3.23203L4.54516 1.75288C4.22459 1.64898 3.93347 1.49717 3.68833 1.3061C3.44209 1.11575 3.24645 0.889667 3.11257 0.640721L1.20725 2.11987C1.05861 2.23526 0.98416 2.29306 0.920272 2.35666C0.844818 2.43171 0.780119 2.51292 0.727319 2.59885C0.682752 2.67165 0.64952 2.74925 0.583055 2.90404L0.232185 3.72061C0.216036 3.758 0.21364 3.79814 0.225267 3.83653C0.236893 3.87492 0.26208 3.91003 0.297998 3.93791C0.333916 3.96579 0.37914 3.98535 0.428587 3.99437C0.478033 4.0034 0.529743 4.00154 0.577903 3.989L1.62974 3.71661C1.82939 3.66501 1.92909 3.63921 2.02286 3.60462C2.13363 3.56362 2.23822 3.51342 2.33483 3.45482C2.41675 3.40522 2.4912 3.34742 2.63984 3.23203ZM5.07378 1.3425C5.26375 1.19501 5.37048 0.994986 5.37048 0.786416C5.37048 0.577845 5.26375 0.377818 5.07378 0.230336C4.88381 0.0828543 4.62615 1.55397e-09 4.35748 0C4.08882 -1.55397e-09 3.83116 0.0828543 3.64119 0.230336L3.41269 0.40773L3.42247 0.429929C3.53508 0.680063 3.71935 0.907092 3.9614 1.0939C4.20923 1.28744 4.51191 1.43331 4.84528 1.51989L5.07378 1.3425Z" fill="#A7ABC3"/>\n                                                        </g>\n                                                        <defs>\n                                                        <clipPath id="clip0_7029_21997">\n                                                            <rect width="5.15246" height="4" fill="white" transform="translate(0.218018)"/>\n                                                        </clipPath>\n                                                        </defs>\n                                                    </svg>\n                                                </span>\n                                                <span class=" trustshop trustshop-post-time">\n                                                    ${M.text_review_on?.trim()??w.text_review_on}  \n                                                    ${new Date(e.created_at).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}\n                                                </span>\n                                            </div>`:""}\n                                        </div>\n                                    </div>`,s.insertAdjacentHTML("afterbegin",o.outerHTML);const l=document.createElement("div");l.classList.add("trustshop","trustshop-review--rating");const p=document.createElement("p");p.classList.add("trustshop","trustshop-stars"),p.insertAdjacentHTML("beforeend",`\n                ${trustshop_reviews.ratingStar(e.star,y.star_icon_color).outerHTML}\n        ${e.title}\n    `),l.insertAdjacentHTML("afterbegin",p.outerHTML),s.insertAdjacentHTML("beforeend",`\n                ${l.outerHTML}\n            `);const u=e.content.replaceAll(/\n/g,"</br>");if(u.length<250)s.insertAdjacentHTML("beforeend",`<p class=" trustshop trustshop-review--content">\n                                                <span id="content--${e.id}">${u}</span>\n                                            </p>`);else{const t=document.createElement("p");t.classList.add("trustshop","trustshop-review--content"),t.innerHTML=`<span id="content--${e.id}">${u.substring(0,250)}...</span>`;const o=document.createElement("span");o.setAttribute("value","show-more"),o.classList.add("trustshop-button-show-full--review"),o.innerHTML="More",t.appendChild(o),s.appendChild(t),o.addEventListener("click",(t=>{trustshop_widgetreviews.handleShowFullContent(u,e.id,t)}))}e.medias.length>0&&C.show_review_media&&"false"!==C.show_review_media&&s.appendChild(trustshop_reviews.loadingMediaReviews(e));const c=document.createElement("div");if(c.classList.add("review-item-action--field"),!1!==C.button_helpful&&c.appendChild(trustshop_reviews.helpfulBtn(e.id,e.helpful)),!1!==C.button_helpful&&!1!==C.button_report){const e=document.createElement("div");e.classList.add("action-field--divider"),c.appendChild(e)}const h=document.createElement("button");if(h.classList.add("trustshop-report--btn","trustshop-button"),!1!==C.button_report&&(h.innerHTML=M.text_report?.trim()??w.text_report,h.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.add("trustshop-show--report"),document.querySelector(".trustshop-report--submit").value=e.id})),c.appendChild(h)),s.appendChild(c),e.reply){const t=(new TextDecoder).decode(Uint8Array.from(atob(E.reply_name),(e=>e.charCodeAt(0)))),o=document.createElement("div");o.classList.add("trustshop-reply--box"),o.innerHTML=`<div class="reply-box--header"><p class="reply-from">${M.text_reply_from?.trim()??w.text_reply_from} ${E.reply_name&&""!==E.reply_name?t:Shopify.shop.split(".")[0]}</p></div><div class="reply-box--content">${e.reply}</div>`,s.appendChild(o)}return t.appendChild(s),t},loadReviewList1:(e,t)=>{const s=document.createElement("div");return s.classList.add("trustshop","trustshop-review--container"),s.id="trustshop-review--container",document.getElementById("trustshop-review").appendChild(s),e.forEach(((e,t)=>{s.appendChild(trustshop_reviews.loadReview1(e))})),t&&s.appendChild(trustshop_reviews.loadMoreBtn(t)),s},loadReviewList2:(e,t)=>{const s=document.createElement("div");s.classList.add("trustshop","trustshop-review-container-type--grid");const o=document.createElement("div");return o.classList.add("trustshop-review--list","trustshop-review-list--grid"),s.appendChild(o),s.id="trustshop-review--container",document.getElementById("trustshop-review").appendChild(s),e.forEach(((e,t)=>{o.appendChild(trustshop_reviews.loadReview2(e))})),t&&s.appendChild(trustshop_reviews.loadMoreBtn(t)),s},reviewForm:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-form-review--container"),t.addEventListener("click",(e=>{trustshop_widgetreviews.handleShowDisplayNameOption(e,!1)})),t.id="trustshop-form-review--container",t.setAttribute("tabindex","0"),t.style.outline="none";const s=document.createElement("div");s.id="trustshop-review--wrap";const o=document.createElement("div");o.classList.add("trustshop","trustshop-form-review--field");const i=document.createElement("form");i.classList.add("trustshop","trustshop-form--review"),i.id="trustshop-form--review",i.setAttribute("onclick"," ");const r=document.createElement("div");r.classList.add("trustshop-form-review--header"),r.innerHTML=`<p class="trustshop trustshop-form-review-header--title">${M.modal_write_title?.trim()??w.modal_write_title}</p>`;const n=document.createElement("button");n.classList.add("trustshop-button","trustshop-close-form--review"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">\n                                    <path d="M1.5 15L0 13.5L6 7.5L0 1.5L1.5 0L7.5 6L13.5 0L15 1.5L9 7.5L15 13.5L13.5 15L7.5 9L1.5 15Z" fill="#3D4153"/>\n                                </svg>',n.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.showFormWriteReview("back")})),r.appendChild(n),i.appendChild(r);const a=document.createElement("div");a.classList.add("trustshop-form-avg-star--rating");const d=Math.trunc(e.average_review);for(let t=1;t<=5;t++)t<=d?a.insertAdjacentHTML("beforeend",`<svg\n                        class="trustshop-form-avg-star--item"\n                        xmlns="http://www.w3.org/2000/svg"\n                        width="20"\n                        height="20"\n                        viewBox="0 0 20 20"\n                        fill="none">\n                        <defs>\n                            <linearGradient\n                                id="star${t}"\n                                y2="0%"\n                                x2="100%"\n                                y1="0%"\n                                x1="0%">\n                                <stop\n                                    id="stop-before--${t}"\n                                    offset="0"\n                                    stop-color="${y.star_icon_color&&""!==y.star_icon_color?y.star_icon_color:g.star_icon_color}" />\n                                <stop\n                                    id="stop-after--${t}"\n                                    offset="0"\n                                    stop-color="${y.star_icon_color&&""!==y.star_icon_color?y.star_icon_color:g.star_icon_color}" />\n                            </linearGradient>\n                        </defs>\n                        <path\n                            fill-rule="evenodd"\n                            clip-rule="evenodd"\n                            d="M7.99011 1.17108C8.33623 0.358628 9.4886 0.360834 9.8316 1.1746L11.6061 5.38474C11.7467 5.71811 12.0563 5.94959 12.4158 5.99006L16.8555 6.48984C17.7018 6.58511 18.0493 7.62719 17.4295 8.21131L14.038 11.4075C13.7869 11.6441 13.6756 11.9934 13.7433 12.3317L14.6704 16.9603C14.8416 17.8149 13.9137 18.4642 13.1694 18.0106L9.40232 15.7147C9.08396 15.5207 8.68409 15.5198 8.36494 15.7126L4.58868 17.9931C3.84272 18.4436 2.91758 17.7908 3.09195 16.937L4.03672 12.311C4.10574 11.973 3.99574 11.6234 3.74567 11.3858L0.366402 8.17576C-0.251151 7.58913 0.100579 6.54833 0.947391 6.45656L5.38772 5.97538C5.7475 5.9364 6.05815 5.70607 6.19998 5.37313L7.99011 1.17108Z"\n                            fill="url(#star${t})" />\n                    </svg>`):t===d+1?a.insertAdjacentHTML("beforeend",`<svg\n                        class="trustshop-form-avg-star--item"\n                        xmlns="http://www.w3.org/2000/svg"\n                        width="20"\n                        height="20"\n                        viewBox="0 0 20 20"\n                        fill="none">\n                        <defs>\n                            <linearGradient\n                                id="star${t}"\n                                y2="0%"\n                                x2="100%"\n                                y1="0%"\n                                x1="0%">\n                                <stop\n                                    id="stop-before--${t}"\n                                    offset="${e.average_review-d}"\n                                    stop-color="${y.star_icon_color&&""!==y.star_icon_color?y.star_icon_color:g.star_icon_color}" />\n                                <stop\n                                    id="stop-after--${t}"\n                                    offset="${e.average_review-d}"\n                                    stop-color="#E2E2E2" />\n                            </linearGradient>\n                        </defs>\n                        <path\n                            fill-rule="evenodd"\n                            clip-rule="evenodd"\n                            d="M7.99011 1.17108C8.33623 0.358628 9.4886 0.360834 9.8316 1.1746L11.6061 5.38474C11.7467 5.71811 12.0563 5.94959 12.4158 5.99006L16.8555 6.48984C17.7018 6.58511 18.0493 7.62719 17.4295 8.21131L14.038 11.4075C13.7869 11.6441 13.6756 11.9934 13.7433 12.3317L14.6704 16.9603C14.8416 17.8149 13.9137 18.4642 13.1694 18.0106L9.40232 15.7147C9.08396 15.5207 8.68409 15.5198 8.36494 15.7126L4.58868 17.9931C3.84272 18.4436 2.91758 17.7908 3.09195 16.937L4.03672 12.311C4.10574 11.973 3.99574 11.6234 3.74567 11.3858L0.366402 8.17576C-0.251151 7.58913 0.100579 6.54833 0.947391 6.45656L5.38772 5.97538C5.7475 5.9364 6.05815 5.70607 6.19998 5.37313L7.99011 1.17108Z"\n                            fill="url(#star${t})" />\n                    </svg>`):a.insertAdjacentHTML("beforeend",`<svg\n                        class="trustshop-form-avg-star--item"\n                        xmlns="http://www.w3.org/2000/svg"\n                        width="20"\n                        height="20"\n                        viewBox="0 0 20 20"\n                        fill="none">\n                        <defs>\n                            <linearGradient\n                                id="star${t}"\n                                y2="0%"\n                                x2="100%"\n                                y1="0%"\n                                x1="0%">\n                                <stop\n                                    id="stop-before--${t}"\n                                    offset="0"\n                                    stop-color="${y.star_icon_color&&""!==y.star_icon_color?y.star_icon_color:g.star_icon_color}" />\n                                <stop\n                                    id="stop-after--${t}"\n                                    offset="0"\n                                    stop-color="#E2E2E2" />\n                            </linearGradient>\n                        </defs>\n                        <path\n                            fill-rule="evenodd"\n                            clip-rule="evenodd"\n                            d="M7.99011 1.17108C8.33623 0.358628 9.4886 0.360834 9.8316 1.1746L11.6061 5.38474C11.7467 5.71811 12.0563 5.94959 12.4158 5.99006L16.8555 6.48984C17.7018 6.58511 18.0493 7.62719 17.4295 8.21131L14.038 11.4075C13.7869 11.6441 13.6756 11.9934 13.7433 12.3317L14.6704 16.9603C14.8416 17.8149 13.9137 18.4642 13.1694 18.0106L9.40232 15.7147C9.08396 15.5207 8.68409 15.5198 8.36494 15.7126L4.58868 17.9931C3.84272 18.4436 2.91758 17.7908 3.09195 16.937L4.03672 12.311C4.10574 11.973 3.99574 11.6234 3.74567 11.3858L0.366402 8.17576C-0.251151 7.58913 0.100579 6.54833 0.947391 6.45656L5.38772 5.97538C5.7475 5.9364 6.05815 5.70607 6.19998 5.37313L7.99011 1.17108Z"\n                            fill="url(#star${t})" />\n                    </svg>`);const l=(new TextDecoder).decode(Uint8Array.from(atob(E.productName),(e=>e.charCodeAt(0)))),p=document.createElement("div");p.classList.add("trustshop-review-form--body"),"square"===q.element_corners&&p.classList.add("trustshop-element-corner--square"),p.innerHTML=`<div class="trustshop trustshop-form-review--product">\n                                        ${C.form_write_review.show_product_image&&"false"!==C.form_write_review.show_product_image?`<div class="trustshop trustshop-form-product--image">\n                                        <img\n                                            src="${E.shopUrl}/cdn/shop/${E.productImage}?width=100"\n                                            alt="${l}"\n                                            width="100%"\n                                            height="100%">\n                                    </div>`:""}\n                                        <div class="trustshop trustshop-form-product--info">\n                                            <p class="trustshop-product--title">${l}</p>\n                                            <div class="trustshop trustshop-star-rating--container">\n                                                <div class="trustshop trustshop-form-stars">\n                                                    <input\n                                                        type="radio"\n                                                        id="trustshop-star-5"\n                                                        class="trustshop trustshop-form-star"\n                                                        name="trustshop-form-stars"\n                                                        value=5 />\n                                                    <label for="trustshop-star-5" class="trustshop-form-star--rating" onclick="">\n                                                        ${B}\n                                                    </label>\n\n                                                    <input\n                                                        type="radio"\n                                                        id="trustshop-star-4"\n                                                        class="trustshop trustshop-form-star"\n                                                        name="trustshop-form-stars"\n                                                        value=4 />\n                                                    <label for="trustshop-star-4" class="trustshop-form-star--rating" onclick="">\n                                                        ${B}\n                                                    </label>\n\n                                                    <input\n                                                        type="radio"\n                                                        id="trustshop-star-3"\n                                                        class="trustshop trustshop-form-star"\n                                                        name="trustshop-form-stars"\n                                                        value=3 />\n                                                    <label for="trustshop-star-3" class="trustshop-form-star--rating" onclick="">\n                                                        ${B}\n                                                    </label>\n\n                                                    <input\n                                                        type="radio"\n                                                        id="trustshop-star-2"\n                                                        class="trustshop trustshop-form-star"\n                                                        name="trustshop-form-stars"\n                                                        value=2 />\n                                                    <label for="trustshop-star-2" class="trustshop-form-star--rating" onclick="">\n                                                        ${B}\n                                                    </label>\n\n                                                    <input\n                                                        type="radio"\n                                                        id="trustshop-star-1"\n                                                        class="trustshop trustshop-form-star"\n                                                        name="trustshop-form-stars"\n                                                        value=1 />\n                                                    <label for="trustshop-star-1" class="trustshop-form-star--rating" onclick="">\n                                                        ${B}\n                                                    </label>\n                                                </div>\n                                                <span class="trustshop-warning" id="trustshop-warning--rating"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                    <path d="M7.00002 3C7.41423 3.00001 7.75001 3.3358 7.75 3.75001L7.74994 7.25001C7.74994 7.66423 7.41414 8.00001 6.99993 8C6.58572 7.99999 6.24994 7.6642 6.24994 7.24999L6.25 3.74999C6.25001 3.33577 6.5858 2.99999 7.00002 3Z" fill="#8E1F0B"></path>\n                                                    <path d="M8 10C8 10.5523 7.55228 11 7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10Z" fill="#8E1F0B"></path>\n                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7Z" fill="#8E1F0B"></path>\n                                                    </svg>\n                                                    \n                                                    ${M.required_input.trim()??w.required_input}</span>\n                                            </div>\n                                            \n                                        </div>\n                                    </div>`;const u=document.createElement("div");u.id="trustshop-form-input-field--name",u.classList.add("trustshop","trustshop-form-input--field");const c=document.createElement("div");if(c.innerHTML=`<p class=" trustshop trustshop-form--label">\n        ${M.modal_review_label_customer_name?.trim()??w.modal_review_label_customer_name}\n        </p>`,"customer"===q.review_name_format_selection){const e=document.createElement("label");e.id="trustshop-name-display--label",e.htmlFor="trustshop-name-display",e.innerHTML=`<label>${M.name_display_format??w.name_display_format}</label><label id="trustshop-name-display--demo">(${x[0].label})</label> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n                                            <path d="M10.8839 4.32315C10.3957 3.83499 9.60427 3.83499 9.11612 4.32315L6.46967 6.96959C6.17678 7.26249 6.17678 7.73736 6.46967 8.03025C6.76256 8.32315 7.23744 8.32315 7.53033 8.03025L10 5.56058L12.4697 8.03025C12.7626 8.32315 13.2374 8.32315 13.5303 8.03025C13.8232 7.73736 13.8232 7.26249 13.5303 6.96959L10.8839 4.32315Z" fill="#4A4A4A"/>\n                                            <path d="M13.5303 13.0304L10.8839 15.6769C10.3957 16.165 9.60427 16.165 9.11612 15.6769L6.46967 13.0304C6.17678 12.7375 6.17678 12.2626 6.46967 11.9697C6.76256 11.6769 7.23744 11.6769 7.53033 11.9697L10 14.4394L12.4697 11.9697C12.7626 11.6769 13.2374 11.6769 13.5303 11.9697C13.8232 12.2626 13.8232 12.7375 13.5303 13.0304Z" fill="#4A4A4A"/>\n                                        </svg>`,e.addEventListener("click",(e=>{trustshop_widgetreviews.handleShowDisplayNameOption(e,!0)}));const t=document.createElement("div");t.id="trustshop-name-display-select--container",x.map(((e,s)=>{const o=document.createElement("div");o.classList.add("trustshop-name-display-select--option"),0===s&&o.classList.add("selected"),o.setAttribute("value",e.value),o.innerHTML=`<p>${e.label}</p>`,o.addEventListener("click",(()=>{trustshop_widgetreviews.handleSelectedDisplayName(e.value,e.label)})),t.appendChild(o)})),e.appendChild(t),c.appendChild(e)}u.appendChild(c);const h=document.createElement("input");h.type="text",h.name="trustshop-review-input--name",h.id="trustshop-review-input--name",h.placeholder=M.modal_review_placeholder_customer_name?M.modal_review_placeholder_customer_name:"",h.addEventListener("input",(()=>{trustshop_widgetreviews.validateInput(h)})),u.appendChild(h),u.insertAdjacentHTML("beforeend",`<span class = "trustshop-warning" id ="trustshop-warning--name" >\n                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M7.00002 3C7.41423 3.00001 7.75001 3.3358 7.75 3.75001L7.74994 7.25001C7.74994 7.66423 7.41414 8.00001 6.99993 8C6.58572 7.99999 6.24994 7.6642 6.24994 7.24999L6.25 3.74999C6.25001 3.33577 6.5858 2.99999 7.00002 3Z" fill="#8E1F0B"/>\n                    <path d="M8 10C8 10.5523 7.55228 11 7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10Z" fill="#8E1F0B"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7Z" fill="#8E1F0B"/>\n                </svg>\n                ${M.required_input?.trim()??w.required_input}\n            </span>\n            `);const m=document.createElement("div");m.id="trustshop-form-input-field--email",m.classList.add("trustshop","trustshop-form-input--field"),m.innerHTML=`<div>\n                                        <p class=" trustshop trustshop-form--label">\n                                        ${M.modal_review_label_customer_email?.trim()??w.modal_review_label_customer_email}\n                                        </p>\n                                    </div>`;const _=document.createElement("input");_.type="text",_.id="trustshop-review-input--email",_.name="trustshop-review-input--email",_.placeholder=M.modal_review_placeholder_customer_email?M.modal_review_placeholder_customer_email:"",_.addEventListener("input",(()=>{trustshop_widgetreviews.validateInput(_)})),m.appendChild(_),m.insertAdjacentHTML("beforeend",`<span class = "trustshop-warning" id ="trustshop-warning--email" ><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M7.00002 3C7.41423 3.00001 7.75001 3.3358 7.75 3.75001L7.74994 7.25001C7.74994 7.66423 7.41414 8.00001 6.99993 8C6.58572 7.99999 6.24994 7.6642 6.24994 7.24999L6.25 3.74999C6.25001 3.33577 6.5858 2.99999 7.00002 3Z" fill="#8E1F0B"/>\n                    <path d="M8 10C8 10.5523 7.55228 11 7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10Z" fill="#8E1F0B"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7Z" fill="#8E1F0B"/>\n                </svg>\n                \n                ${M.required_input?.trim()??w.required_input}\n            </span>`);const v=document.createElement("div");v.classList.add("trustshop-form-info--field"),v.appendChild(u),v.appendChild(m);const f=document.createElement("div");f.id="trustshop-form-input-field--title",f.classList.add("trustshop","trustshop-form-input--field"),f.innerHTML=`<div>\n                                        <p class=" trustshop trustshop-form--label">\n                                        ${M.modal_review_label_review_title?.trim()??w.modal_review_label_review_title}\n                                        </p>\n                                        <span class="trustshop-title-character--remain">\n                                                        <span id="trustshop-title-character--remain" style="margin-right: 2px">100</span>/100\n                                                        </span>\n                                    </div>`;const L=document.createElement("input");L.type="text",L.id="trustshop-review-input--title",L.name="trustshop-review-input--title",L.maxLength="100",L.placeholder=M.modal_review_placeholder_review_title?M.modal_review_placeholder_review_title:"",L.addEventListener("input",(()=>{trustshop_widgetreviews.validateInput(L,!C.form_write_review.required_review_title)})),f.appendChild(L),f.insertAdjacentHTML("beforeend",`<span class = "trustshop-warning" id ="trustshop-warning--title" >\n                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M7.00002 3C7.41423 3.00001 7.75001 3.3358 7.75 3.75001L7.74994 7.25001C7.74994 7.66423 7.41414 8.00001 6.99993 8C6.58572 7.99999 6.24994 7.6642 6.24994 7.24999L6.25 3.74999C6.25001 3.33577 6.5858 2.99999 7.00002 3Z" fill="#8E1F0B"/>\n                    <path d="M8 10C8 10.5523 7.55228 11 7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10Z" fill="#8E1F0B"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7Z" fill="#8E1F0B"/>\n                </svg>\n                \n            ${M.required_input?.trim()??w.required_input}\n            </span>`);const b=document.createElement("div");b.id="trustshop-form-input-field--content",b.classList.add("trustshop","trustshop-form-input--field"),b.innerHTML=`<div>\n                                            <p class=" trustshop trustshop-form--label">\n                                            ${M.modal_review_label_review_content?.trim()??w.modal_review_label_review_content}\n                                            </p>\n                                            <span class="trustshop-content-character--remain">\n                                                        <span id="trustshop-content-character--remain" style="margin-right: 2px">2000</span>/2000\n                                                        </span>\n                                        </div>`,b.addEventListener("keydown",(e=>{e.stopPropagation()}));const $=document.createElement("textarea");$.rows=3,$.maxLength=2e3,$.id="trustshop-review-input--content",$.name="trustshop-review-input--content",$.placeholder=M.modal_review_placeholder_review_content?M.modal_review_placeholder_review_content:"",$.style.resize="none",$.addEventListener("input",(()=>{trustshop_widgetreviews.validateInput($)})),b.appendChild($),b.insertAdjacentHTML("beforeend",`<span class ="trustshop-warning" id="trustshop-warning--content">\n                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M7.00002 3C7.41423 3.00001 7.75001 3.3358 7.75 3.75001L7.74994 7.25001C7.74994 7.66423 7.41414 8.00001 6.99993 8C6.58572 7.99999 6.24994 7.6642 6.24994 7.24999L6.25 3.74999C6.25001 3.33577 6.5858 2.99999 7.00002 3Z" fill="#8E1F0B"/>\n                    <path d="M8 10C8 10.5523 7.55228 11 7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10Z" fill="#8E1F0B"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7Z" fill="#8E1F0B"/>\n                </svg>\n                \n            ${M.required_input?.trim()??w.required_input}\n            </span>`);const I=document.createElement("div");I.classList.add("trustshop-form-review--media");const T=document.createElement("div");T.id="trustshop-form-review-media--container";const H=document.createElement("div");H.id="trustshop-form-review-media--divider";const S=document.createElement("button");S.classList.add("trustshop-add-more--media"),S.id="trustshop-add-more-image--button","square"===q.element_corners&&S.classList.add("trustshop-element-corner--square"),!1!==C.form_write_review.show_add_photo_btn&&"false"!==C.form_write_review.show_add_photo_btn||(S.style.display="none",S.style.visibility="hidden",S.disabled=!0),S.innerHTML=`<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                            <circle cx="20" cy="20" r="20" fill="#F1F1F1"/>\n                                            <path d="M12.4976 24.1729L14.6822 22.057C15.2115 21.5447 15.6998 21.5447 16.2299 22.057C16.451 22.2706 16.6712 22.4859 16.8941 22.6987C17.1604 22.9528 17.3977 22.9528 17.6624 22.6938C19.1005 21.3085 20.5356 19.9218 21.9674 18.5337C22.4984 18.0214 22.9825 18.0206 23.5143 18.5337C24.7829 19.7579 26.0506 20.9824 27.3174 22.2071C27.3712 22.2591 27.4276 22.3086 27.5086 22.3828C27.5138 22.2863 27.5197 22.2178 27.5206 22.1568C27.5206 21.3115 27.5206 20.4662 27.5206 19.621C27.5206 19.1813 27.798 18.8901 28.2087 18.8926C28.6193 18.895 28.8873 19.1887 28.8873 19.6292C28.8873 21.3203 28.8942 23.0114 28.8831 24.7016C28.8831 25.1314 28.8882 25.5769 28.7781 25.9869C28.4298 27.2754 27.2005 28.1465 25.8201 28.1449C22.1208 28.1399 18.4216 28.1344 14.7223 28.1284C14.3057 28.1284 13.8763 28.1391 13.4734 28.0541C12.7694 27.8987 12.1456 27.5062 11.7136 26.947C11.2816 26.3878 11.0696 25.6983 11.1155 25.0019C11.1224 24.8988 11.1275 24.7957 11.1275 24.6926C11.1275 21.8471 11.1275 19.0017 11.1275 16.1563C11.1275 15.6952 11.1036 15.239 11.2521 14.7894C11.4494 14.1862 11.841 13.6596 12.3697 13.2864C12.8984 12.9132 13.5366 12.7129 14.1913 12.7147C16.3961 12.718 18.6008 12.7224 20.8056 12.7279C21.2324 12.7279 21.5235 12.9284 21.5876 13.2567C21.6729 13.6906 21.3562 14.047 20.8713 14.0478C19.5276 14.0478 18.1831 14.0478 16.8386 14.0478C15.9644 14.0478 15.0868 14.0247 14.2152 14.075C13.0653 14.1418 12.5386 14.7077 12.5028 15.8255C12.4899 16.2314 12.4976 16.6372 12.4976 17.0423C12.4976 19.324 12.4976 21.6063 12.4976 23.8891V24.1729Z" fill="#A4A7B0"/>\n                                            <path d="M27.0601 14.9354C27.0601 15.3256 27.0669 15.6952 27.0601 16.0631C27.0551 16.2048 27.0023 16.3411 26.9098 16.4512C26.8172 16.5613 26.69 16.6391 26.5475 16.6729C26.405 16.7067 26.2549 16.6946 26.1201 16.6385C25.9854 16.5823 25.8733 16.4851 25.8009 16.3617C25.7387 16.2323 25.7047 16.0919 25.7011 15.9492C25.6857 15.6341 25.6942 15.3174 25.6917 15.0022C25.6858 14.9797 25.6775 14.9579 25.6669 14.9371C25.3178 14.9371 24.9584 14.942 24.599 14.9371C24.1935 14.9288 23.9024 14.669 23.8853 14.3142C23.8774 14.2267 23.8883 14.1385 23.9174 14.0552C23.9465 13.9719 23.9931 13.8953 24.0542 13.8302C24.1154 13.7651 24.1898 13.713 24.2729 13.677C24.3559 13.6411 24.4457 13.6221 24.5367 13.6213C24.9123 13.6106 25.2879 13.6213 25.684 13.6213C25.6891 13.5306 25.6959 13.4563 25.6959 13.3854C25.6959 13.0901 25.6866 12.7939 25.7019 12.4994C25.7028 12.413 25.7214 12.3277 25.7566 12.2482C25.7918 12.1688 25.843 12.0969 25.9071 12.0367C25.9713 11.9765 26.0471 11.9292 26.1303 11.8974C26.2134 11.8657 26.3023 11.8502 26.3917 11.8519C26.7707 11.8568 27.0541 12.1431 27.061 12.5365C27.0661 12.8319 27.0712 13.128 27.061 13.4225C27.055 13.5809 27.1122 13.623 27.2684 13.6172C27.574 13.6073 27.8796 13.6106 28.1853 13.6172C28.5899 13.6246 28.8861 13.9026 28.8887 14.2689C28.8895 14.3569 28.8721 14.4441 28.8375 14.5255C28.8029 14.6069 28.7518 14.6808 28.6872 14.7428C28.6226 14.8048 28.5458 14.8538 28.4614 14.8867C28.377 14.9196 28.2866 14.9359 28.1955 14.9346C27.8259 14.9437 27.4571 14.9354 27.0601 14.9354Z" fill="#A4A7B0"/>\n                                            <path d="M17.4985 17.7995C17.4961 18.017 17.4271 18.2289 17.3001 18.4084C17.1731 18.588 16.9938 18.7271 16.785 18.8082C16.5762 18.8893 16.3471 18.9088 16.1269 18.8641C15.9066 18.8194 15.705 18.7126 15.5475 18.5573C15.3901 18.4019 15.2838 18.2048 15.2423 17.9911C15.2007 17.7774 15.2256 17.5565 15.3139 17.3565C15.4022 17.1564 15.5499 16.9862 15.7383 16.8673C15.9268 16.7483 16.1474 16.6861 16.3725 16.6884C16.6742 16.6918 16.9621 16.8108 17.1732 17.019C17.3842 17.2273 17.5012 17.508 17.4985 17.7995Z" fill="#A4A7B0"/>\n                                        </svg>\n                                            \n                                    <p>\n                                        <span>${M.modal_review_btn_add_photo??w.modal_review_btn_add_photo}</span>\n                                        <span>(<span id="trustshop-image-remain">5</span>/5</span>)</p>`,S.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.handleAddMedia("image")}));const A=document.createElement("button");A.classList.add("trustshop-add-more--media"),A.id="trustshop-add-more-video--button","square"===q.element_corners&&A.classList.add("trustshop-element-corner--square"),!1!==C.form_write_review.show_add_video_btn&&"false"!==C.form_write_review.show_add_video_btn||(A.style.display="none",A.style.visibility="hidden",A.disabled=!0),A.innerHTML=`<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                            <circle cx="20" cy="20" r="20" fill="#F1F1F1"/>\n                                            <g clip-path="url(#clip0_17066_68367)">\n                                            <path d="M29.0798 19.4138C29.0271 19.9726 28.9905 20.4315 28.9396 20.8894C28.8887 21.3473 28.6003 21.5142 28.1664 21.3357C27.4901 21.0596 26.7634 20.9281 26.0332 20.9494C25.303 20.9708 24.5853 21.1447 23.9262 21.4598C23.2671 21.775 22.6813 22.2245 22.2063 22.7794C21.7313 23.3344 21.3776 23.9825 21.168 24.6823C20.8171 25.8009 20.8721 27.0075 21.3233 28.0896C21.5117 28.543 21.3608 28.8778 20.8162 28.9519C16.2934 29.5687 12.2321 26.9077 10.66 22.9925C9.17974 19.3022 10.2484 14.9095 13.2749 12.3315C15.2462 10.6515 17.5254 9.88559 20.1073 10.0132C24.3034 10.2212 28.0656 13.4946 28.8512 17.6303C28.9682 18.248 29.0164 18.88 29.0798 19.4138ZM17.0603 19.5192H17.0326C17.0326 19.9503 17.0112 20.3832 17.0398 20.8126C17.0519 21.1463 17.1102 21.4768 17.213 21.7945C17.4469 22.4515 18.0325 22.7765 18.7155 22.6506C19.0137 22.594 19.3015 22.4923 19.569 22.3489C20.3642 21.915 21.1492 21.4631 21.9241 20.9929C22.1841 20.8349 22.4183 20.638 22.6187 20.4091C23.0803 19.8735 23.0946 19.1951 22.6375 18.6595C22.4029 18.3922 22.1282 18.1631 21.8233 17.9802C21.109 17.541 20.3752 17.1313 19.6422 16.7234C19.4169 16.5946 19.1772 16.493 18.928 16.4207C18.0807 16.1851 17.4004 16.5716 17.1424 17.4089C17.0967 17.5424 17.0691 17.6814 17.0603 17.8222C17.0531 18.3908 17.0603 18.9541 17.0603 19.5192Z" fill="#A4A7B0"/>\n                                            <path d="M26.1923 22.3758C27.2002 22.3789 28.166 22.7804 28.8788 23.4929C29.5917 24.2053 29.9938 25.1708 29.9973 26.1785C29.9919 28.2691 28.2742 29.9973 26.2003 30C25.6948 30.0083 25.1926 29.9161 24.723 29.7286C24.2535 29.5411 23.8259 29.262 23.4652 28.9078C23.1045 28.5535 22.8178 28.131 22.622 27.6649C22.4261 27.1988 22.3249 26.6984 22.3242 26.1929C22.3236 25.6873 22.4235 25.1867 22.6182 24.7201C22.8128 24.2535 23.0984 23.8303 23.4582 23.4751C23.818 23.1199 24.2448 22.8397 24.7139 22.651C25.183 22.4623 25.6849 22.3687 26.1905 22.3758H26.1923ZM25.4691 25.4564C25.2397 25.4564 25.0335 25.4564 24.8281 25.4564C24.3755 25.4564 24.0478 25.7518 24.0425 26.1607C24.0371 26.5695 24.371 26.8748 24.8156 26.8828C25.0281 26.8828 25.2406 26.8828 25.4691 26.8828C25.4691 27.1283 25.4691 27.3425 25.4691 27.5568C25.4763 28.0094 25.7762 28.3343 26.1834 28.3352C26.5905 28.3361 26.8886 28.0165 26.8976 27.5595C26.8976 27.339 26.8976 27.1185 26.8976 26.8828C27.1511 26.8828 27.3734 26.8873 27.5957 26.8828C27.6925 26.8848 27.7888 26.8671 27.8785 26.8307C27.9683 26.7944 28.0497 26.7401 28.1178 26.6713C28.186 26.6025 28.2394 26.5206 28.2749 26.4305C28.3104 26.3404 28.3272 26.2441 28.3242 26.1473C28.3153 25.7518 28.0002 25.4617 27.5743 25.4581C27.3556 25.4581 27.1359 25.4581 26.8976 25.4581C26.8976 25.2403 26.8976 25.0565 26.8976 24.8717C26.8976 24.3896 26.6155 24.0683 26.1932 24.0683C25.7709 24.0683 25.479 24.3896 25.4718 24.8806C25.4673 25.0645 25.4691 25.2484 25.4691 25.4564Z" fill="#A4A7B0"/>\n                                            </g>\n                                            <defs>\n                                            <clipPath id="clip0_17066_68367">\n                                            <rect width="20" height="20" fill="white" transform="translate(10 10)"/>\n                                            </clipPath>\n                                            </defs>\n                                        </svg>\n                                            \n                                    <p>\n                                        <span>${M.modal_review_btn_add_video??w.modal_review_btn_add_video}</span>\n                                        <span>(<span id="trustshop-video-remain">2</span>/2</span>)</p>\n                                    </p>`,A.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.handleAddMedia("video")})),T.appendChild(H),T.appendChild(S),T.appendChild(A),I.appendChild(T);const F=document.createElement("div");F.id="trustshop-media-upload--state",F.insertAdjacentHTML("beforeend",`<span class ="trustshop-warning" id="trustshop-warning--media">\n            ${M.media_rule_size?.trim()??w.media_rule_size}\n            </span><div id=trustshop-upload-media--loading style="background-color: #3d4153; box-shadow: 0px 0px 3px #3d4153"></div>\n            `);const k=document.createElement("div");k.classList.add("trustshop-form-input--media");const D=document.createElement("input");D.type="file",D.id="trustshop-input--image",D.accept=".png, .jpeg, .bmp",D.name="trustshop-input-image",D.multiple=!0,D.addEventListener("click",(e=>{e.target.value=null})),D.addEventListener("change",(e=>{trustshop_widgetreviews.handleInputMediaChange(e)}));const V=document.createElement("input");V.type="file",V.id="trustshop-input--video",V.accept=".mp4, .mov",V.name="trustshop-input-video",V.addEventListener("click",(e=>{e.target.value=null})),V.addEventListener("change",(e=>{trustshop_widgetreviews.handleInputMediaChange(e)})),k.appendChild(D),k.appendChild(V),p.appendChild(k);const R=document.createElement("div");R.classList.add("trustshop-review-form-action--field");const Z=document.createElement("button");Z.classList.add("trustshop-button"),Z.id="trustshop-review-action--submit",Z.innerHTML=M.modal_review_btn_submit_review?.trim()??w.modal_review_btn_submit_review,Z.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.handleSubmitForm()})),R.appendChild(Z),p.appendChild(f),p.appendChild(b),p.appendChild(I),p.appendChild(F),p.appendChild(v),p.appendChild(R);const U=document.createElement("div");U.id="trustshop-review--success",U.innerHTML=`<div class="trustshop-review--thank">\n                                        <p class="trustshop-review-success--title">\n                                        ${M.modal_success_review_title??w.modal_success_review_title}\n                                        </p>\n                                        <p class="trustshop-review-success--subtitle">\n                                            ${M.modal_success_review_subtitle??w.modal_success_review_subtitle}\n                                        </p>\n                                    </div>\n                                    <div class="trustshop-review-success--icon">\n                                    <div>\n                                        <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                            <circle cx="50" cy="50" r="50" fill="#DDFCD4"/>\n                                            <circle cx="50.0014" cy="49.9981" r="40.7514" fill="#93EB78"/>\n                                            <circle cx="49.9993" cy="49.9999" r="29.1908" fill="#4ACB23"/>\n                                            <path d="M47.3674 52.4034C47.4563 52.2438 47.5595 52.0927 47.6759 51.9518C50.661 48.96 53.6461 45.9714 56.6312 42.9862C57.3854 42.2323 58.265 41.9379 59.3038 42.292C59.6768 42.421 60.0132 42.638 60.2846 42.9245C60.556 43.211 60.7543 43.5586 60.8629 43.938C60.9714 44.3173 60.9869 44.7172 60.9082 45.1038C60.8294 45.4904 60.6586 45.8524 60.4103 46.1591C60.2827 46.3119 60.1465 46.4574 60.0024 46.5947C56.4202 50.1754 52.8341 53.7601 49.244 57.3487C47.9007 58.6915 46.5216 58.6656 45.1863 57.3129C43.4529 55.5544 41.6937 53.8237 39.9623 52.0613C39.5121 51.587 39.2688 50.9533 39.286 50.2997C39.3032 49.6461 39.5794 49.0261 40.0539 48.5761C40.5284 48.126 41.1623 47.8828 41.8161 47.9C42.47 47.9172 43.0903 48.1933 43.5405 48.6676C44.6271 49.7597 45.7296 50.8558 46.8062 51.9399C46.9276 52.0754 47.0406 52.2182 47.1445 52.3676L47.3674 52.4034Z" fill="white"/>\n                                        </svg>\n                                    </div>\n                                </div>\n                                \n                                <div class="trustshop-preview--container"></div>`,U.addEventListener("keydown",(e=>{"Escape"!==e.key&&"Enter"!==e.key||(e.preventDefault(),document.body.style.overflow="unset",document.getElementById("trustshop-form-review--container").classList.remove("show-form-write--review"),document.getElementById("trustshop-confetti--canvas")&&document.getElementById("trustshop-confetti--canvas").remove(),document.getElementById("trustshop-form-review--container").remove(),trustshop_widgetreviews.initReviews("all"))}));const j=document.createElement("button");j.id="trustshop-done--button",j.classList.add("trustshop-button"),j.innerHTML=M.modal_success_review_button?.trim()??w.modal_success_review_button,j.addEventListener("click",(e=>{e.preventDefault(),document.getElementById("trustshop-confetti--canvas")&&document.getElementById("trustshop-confetti--canvas").remove(),document.getElementById("trustshop-form-review--container").classList.remove("show-form-write--review"),document.getElementById("trustshop-form-review--container").remove(),trustshop_widgetreviews.initReviews("all"),document.body.style.overflow="unset",window.confetti.reset()})),U.appendChild(j);const P=document.createElement("div");P.id="trustshop-review--pending",P.innerHTML=`<div class="trustshop-review--thank">\n                                            <p class="trustshop-review-success--title">\n                                                ${M.modal_pending_review_title??w.modal_pending_review_title}\n                                            </p>\n                                            <p class="trustshop-review-success--subtitle">\n                                            ${M.modal_pending_review_subtitle??w.modal_pending_review_subtitle}\n                                        </div>\n                                        <div class="trustshop-review-pending--icon">\n                                    <div>\n                                    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <circle cx="50" cy="50" r="50" fill="#FFFAE8"/>\n                                        <circle cx="50.0014" cy="49.9981" r="40.7514" fill="#FCE79B"/>\n                                        <circle cx="49.9993" cy="49.9999" r="29.1908" fill="#F8C301"/>\n                                        <path d="M47.3674 52.4034C47.4563 52.2438 47.5595 52.0927 47.6759 51.9518C50.661 48.96 53.6461 45.9714 56.6312 42.9862C57.3854 42.2323 58.265 41.9379 59.3038 42.292C59.6768 42.421 60.0132 42.638 60.2846 42.9245C60.556 43.211 60.7543 43.5586 60.8629 43.938C60.9714 44.3173 60.9869 44.7172 60.9082 45.1038C60.8294 45.4904 60.6586 45.8524 60.4103 46.1591C60.2827 46.3119 60.1465 46.4574 60.0024 46.5947C56.4202 50.1754 52.8341 53.7601 49.244 57.3487C47.9007 58.6915 46.5216 58.6656 45.1863 57.3129C43.4529 55.5544 41.6937 53.8237 39.9623 52.0613C39.5121 51.587 39.2688 50.9533 39.286 50.2997C39.3032 49.6461 39.5794 49.0261 40.0539 48.5761C40.5284 48.126 41.1623 47.8828 41.8161 47.9C42.47 47.9172 43.0903 48.1933 43.5405 48.6676C44.6271 49.7597 45.7296 50.8558 46.8062 51.9399C46.9276 52.0754 47.0406 52.2182 47.1445 52.3676L47.3674 52.4034Z" fill="white"/>\n                                    </svg>\n                                    </div>\n                                </div>\n                                <div class="trustshop-preview--container"></div>`,P.addEventListener("keydown",(e=>{"Escape"!==e.key&&"Enter"!==e.key||(document.body.style.overflow="unset",e.preventDefault(),document.getElementById("trustshop-form-review--container").classList.remove("show-form-write--review"),document.getElementById("trustshop-confetti--canvas")&&document.getElementById("trustshop-confetti--canvas").remove(),document.getElementById("trustshop-form-review--container").remove(),trustshop_widgetreviews.initReviews("all"))}));const O=document.createElement("button");return O.id="trustshop-done--button",O.classList.add("trustshop-button"),O.innerHTML=M.modal_pending_review_button?.trim()??w.modal_pending_review_button,O.addEventListener("click",(e=>{e.preventDefault(),document.getElementById("trustshop-confetti--canvas")&&document.getElementById("trustshop-confetti--canvas").remove(),document.getElementById("trustshop-form-review--container").classList.remove("show-form-write--review"),document.getElementById("trustshop-form-review--container").remove(),document.body.style.overflow="unset",trustshop_widgetreviews.initReviews("all")})),P.appendChild(O),i.appendChild(p),o.appendChild(i),o.appendChild(U),o.appendChild(P),s.appendChild(o),t.appendChild(s),t},previewReviewAfterSubmit:e=>{const t=(new TextDecoder).decode(Uint8Array.from(atob(E.productName),(e=>e.charCodeAt(0)))),s=document.createElement("div");s.classList.add("trustshop","trustshop-preview-review--wrap");const o=document.createElement("div");o.classList.add("trustshop","trustshop-preview-review--product"),o.innerHTML=`<div class="trustshop-preview-review-product--image">\n                                        <img\n                                        src="${E.shopUrl}/cdn/shop/${E.productImage}?width=100"\n                                        alt="${t}"\n                                        width="100%"\n                                        height="100%">\n                                </div>`;const i=document.createElement("div");i.classList.add("trustshop","trustshop-preview-review-product--info"),i.innerHTML=`<p class="trustshop-preview-review-product--title">${t}</p>`;const r=document.createElement("div");r.classList.add("trustshop","trustshop-preview-review-product--rating"),[1,2,3,4,5].forEach((t=>{t<=Number(e.star)?r.insertAdjacentHTML("beforeend",'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M19.0767 2.21993C19.4183 1.39864 20.5817 1.39864 20.9233 2.21993L25.0555 12.1549C25.1995 12.5011 25.5251 12.7377 25.8989 12.7677L36.6245 13.6275C37.5112 13.6986 37.8707 14.8051 37.1952 15.3838L29.0234 22.3838C28.7386 22.6277 28.6142 23.0105 28.7012 23.3753L31.1978 33.8417C31.4042 34.7069 30.463 35.3908 29.7039 34.9271L20.5213 29.3184C20.2012 29.1229 19.7988 29.1229 19.4787 29.3184L10.2961 34.9271C9.53702 35.3908 8.59577 34.7069 8.80215 33.8417L11.2988 23.3753C11.3858 23.0105 11.2614 22.6277 10.9766 22.3838L2.80483 15.3838C2.12929 14.8051 2.48882 13.6986 3.37547 13.6275L14.1011 12.7677C14.4749 12.7377 14.8005 12.5011 14.9445 12.1549L19.0767 2.21993Z" fill="var(--trustshop-star-icon-color)"></path>\n                    \n                    </svg>'):r.insertAdjacentHTML("beforeend",'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M19.0767 2.21993C19.4183 1.39864 20.5817 1.39864 20.9233 2.21993L25.0555 12.1549C25.1995 12.5011 25.5251 12.7377 25.8989 12.7677L36.6245 13.6275C37.5112 13.6986 37.8707 14.8051 37.1952 15.3838L29.0234 22.3838C28.7386 22.6277 28.6142 23.0105 28.7012 23.3753L31.1978 33.8417C31.4042 34.7069 30.463 35.3908 29.7039 34.9271L20.5213 29.3184C20.2012 29.1229 19.7988 29.1229 19.4787 29.3184L10.2961 34.9271C9.53702 35.3908 8.59577 34.7069 8.80215 33.8417L11.2988 23.3753C11.3858 23.0105 11.2614 22.6277 10.9766 22.3838L2.80483 15.3838C2.12929 14.8051 2.48882 13.6986 3.37547 13.6275L14.1011 12.7677C14.4749 12.7377 14.8005 12.5011 14.9445 12.1549L19.0767 2.21993Z" fill="#D4D4D4"></path>\n                    \n                    </svg>')})),i.appendChild(r),o.appendChild(i),s.appendChild(o);const n=document.createElement("div");n.classList.add("trustshop","trustshop-preview-review--main"),n.innerHTML=`<p class="trustshop-preview-review--title">\n                ${e.title}\n            </p>\n            <p class="trustshop-preview-review--content">\n                ${e.content.replaceAll("\n","<br>")}\n            </p>`;const a=document.createElement("div");a.classList.add("trustshop","trustshop-preview-review--media"),e.medias.length<=0?a.style.display="none":e.medias.forEach((e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-preview-review-media--item"),"video"===e.type?t.innerHTML=`<img src="${e.video_thumb}" alt="review-media" width="100%" height="100%"/>\n                        <div class="trustshop-overlay trustshop-add-video--overlay">\n                            <svg width="16" height="19" viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                <path d="M13.3389 9.70356L2.28367 3.1338V16.2733L13.3389 9.70356ZM14.8475 8.34551C15.081 8.48247 15.2751 8.68019 15.41 8.91867C15.545 9.15714 15.6161 9.4279 15.6161 9.70356C15.6161 9.97921 15.545 10.25 15.41 10.4884C15.2751 10.7269 15.081 10.9246 14.8475 11.0616L2.72748 18.2655C1.737 18.8548 0.378906 18.1816 0.378906 16.9075V2.49965C0.378906 1.22551 1.737 0.552337 2.72748 1.1416L14.8475 8.34551Z" fill="#E1E2E4"></path>\n                                </svg>\n                            </div>`:t.innerHTML=`<img src="${e.url}/150" alt="review-media" width="100%" height="100%"/>`,a.appendChild(t)})),n.appendChild(a),s.appendChild(n);const d=document.createElement("div");return d.classList.add("trustshop","trustshop-preview-review--footer"),d.innerHTML=`<p class="trustshop-preview-review--name">\n                ${e.name}\n            </p>\n            <p class="trustshop-preview-review--email">\n                ${e.email}</p>`,s.appendChild(d),s},loadingMediaReviews:e=>{const t=document.createElement("div");return t.classList.add("trustshop","trustshop-review--media"),e.medias.length<=0||e.medias.forEach(((s,o)=>{const i=document.createElement("div");if(i.classList.add("trustshop","trustshop-review-media--item","trustshop-media"),"square"===q.element_corners&&i.classList.add("trustshop-element-corner--square"),i.addEventListener("click",(()=>{k=o,trustshop_widgetreviews.modalViewMedia("detail",e.id,E.productId,"video"===s.media_type?s.video_thumb:s.url,s.media_type)})),"video"===s.media_type){const e=document.createElement("img");e.src=`${s.video_thumb}`,e.style.width="100%",e.style.height="100%";const t=document.createElement("video");t.id=`trustshop-video-${s.id}`,t.classList.add("trustshop-review-media--video"),t.poster=s.video_thumb,t.src=s.url,t.style.display="none";const o=document.createElement("div");o.classList.add("trustshop","trustshop-video-overlay","trustshop-overlay"),o.id=`trustshop-video-overlay-${s.id}`,t.addEventListener("loadedmetadata",(()=>{var e=Math.floor(t.duration.toFixed(0)/60),o=Math.floor(t.duration.toFixed(0)%60);o=o>=10?o:"0"+o,trustshop_reviews.widget_container.querySelector(`#trustshop-video-overlay-${s.id}`).innerHTML=`<svg\n                                        width="11"\n                                        height="7"\n                                        viewBox="0 0 11 7"\n                                        fill="none"\n                                        xmlns="http://www.w3.org/2000/svg">\n                                        <path\n                                            fill-rule="evenodd"\n                                            clip-rule="evenodd"\n                                            d="M1.65 0C1.21239 0 0.792709 0.158035 0.483274 0.43934C0.173839 0.720644 0 1.10218 0 1.5V5.5C0 5.89782 0.173839 6.27936 0.483274 6.56066C0.792709 6.84196 1.21239 7 1.65 7H7.15C7.58761 7 8.00729 6.84196 8.31673 6.56066C8.62616 6.27936 8.8 5.89782 8.8 5.5V4.707L10.0611 5.8535C10.1381 5.92341 10.2361 5.97101 10.3427 5.99029C10.4494 6.00958 10.56 5.99967 10.6605 5.96184C10.7609 5.924 10.8468 5.85993 10.9073 5.77773C10.9677 5.69552 11 5.59888 11 5.5V1.5C11 1.40112 10.9677 1.30448 10.9073 1.22227C10.8468 1.14007 10.7609 1.076 10.6605 1.03816C10.56 1.00033 10.4494 0.990424 10.3427 1.00971C10.2361 1.02899 10.1381 1.0766 10.0611 1.1465L8.8 2.293V1.5C8.8 1.10218 8.62616 0.720644 8.31673 0.43934C8.00729 0.158035 7.58761 0 7.15 0H1.65Z"\n                                            fill="white" />\n                                    </svg>\n                                    <p >${e+":"+o}</p>`})),i.appendChild(t),i.appendChild(e),i.insertAdjacentHTML("beforeend",o.outerHTML)}else{const e=document.createElement("img");e.style.width="100%",e.style.height="100%",e.src=trustshop_widgetreviews.handleImageUrl(s.url,"small"),i.insertAdjacentHTML("afterbegin",e.outerHTML)}t.appendChild(i)})),t},helpfulBtn:(e,s,o)=>{const i=document.createElement("button");return i.value=e,i.classList.add("trustshop","trustshop-helpful-btn","trustshop-button"),i.id=`trustshop-helpful-btn--${e}`,i.innerHTML=`\n                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M12.8422 7.34052C13.1047 6.99364 13.25 6.56864 13.25 6.12645C13.25 5.42489 12.8578 4.76083 12.2266 4.39051C12.0641 4.29519 11.879 4.24503 11.6906 4.2452H7.94375L8.0375 2.32489C8.05938 1.86083 7.89531 1.4202 7.57656 1.08426C7.42014 0.918683 7.23141 0.786941 7.02206 0.697179C6.8127 0.607417 6.58716 0.561542 6.35938 0.562389C5.54688 0.562389 4.82813 1.10926 4.6125 1.89208L3.27031 6.75145H3.26563V13.439H10.6453C10.7891 13.439 10.9297 13.4108 11.0594 13.3546C11.8031 13.0374 12.2828 12.3108 12.2828 11.5046C12.2828 11.3077 12.2547 11.114 12.1984 10.9265C12.4609 10.5796 12.6063 10.1546 12.6063 9.71239C12.6063 9.51552 12.5781 9.32176 12.5219 9.13426C12.7844 8.78739 12.9297 8.36239 12.9297 7.9202C12.9266 7.72333 12.8984 7.52802 12.8422 7.34052ZM0.75 7.25145V12.939C0.75 13.2155 0.973438 13.439 1.25 13.439H2.26563V6.75145H1.25C0.973438 6.75145 0.75 6.97489 0.75 7.25145Z" fill="var(--trustshop-primary-text-color)"/>\n                    </svg><span class="helpful-count--${e} helpful-count">(${s})</span>`,i.addEventListener("click",(o=>{o.preventDefault();const i=o.currentTarget;if(!1===i.classList.contains("trustshop-helpful-btn--checked"))window.fetch(`${t}/storefront/helpful`,{method:"POST","Content-Type":"application/json",body:JSON.stringify({review_id:i.value})}).then((e=>e.json())).then((t=>{if(!0===t.status){for(let e of trustshop_reviews.widget_container.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.add("trustshop-helpful-btn--checked"),e.disabled=!0;const t=trustshop_reviews.widget_container.querySelectorAll(`.helpful-count--${e}`);for(item of t)item.innerHTML=`(${s+1})`;for(let e of trustshop_reviews.widget_container.querySelectorAll(`.trustshop-helpful-btn--${i.value}`))e.classList.contains("trustshop--hidden")&&e.classList.remove("trustshop--hidden")}else for(let e of trustshop_reviews.widget_container.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.add("trustshop-helpful-btn--checked"),e.disabled=!0})).catch((e=>{for(let e of trustshop_reviews.widget_container.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.add("trustshop-helpful-btn--checked"),e.disabled=!0})).finally((()=>{trustshop_widgetreviews.handleResizeAllGridItems()}));else{const e=new FormData;e.append("review_id",i.value),window.fetch(`${t}/storefront/unhelpful`,{method:"POST","Content-Type":"application/json",body:e}).then((e=>e.json())).then((e=>{if(!0===e.status)for(let e of trustshop_reviews.widget_container.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.remove("trustshop-helpful-btn--checked")}))}})),i},reportBtn:e=>{const t=document.createElement("div");t.classList.add("trustshop-report--container");const s=document.createElement("button");s.innerHTML=H,s.classList.add("trustshop-close-report--btn"),s.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.remove("trustshop-show--report")})),t.appendChild(s),t.addEventListener("click",(e=>{e.stopPropagation()}));const o=document.createElement("div");o.classList.add("trustshop-report--content"),o.innerHTML=`<p class=" trustshop trustshop-review-header trustshop-title trustshop-report--title ">\n                                        ${M.modal_report_title?.trim()??w.modal_report_title}\n                                    </p>\n                                    <div class="trustshop-report--subtitle">\n                                        ${(()=>{const e=/\{\{\s*([^}\s]+)\s*\}\}/;return M.modal_report_subtitle?M.modal_report_subtitle.match(e)?M.modal_report_subtitle.replace(e,`<b>${Shopify.shop.split(".")[0]}</b>`).replace(/\./,".</br>"):M.modal_report_subtitle.replace(/\./,".</br>"):`<p>\n                Thank you for taking the time to help <b>${Shopify.shop.split(".")[0]}</b>.\n            </p>\n            <p>\n                Your report is anonymous.\n            </p>`})()}\n                                    </div>`;const i=document.createElement("div");i.classList.add("trustshop-report--list");[M.modal_report_option_1?.trim()??w.modal_report_option_1,M.modal_report_option_2?.trim()??w.modal_report_option_2,M.modal_report_option_3?.trim()??w.modal_report_option_3,M.modal_report_option_4?.trim()??w.modal_report_option_4,M.modal_report_option_5?.trim()??w.modal_report_option_5].map(((e,t)=>{const s=document.createElement("label");s.classList.add("trustshop-report--item"),s.innerHTML=`${e}`;const o=document.createElement("input");o.type="radio",o.name="trustshop-report",o.value=e;const r=document.createElement("span");r.classList.add("trustshop-report--checkmark"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">\n                                        <circle cx="4" cy="4" r="4" fill="#696b73"/>\n                                    </svg>',0===t&&(o.checked=!0),s.appendChild(o),s.appendChild(r),i.appendChild(s)}));const r=document.createElement("button");return r.classList.add("trustshop-button","trustshop-report--submit"),r.innerHTML=M.modal_report_btn?.trim()??w.modal_report_btn,r.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.handleReportReview()})),o.appendChild(i),o.appendChild(r),t.appendChild(o),t},loadMoreBtn:e=>{const t=document.createElement("div");t.id="trustshop-loadmore--container";const s=document.createElement("button");return s.classList.add("trustshop","trustshop-button","trustshop-loadmore"),s.innerHTML=M.btn_load_more_review?.trim()??w.btn_load_more_review,s.addEventListener("click",(t=>{t.preventDefault(),trustshop_widgetreviews.loadMoreReview(e)})),t.appendChild(s),t},viewAllMedia:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-view-all--container"),t.setAttribute("product-id",e);const s=document.createElement("div");s.classList.add("trustshop","trustshop-view-all--header");const o=document.createElement("div");o.classList.add("trustshop-all-media--title"),o.innerHTML=`<p class=" trustshop-title">${M.modal_all_media_title??w.modal_all_media_title}</p>`;const i=document.createElement("button");i.innerHTML=H,i.classList.add("trustshop-close-view--btn"),i.addEventListener("click",(e=>{e.preventDefault(),document.body.style.overflow="unset",document.getElementById("trustshop-modal-image--container").classList.add("trustshop--hidden")})),o.appendChild(i),s.appendChild(o);const r=document.createElement("div");r.classList.add("trustshop-view-image--tab");const n=[{label:M.text_all?.trim()??w.text_all,value:"All"},{label:M.text_image?.trim()??w.text_image,value:"Images"},{label:M.text_video?.trim()??w.text_video,value:"Videos"},{label:`${B} 5`,value:"5_star"},{label:`${B} 4`,value:"4_star"},{label:`${B} 3`,value:"3_star"},{label:`${B} 2`,value:"2_star"},{label:`${B} 1`,value:"1_star"}],a=n.findIndex((e=>!0===C.modal_all_medias.filterList[e.value]));return n.map(((e,t)=>{if(C.modal_all_medias.filterList[e.value]&&"false"!==C.modal_all_medias.filterList[e.value]){const s=document.createElement("div");s.classList.add("trustshop-view-image-tab--item",`trustshop-view-image-tab--${e.value}`,"trustshop-button"),a===t&&s.classList.add("tab-active"),s.innerHTML=`<p>${e.label}</p><span class="trustshop-view-image-tab-count--${e.value} trustshop-view-image-tab-count--tab" data-tab=${e.value}></span>`,s.addEventListener("click",(()=>{trustshop_widgetreviews.handleModalImageTab(e.value)})),r.appendChild(s)}})),s.appendChild(r),t.appendChild(s),t.appendChild(trustshop_reviews.viewAllImage()),t},viewImage:(e,s,o,i)=>{const r=document.createElement("div"),n=document.createElement("div");n.classList.add("trustshop","trustshop-view-detail--header");const a=document.createElement("p");a.classList.add("trustshop","trustshop-title-all--media","trustshop-button"),a.innerHTML=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M8.68247 7.8001H16V3.19392C16 1.40366 15.0963 0.5 13.2798 0.5H8.68247V7.8001ZM7.32643 7.8001V0.5H2.72915C0.921458 0.5 0 1.39513 0 3.19392V7.8001H7.32643ZM8.68247 16.4996H13.2798C15.0963 16.4996 16 15.596 16 13.8057V9.1732H8.68247V16.4996ZM2.72915 16.4996H7.32643V9.1732H0.000370781V13.8061C0.000370781 15.6049 0.921458 16.5 2.72952 16.5" fill="#4A4A4A"/>\n            </svg>\n            <span>${M.modal_view_image_text_all_media||w.modal_view_image_text_all_media}</span>`,a.addEventListener("click",(()=>{trustshop_widgetreviews.modalViewMedia("show",null,E.productId,null,null);try{trustshop_reviews.currentVideo&&trustshop_reviews.currentVideo.pause()}catch(e){throw e}})),n.appendChild(a);const d=document.createElement("button");d.classList.add("trustshop-close-view--btn"),d.innerHTML=H,d.addEventListener("click",(e=>{e.preventDefault(),document.body.style.overflow="unset",document.getElementById("trustshop-modal-image--container").classList.add("trustshop--hidden");try{trustshop_reviews.currentVideo&&trustshop_reviews.currentVideo.pause()}catch(e){throw e}})),n.appendChild(d);const l=document.createElement("div");return l.classList.add("trustshop-view-image--body"),l.innerHTML=T,window.fetch(`${t}/storefront/review?review_id=${e}&product_id=${s}`,{method:"GET"}).then((e=>e.json())).then((e=>{if(e.data){if(p=e.data.medias||[],_={..._,detail:{next:e.data.next_id,prev:e.data.previous_id}},l.querySelector(".trustshop-loading").remove(),C.detail.show_review_media&&p.length>0){const t=document.createElement("div");t.classList.add("trustshop-view-image--left");const s=document.createElement("div");s.id="trustshop-view-image--wrap",s.classList.add("trustshop-view-image--wrap");let r=null;t.addEventListener("touchstart",(e=>{r=e.touches[0].clientX})),t.addEventListener("touchend",(e=>{r&&e.changedTouches[0].clientX-r>100&&(trustshop_widgetreviews.swiperViewImage(-1,_.detail.next),r=null),r&&e.changedTouches[0].clientX-r<-100&&(trustshop_widgetreviews.swiperViewImage(1,_.detail.prev),r=null)}));let n=0;if(n="video"===i?e.data.medias.findIndex((e=>e.video_thumb===o)):e.data.medias.findIndex((e=>e.url===o)),n=-1===n?0:n,k=n,"video"===e.data.medias[n].media_type){const t=document.createElement("video");t.id="trustshop-view-video-detail",t.controls=!0,t.autoplay=!0,t.poster=e.data.medias[n].video_thumb,t.style.width="100%",t.style.height="100%",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",t.src=e.data.medias[n].url,t.setAttribute("allowfullscreen","false"),t.classList.add="trustshop-media-view--detail",s.appendChild(t);try{trustshop_reviews.currentVideo=t}catch(e){throw e}}else s.innerHTML=`<img\n                                        src="${trustshop_widgetreviews.handleImageUrl(e.data.medias[n].url,"big")}"\n                                        alt=""\n                                        id="trustshop-media-view--detail"\n                                        width = "100%"\n                                        height ="100%"\n                                        >`;const a=document.createElement("button");a.classList.add("trustshop-button","trustshop-image-swiper--left","trustshop-image--swiper"),_.detail.prev||0!==n||a.classList.add("trustshop--hidden"),a.innerHTML='<span></span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">\n                        <path d="M11.1466 3.89062L12.0631 4.85516L7.21859 9.67786L12.0631 14.5006L11.1466 15.4651L5.2546 9.67786L11.1466 3.89062Z" fill="var(--trustshop-modal-detail-navigator-arrow)"/>\n                    </svg>',a.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.swiperViewImage(-1,_.detail.prev)}));const d=document.createElement("button");d.classList.add("trustshop-button","trustshop-image-swiper--right","trustshop-image--swiper"),_.detail.next||n!==p.length-1||d.classList.add("trustshop--hidden"),d.innerHTML='<span></span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">\n                        <path d="M6.8533 3.89062L5.93677 4.85516L10.7813 9.67786L5.93677 14.5006L6.8533 15.4651L12.7453 9.67786L6.8533 3.89062Z" fill="var(--trustshop-modal-detail-navigator-arrow)"/>\n                    </svg>',d.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.swiperViewImage(1,_.detail.next)})),t.appendChild(a),t.appendChild(d),t.appendChild(s),l.appendChild(t)}const t=document.createElement("div");t.classList.add("trustshop-view-image--right");const s=document.createElement("div");s.setAttribute("data-id",p[0].review_id),s.id="trustshop-view-image--review",(!C.detail.show_review_media||p.length<1)&&(t.style.maxWidth="100%",n.style.width="100%"),s.appendChild(trustshop_widgetreviews.loadReviewViewImage(e.data)),t.appendChild(s),l.appendChild(t)}})).catch((e=>{})),r.appendChild(n),r.appendChild(l),r},viewAllImage:()=>{const e=document.createElement("div");e.classList.add("trustshop-all-media--container");const s=document.createElement("div");s.classList.add("trustshop-all-media--wrap"),s.innerHTML=T,e.appendChild(s),e.addEventListener("scroll",(e=>{e.target.scrollTop+e.target.clientHeight+5>=e.target.scrollHeight&&(e.preventDefault(),_.modal_image.next&&!document.querySelector(".trustshop-all-media--wrap").querySelector(".trustshop-loading")&&trustshop_widgetreviews.handleModalImagePagination(e,_.modal_image.next))}),{passive:!1});const o=Object.keys(C.modal_all_medias.filterList).find((e=>!0===C.modal_all_medias.filterList[e])),i=E.productId;return window.fetch(`${t}/storefront/review-images?product_id=${i}&per_page=24&media_type=${{All:"all",Images:"image",Videos:"video","5_star":"5_star","4_star":"4_star","3_star":"3_star","2_star":"2_star","1_star":"1_star"}[o]||"all"}`,{method:"GET"}).then((e=>e.json())).then((t=>{s.querySelector(".trustshop-loading").remove(),t?t.data.length<1?e.innerHTML=trustshop_reviews.noMedia("all"):(t.next_cursor?_.modal_image.next=2:_.modal_image.next=null,_.modal_image.prev=null,t.data.forEach(((e,t)=>{const o=document.createElement("div");o.classList.add("trustshop","trustshop-media-item--wrap");const r=document.createElement("div");r.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&(o.classList.add("trustshop-element-corner--square"),r.classList.add("trustshop-element-corner--square")),C.image_galley_star_rating&&r.appendChild(trustshop_reviews.allMediaOverlay(e.media_type,e.star)),"video"===e.media_type?(r.classList.add("video"),r.style.backgroundImage=`url(${e.video_thumb})`):(r.classList.add("image"),r.style.backgroundImage=`url(${trustshop_widgetreviews.handleImageUrl(e.url,"medium")})`),r.addEventListener("click",(()=>{trustshop_widgetreviews.modalViewMedia("detail",e.review_id,i,"video"===e.media_type?e.video_thumb:e.url,e.media_type)})),o.appendChild(r),s.appendChild(o)}))):e.innerHTML=trustshop_reviews.noMedia("all")})).catch((t=>{e.innerHTML=trustshop_reviews.noMedia("all")})),e},allMediaOverlay:(e,t)=>{const s=document.createElement("div");if(s.classList.add("trustshop","trustshop-all-media--overlay"),"video"===e&&(s.innerHTML='<div class="trustshop trustshop-video--overlay"> \n                    <svg width="32" height="37" viewBox="0 0 32 37" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M30.384 15.624C30.8744 15.9048 31.2819 16.3101 31.5654 16.799C31.8488 17.2878 31.9981 17.8429 31.9981 18.408C31.9981 18.9731 31.8488 19.5282 31.5654 20.017C31.2819 20.5059 30.8744 20.9112 30.384 21.192L4.932 35.96C2.852 37.168 0 35.788 0 33.176V3.64C0 1.028 2.852 -0.351999 4.932 0.856L30.384 15.624Z" fill="#FAFAFA"/>\n                    </svg>\n                </div>'),C.modal_all_medias.show_star_rating&&"false"!==C.modal_all_medias.show_star_rating){const e=document.createElement("div");e.classList.add("trustshop","trustshop-all-media-rating--overlay"),e.innerHTML=`<span>${t}</span>${trustshop_reviews.ratingStar(t,y.modal_all_medias_star_icon).outerHTML}`,s.appendChild(e)}return s},ratingStar:(e,t,s)=>{const o=document.createElement("span");o.classList.add("trustshop","trustshop-rating-star--container");const i=Math.trunc(e),r=(new DOMParser).parseFromString(B,"image/svg+xml"),n=new XMLSerializer;return[1,2,3,4,5].map(((a,d)=>{const l=window.trustshop_UniqueID.generateUniqueId("rating"),p=r.querySelector("defs");if(a<=i){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                    </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                    </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else if(a===i+1){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`;else{const o=r.createElementNS("http://www.w3.org/2000/svg","defs");o.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`,r.documentElement.appendChild(o)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else{if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}o.insertAdjacentHTML("beforeend",n.serializeToString(r))})),o}},trustshop_reviews.initReviews(1),window.trustshop_widgetreviews={initReviews:async e=>{const s=trustshop_reviews.widget_container;s.innerHTML=T;const o=[`${t}/storefront/summary?product_id=${E.productId}`,`${t}/storefront/review-images?product_id=${E.productId}`,`${t}/storefront/reviews?product_id=${E.productId}&type=${b.length<1?"all":"stars_filter"===b[0]?"5_star":b[0]}&per_page=${m}`],i=Promise.all(o.map(trustshop_reviews.dataFetch)).then((e=>e)).catch((e=>{})),r=await i,n=r[0],a=r[1],d=r[2];a&&a.data.length>0?(l=a.data,_.slide_image=2):_.slide_image=null;const p=trustshop_reviews.loadSummaryBox(n),u=document.createElement("div");if("left"===L?u.classList.add("trustshop-layout-box--left"):u.classList.add("trustshop-layout-box--top"),0===d.data.length)trustshop_reviews.widget_container.querySelector(".trustshop-loading").remove(),s.innerHTML='<span style="display:none"></span>',s.appendChild(trustshop_reviews.noReview());else{trustshop_reviews.widget_container.querySelector(".trustshop-loading").remove(),s.innerHTML='<span style="display:none"></span>',u.appendChild(p);const e=document.createElement("div");e.classList.add("trustshop","trustshop-review--body");const t=document.createElement("div");if(t.classList.add("trustshop","trustshop-review-body--header"),C.show_review_media&&"false"!==C.show_review_media&&t.appendChild(trustshop_reviews.imageFromReview(_.slide_image+1)),t.appendChild(trustshop_reviews.tabFilter(n.stars_review)),e.appendChild(t),d.next_cursor?_.review=2:_.review=null,"grid"===f)e.appendChild(trustshop_reviews.loadReviewList2(d.data,_.review));else e.appendChild(trustshop_reviews.loadReviewList1(d.data,_.review));u.appendChild(e),s.innerHTML=` <p class="trustshop-header--title trustshop trustshop-title">${M.text_customer_reviews?.trim()??w.text_customer_reviews}</p>`,s.appendChild(u),"grid"===f&&trustshop_widgetreviews.handleResizeAllGridItems()}document.body.appendChild(trustshop_reviews.reviewForm(n)),trustshop_widgetreviews.handleSlideImageButton(_.slide_image);const c=document.createElement("div");c.classList.add("trustshop-report--overlay"),c.appendChild(trustshop_reviews.reportBtn()),c.addEventListener("click",(()=>{c.classList.contains("trustshop-show--report")&&c.classList.remove("trustshop-show--report")})),s.appendChild(c)},loadPageReview:e=>{if("grid"===f){const s=trustshop_reviews.widget_container.querySelector("#trustshop-review--container"),o=document.createElement("div");o.classList.add("trustshop-review--list","trustshop-review-list--grid"),s.innerHTML=T,window.fetch(`${t}/storefront/reviews?product_id=${E.productId}&type=${e}&per_page=${m}`,{method:"GET"}).then((e=>e.json())).then((e=>{if(trustshop_reviews.widget_container.querySelector(".trustshop-loading").remove(),e.data.length>=1)e.data.forEach(((e,t)=>{o.appendChild(trustshop_reviews.loadReview2(e))})),s.appendChild(o),e.next_cursor?(_.review=2,s.appendChild(trustshop_reviews.loadMoreBtn(_.review))):_.review=null,trustshop_widgetreviews.handleResizeAllGridItems();else{const e=document.createElement("div");e.classList.add("trustshop-no-review--content"),e.innerHTML='<div class="trustshop-no-review--img">\n                                                        <img\n                                                            src="https://cdn.shopify.com/extensions/1d58b11e-67d4-4759-9832-075599757e1d/0.0.0/assets/trustshop-no-review-img.png?v=1700352987"\n                                                            alt="no review"\n                                                            width="100%"\n                                                            height="100%">\n                                                    </div>',s.appendChild(e)}})).catch((e=>{}))}else{const s=trustshop_reviews.widget_container.querySelector("#trustshop-review--container");s.innerHTML=T,window.fetch(`${t}/storefront/reviews?product_id=${E.productId}&type=${e}&per_page=${m}`,{method:"GET"}).then((e=>e.json())).then((e=>{if(trustshop_reviews.widget_container.querySelector(".trustshop-loading").remove(),e.data.length>=1){if("grid"===f)e.data.forEach(((e,t)=>{s.appendChild(trustshop_reviews.loadReview2(e))}));else e.data.forEach(((e,t)=>{s.appendChild(trustshop_reviews.loadReview1(e))}));e.next_cursor?(_.review=2,s.appendChild(trustshop_reviews.loadMoreBtn(_.review))):_.review=null}else{const e=document.createElement("div");e.classList.add("trustshop-no-review--content"),e.innerHTML='<div class="trustshop-no-review--img">\n                                                        <img\n                                                            src="https://cdn.shopify.com/extensions/1d58b11e-67d4-4759-9832-075599757e1d/0.0.0/assets/trustshop-no-review-img.png?v=1700352987"\n                                                            alt="no review"\n                                                            width="100%"\n                                                            height="100%"/>\n                                                    </div>',s.appendChild(e)}})).catch((e=>{}))}},listMediaReviewViewImage:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-view-image-list--wrap");const s=document.createElement("div");return s.classList.add("trustshop","trustshop-view-image--list"),e.medias.length<=0||(e.medias.forEach(((e,t)=>{const o=document.createElement("div");if(o.classList.add("trustshop","trustshop-view-image--item","trustshop-media"),"square"===q.element_corners&&o.classList.add("trustshop-element-corner--square"),k===t&&o.classList.add("image-item--outline"),o.addEventListener("click",(s=>{s.preventDefault(),k=t,document.querySelector(".image-item--outline").classList.remove("image-item--outline"),o.classList.add("image-item--outline"),trustshop_widgetreviews.handleToogleSwiperBtn(),trustshop_widgetreviews.viewMedia(e.media_type,e.url,e.video_thumb)})),"video"===e.media_type){const t=document.createElement("img");t.src=`${e.video_thumb}`,t.style.width="100%",t.style.height="100%";const s=document.createElement("video");s.id=`trustshop-video-${e.id}`,s.poster=e.video_thumb,s.muted=!0,s.classList.add("trustshop-review-media--video"),s.src=e.url,s.style.display="none";const i=document.createElement("div");i.classList.add("trustshop","trustshop-video-overlay","trustshop-overlay"),i.id=`trustshop-video-overlay-${e.id}`,i.innerHTML='<svg\n                                                    width="11"\n                                                    height="7"\n                                                    viewBox="0 0 11 7"\n                                                    fill="none"\n                                                    xmlns="http://www.w3.org/2000/svg">\n                                                    <path\n                                                        fill-rule="evenodd"\n                                                        clip-rule="evenodd"\n                                                        d="M1.65 0C1.21239 0 0.792709 0.158035 0.483274 0.43934C0.173839 0.720644 0 1.10218 0 1.5V5.5C0 5.89782 0.173839 6.27936 0.483274 6.56066C0.792709 6.84196 1.21239 7 1.65 7H7.15C7.58761 7 8.00729 6.84196 8.31673 6.56066C8.62616 6.27936 8.8 5.89782 8.8 5.5V4.707L10.0611 5.8535C10.1381 5.92341 10.2361 5.97101 10.3427 5.99029C10.4494 6.00958 10.56 5.99967 10.6605 5.96184C10.7609 5.924 10.8468 5.85993 10.9073 5.77773C10.9677 5.69552 11 5.59888 11 5.5V1.5C11 1.40112 10.9677 1.30448 10.9073 1.22227C10.8468 1.14007 10.7609 1.076 10.6605 1.03816C10.56 1.00033 10.4494 0.990424 10.3427 1.00971C10.2361 1.02899 10.1381 1.0766 10.0611 1.1465L8.8 2.293V1.5C8.8 1.10218 8.62616 0.720644 8.31673 0.43934C8.00729 0.158035 7.58761 0 7.15 0H1.65Z"\n                                                        fill="white" />\n                                                </svg>',s.addEventListener("loadedmetadata",(()=>{var t=Math.floor(s.duration.toFixed(0)/60),o=Math.floor(s.duration.toFixed(0)%60);o=o>=10?o:"0"+o,document.querySelector(".trustshop-view-image--list").querySelector(`#trustshop-video-overlay-${e.id}`).insertAdjacentHTML("beforeend",`<p >${t+":"+o}</p>`)})),o.appendChild(s),o.appendChild(t),o.insertAdjacentHTML("beforeend",i.outerHTML)}else{const t=document.createElement("img");t.style.width="100%",t.style.height="100%",t.src=trustshop_widgetreviews.handleImageUrl(e.url,"small"),o.insertAdjacentHTML("afterbegin",t.outerHTML)}s.appendChild(o)})),t.appendChild(s)),t},viewMedia:(e,t,s)=>{const o=document.getElementById("trustshop-view-image--wrap");if(o&&o.firstChild&&o.removeChild(o.firstChild),"video"===e){const e=document.createElement("video");e.controls=!0,e.autoplay=!0,e.poster=s,e.style.width="100%",e.style.height="100%",e.id="trustshop-view-video-detail",e.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",e.src=t,e.setAttribute("allowfullscreen","false"),e.classList.add="trustshop-media-view--detail",o.appendChild(e);try{trustshop_reviews.currentVideo=e}catch(e){throw e}}else o.innerHTML=`<img\n                                src="${trustshop_widgetreviews.handleImageUrl(t,"big")}"\n                                alt=""\n                                id="trustshop-media-view--detail"\n                                width = "100%"\n                                height ="100%"\n                                >`},viewImageReviewAction:e=>{const t=document.createElement("div");if(t.classList.add("review-item-action--field"),!1!==C.button_helpful&&t.appendChild(trustshop_reviews.helpfulBtn(e.id,e.helpful,"viewImage")),!1!==C.button_helpful&&!1!==C.button_report){const e=document.createElement("div");e.classList.add("action-field--divider"),t.appendChild(e)}if(!1!==C.button_report){const s=document.createElement("button");s.classList.add("trustshop-report--btn","trustshop-button"),s.innerHTML=`<svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M9.33464 8.52337C9.44823 8.52331 9.55993 8.49422 9.65912 8.43887C9.75832 8.38352 9.84173 8.30374 9.90143 8.2071C9.96114 8.11047 9.99516 8.00017 10.0003 7.8867C10.0054 7.77322 9.98141 7.66031 9.93064 7.5587L8.74664 5.19003L9.93064 2.82137C9.98141 2.71975 10.0054 2.60685 10.0003 2.49337C9.99516 2.37989 9.96114 2.2696 9.90143 2.17296C9.84173 2.07633 9.75832 1.99655 9.65912 1.9412C9.55993 1.88585 9.44823 1.85676 9.33464 1.8567H2.0013V1.19003C2.0013 1.01322 1.93106 0.843653 1.80604 0.718629C1.68102 0.593605 1.51145 0.523367 1.33464 0.523367C1.15782 0.523367 0.988255 0.593605 0.863231 0.718629C0.738207 0.843653 0.667969 1.01322 0.667969 1.19003V13.19C0.667969 13.3668 0.738207 13.5364 0.863231 13.6614C0.988255 13.7865 1.15782 13.8567 1.33464 13.8567C1.51145 13.8567 1.68102 13.7865 1.80604 13.6614C1.93106 13.5364 2.0013 13.3668 2.0013 13.19V8.52337H9.33464Z" fill="#74788D"/>\n                </svg>\n                <span>${M.text_report??w.text_report}</span>`,s.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.add("trustshop-show--report"),document.querySelector(".trustshop-report--submit").value=e.id})),t.appendChild(s)}return t},loadReviewViewImage:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-review--item"),t.id=`trustshop-review-id--${e.id}`;const s=document.createElement("div");s.classList.add("trustshop","trustshop-review-item--header");const o=document.createElement("div");o.classList.add("trustshop","trustshop-review--author");const i=["1abc9c","16a085","c0392b","9b59b6","8e44ad","bdc3c7","34495e","95a5a6","f1c40f","f39c12","2ecc71","27ae60","d35400","3498db","2980b9","e74c3c","ec87bf","d870ad","f69785","9ba37e","b49255","a94136"];var r=i[Math.floor(Math.random()*i.length)];let n=w.anonymous;n=e.customer.name&&""!==e.customer.name&&"Anonymous"!==e.customer.name?e.customer.name:M.anonymous?.trim()??w.anonymous,!1!==C.customer_name&&"false"!==C.customer_name||(n=n.trim().split(/\s+/g).map((e=>e[0]+"*".repeat(e.length-1))).join(" "));const a=n.split(/\s/),d=(a[0]?a[0].slice(0,1):"")+(a[1]?a[1].slice(0,1):"");o.innerHTML=`${C.customer_profile_picture?`<div class=" trustshop trustshop-author--avt"style="background-color: #${r}">\n                                        <p class="trustshop-author-avt--text">${d.toUpperCase()}</p>\n                                    </div>`:""}\n                                    <div class=" trustshop trustshop-author--name">\n                                        <p>${n}</p>\n                                        <div>\n                                            ${!1!==C.review_date?`<div>\n                                                <span class="edit-icon">\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="6" height="4" viewBox="0 0 6 4" fill="none">\n                                                        <g clip-path="url(#clip0_7029_21997)">\n                                                        <path d="M2.63984 3.23203L4.54516 1.75288C4.22459 1.64898 3.93347 1.49717 3.68833 1.3061C3.44209 1.11575 3.24645 0.889667 3.11257 0.640721L1.20725 2.11987C1.05861 2.23526 0.98416 2.29306 0.920272 2.35666C0.844818 2.43171 0.780119 2.51292 0.727319 2.59885C0.682752 2.67165 0.64952 2.74925 0.583055 2.90404L0.232185 3.72061C0.216036 3.758 0.21364 3.79814 0.225267 3.83653C0.236893 3.87492 0.26208 3.91003 0.297998 3.93791C0.333916 3.96579 0.37914 3.98535 0.428587 3.99437C0.478033 4.0034 0.529743 4.00154 0.577903 3.989L1.62974 3.71661C1.82939 3.66501 1.92909 3.63921 2.02286 3.60462C2.13363 3.56362 2.23822 3.51342 2.33483 3.45482C2.41675 3.40522 2.4912 3.34742 2.63984 3.23203ZM5.07378 1.3425C5.26375 1.19501 5.37048 0.994986 5.37048 0.786416C5.37048 0.577845 5.26375 0.377818 5.07378 0.230336C4.88381 0.0828543 4.62615 1.55397e-09 4.35748 0C4.08882 -1.55397e-09 3.83116 0.0828543 3.64119 0.230336L3.41269 0.40773L3.42247 0.429929C3.53508 0.680063 3.71935 0.907092 3.9614 1.0939C4.20923 1.28744 4.51191 1.43331 4.84528 1.51989L5.07378 1.3425Z" fill="#A7ABC3"/>\n                                                        </g>\n                                                        <defs>\n                                                        <clipPath id="clip0_7029_21997">\n                                                            <rect width="5.15246" height="4" fill="white" transform="translate(0.218018)"/>\n                                                        </clipPath>\n                                                        </defs>\n                                                    </svg>\n                                                </span>\n                                                ${C.detail.show_review_time?`<span class=" trustshop trustshop-post-time">\n                                                ${M.text_review_on?.trim()??w.text_review_on}  \n                                                ${new Date(e.created_at).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}\n                                                </span>`:""}\n                                            </div>`:""}\n                                        </div>\n                                    </div>`;const l=document.createElement("div");l.classList.add("trustshop","trustshop-review--rating");const p=document.createElement("p");p.classList.add("trustshop","trustshop-stars");for(let t=1;t<=e.star;t++)p.insertAdjacentHTML("beforeend",B);for(let t=1;t<=5-e.star;t++)p.insertAdjacentHTML("beforeend",B);l.insertAdjacentHTML("afterbegin",trustshop_reviews.ratingStar(e.star,y.modal_detail_review_star,y.modal_detail_review_star_default).outerHTML),s.insertAdjacentHTML("afterbegin",o.outerHTML),t.insertAdjacentHTML("afterbegin",s.outerHTML);const u=document.createElement("div");u.classList.add("trustshop","trustshop-review-item--middle");const c=e.content.replaceAll(/\n/g,"</br>");u.innerHTML=`\n                                        ${l.outerHTML}\n                                        <p class="review--title">${e.title}</p>\n                                    <p class=" trustshop trustshop-review--content">\n                                        ${c}\n                                    </p>`,t.appendChild(u),t.insertAdjacentHTML("beforeend",`<p class="trustshop-modal-detail-title">${M.modal_image_from_this_review}</p>`),t.appendChild(window.trustshop_widgetreviews.listMediaReviewViewImage(e));E.productName&&(new TextDecoder).decode(Uint8Array.from(atob(E.productName),(e=>e.charCodeAt(0))));return t.insertAdjacentHTML("beforeend",'\n                <hr class="view-image-review--divider" />\n                \n        '),C.detail.show_purchase_items&&t.insertAdjacentHTML("beforeend",`<div class="trustshop-product-container">\n                <p class="trustshop-review-product--title">\n                    ${M.purchased_item??w.purchased_item}:\n                </p>\n                <a href="${E.productUrl}" target="_blank">\n                    <div>\n                        <img\n                        src="${e.featured_image}&width=40"\n                        alt="${e.product_name}"\n                        width="100%"\n                        height="100%"/>\n                    </div>\n                    <div class="trustshop-product--info">\n                        <p class="trustshop-product--name">${e.product_name}</p>\n                        <p class="trustshop-product--price"<span>${E.currencySymbol}${(E.productPrice||e.price)/100..toFixed(2)}</span>${E.productPriceCompare||e.compare_price?`<span>${((E.productPriceCompare||e.compare_price)/100).toFixed(2)}</span>`:""}</p>\n                    </div>\n                </a>\n            </div>`),t.appendChild(window.trustshop_widgetreviews.viewImageReviewAction(e)),t},tabAction:(e,t)=>{const s=trustshop_reviews.widget_container.querySelectorAll(".trustshop-comments-filter--item");for(const e of s)Object.values(s).map((e=>e.classList.remove("trustshop-active")));e?.classList?.add("trustshop-active");const o=e?.value||t;trustshop_reviews.widget_container.querySelector(`.trustshop-score-bar--item[value="${o}"]`)&&(Object.values(trustshop_reviews.widget_container.querySelectorAll(".trustshop-score-bar--item")).map((e=>e.setAttribute("active","false"))),document.querySelector(`.trustshop-score-bar--item[value="${o}"]`).setAttribute("active","true")),trustshop_widgetreviews.loadPageReview(o)},handleModalImageTab:e=>{const s={All:"all",Images:"image",Videos:"video","5_star":"5_star","4_star":"4_star","3_star":"3_star","2_star":"2_star","1_star":"1_star"};document.getElementById("trustshop-no-media--container")&&document.getElementById("trustshop-no-media--container").remove();let o=document.querySelector(".trustshop-all-media--wrap");o||(o=document.createElement("div"),o.classList.add("trustshop-all-media--wrap"),document.querySelector(".trustshop-all-media--container").appendChild(o)),document.querySelectorAll(".trustshop-view-image-tab--item").forEach((e=>{e.classList.remove("tab-active")})),document.querySelector(`.trustshop-view-image-tab--${e}`).classList.add("tab-active"),o.innerHTML=T;const i=E.productId;window.fetch(`${t}/storefront/review-images?product_id=${i}&media_type=${s[e]}&per_page=24`).then((e=>e.json())).then((t=>{t?(o.querySelector(".trustshop-loading").remove(),0===t.data.length?document.querySelector(".trustshop-all-media--container").innerHTML=trustshop_reviews.noMedia(s[e]):(t.next_cursor?_.modal_image.next=2:_.modal_image.next=null,_.modal_image.prev=null,t.data.forEach(((e,t)=>{const s=document.createElement("div");s.classList.add("trustshop","trustshop-media-item--wrap");const r=document.createElement("div");r.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&(s.classList.add("trustshop-element-corner--square"),r.classList.add("trustshop-element-corner--square")),C.image_galley_star_rating&&r.appendChild(trustshop_reviews.allMediaOverlay(e.media_type,e.star)),"video"===e.media_type?(r.classList.add("video"),r.style.backgroundImage=`url(${e.video_thumb})`):(r.classList.add("image"),r.style.backgroundImage=`url(${trustshop_widgetreviews.handleImageUrl(e.url,"medium")}`),r.addEventListener("click",(()=>{trustshop_widgetreviews.modalViewMedia("detail",e.review_id,i,"video"===e.media_type?e.video_thumb:e.url,e.media_type)})),s.appendChild(r),o.appendChild(s)})))):document.querySelector(".trustshop-all-media--container").innerHTML=trustshop_reviews.noMedia(s[e])})).catch((t=>{document.querySelector(".trustshop-all-media--container").innerHTML=trustshop_reviews.noMedia(s[e])}))},handleModalImagePagination:(e,s)=>{const o=document.querySelector(".trustshop-all-media--wrap");o.insertAdjacentHTML("beforeend",T);const i=document.querySelector(".tab-active")?.querySelector(".trustshop-view-image-tab-count--tab")?.getAttribute("data-tab")??"All",r=E.productId;window.fetch(`${t}/storefront/review-images?product_id=${r}&current_page=${s}&per_page=24&media_type=${{All:"all",Images:"image",Videos:"video","5_star":"5_star","4_star":"4_star","3_star":"3_star","2_star":"2_star","1_star":"1_star"}[i]}`).then((e=>e.json())).then((e=>{e&&(o.querySelector(".trustshop-loading").remove(),e.data.forEach(((e,t)=>{const s=document.createElement("div");s.classList.add("trustshop","trustshop-media-item--wrap");const i=document.createElement("div");i.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&(s.classList.add("trustshop-element-corner--square"),i.classList.add("trustshop-element-corner--square")),C.image_galley_star_rating&&i.appendChild(trustshop_reviews.allMediaOverlay(e.media_type,e.star)),"video"===e.media_type?(i.classList.add("video"),i.style.backgroundImage=`url(${e.video_thumb})`):(i.classList.add("image"),i.style.backgroundImage=`url(${trustshop_widgetreviews.handleImageUrl(e.url,"medium")}`),i.addEventListener("click",(()=>{trustshop_widgetreviews.modalViewMedia("detail",e.review_id,"video"===e.media_type?e.video_thumb:e.url,e.media_type)})),s.appendChild(i),o.appendChild(s)})),e.next_cursor?_.modal_image.next?_.modal_image.next=_.modal_image.next+1:_.modal_image.next=2:_.modal_image.next=null)}))},slideImageFromReviews:(e,s,o)=>{const i=trustshop_reviews.widget_container.querySelector(".trustshop-image-review--container"),r=trustshop_reviews.widget_container.querySelector(".trustshop-media--item");let a=0;a=e>0?r.clientWidth+e:-r.clientWidth+e,n.imageFromReview=n.imageFromReview+a,n.imageFromReview>100?(trustshop_reviews.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft=0,n.imageFromReview=0):n.imageFromReview<=-trustshop_reviews.widget_container.querySelector(".trustshop-image-review--list").clientWidth-r.clientWidth+i.clientWidth?s&&null!==s&&""!==s&&!o?(trustshop_reviews.widget_container.querySelector(".trustshop-slide-right").disabled=!0,imageItem=document.createElement("div"),imageItem.classList.add("trustshop","trustshop-media--item","image"),imageItem.id="trustshop-loading--image",imageItem.innerHTML=T,document.querySelector(".trustshop-image-review--list").insertAdjacentHTML("beforeend",imageItem.outerHTML),trustshop_reviews.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft+=r.clientWidth-e,window.fetch(`${t}/storefront/review-images?product_id=${E.productId}&current_page=${s}&per_page=24`,{method:"GET"}).then((e=>e.json())).then((e=>{document.querySelector("#trustshop-loading--image").remove(),e.next_cursor?_.slide_image=_.slide_image+1:_.slide_image=null;if(-1===e.data.findIndex((e=>"image"===e.media_type)))trustshop_reviews.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft=0,n.imageFromReview=-trustshop_reviews.widget_container.querySelector(".trustshop-image-review--list").clientWidth+i.clientWidth;else{l.length;e.data.forEach(((e,t)=>{l.some((t=>JSON.stringify(t)===JSON.stringify(e)))||(l.push(e),imageItem=document.createElement("div"),imageItem.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&imageItem.classList.add("trustshop-element-corner--square"),"video"===e.media_type?(imageItem.classList.add("video"),imageItem.innerHTML=`<img\n                                                                        src="${e.video_thumb}"\n                                                                        width="100%"\n                                                                        height="100%">\n                                                                    <div class=" trustshop trustshop-video-rating">\n                                                                    <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 0C1.65326 0 1.08097 0.203188 0.65901 0.564866C0.237053 0.926542 0 1.41709 0 1.92857V7.07143C0 7.58291 0.237053 8.07346 0.65901 8.43513C1.08097 8.79681 1.65326 9 2.25 9H9.75C10.3467 9 10.919 8.79681 11.341 8.43513C11.7629 8.07346 12 7.58291 12 7.07143V6.05186L13.7197 7.52593C13.8247 7.61581 13.9583 7.67701 14.1037 7.7018C14.2492 7.7266 14.4 7.71386 14.537 7.66522C14.674 7.61657 14.7911 7.5342 14.8736 7.42851C14.956 7.32281 15 7.19856 15 7.07143V1.92857C15 1.80144 14.956 1.67719 14.8736 1.57149C14.7911 1.4658 14.674 1.38343 14.537 1.33478C14.4 1.28614 14.2492 1.2734 14.1037 1.2982C13.9583 1.32299 13.8247 1.3842 13.7197 1.47407L12 2.94814V1.92857C12 1.41709 11.7629 0.926542 11.341 0.564866C10.919 0.203188 10.3467 0 9.75 0H2.25Z" fill="var(--trustshop-secondary-color)"/>\n                                                                    </svg>\n                                                                    ${C.image_galley_star_rating?`<span>★ ${e.star}\n                                                                        </span>`:""}\n                                                                    </div>`):(imageItem.classList.add("image"),imageItem.innerHTML=`<img\n                                                                        src="${trustshop_widgetreviews.handleImageUrl(e.url,"small")}"\n                                                                        width="100%"\n                                                                        height="100%">\n                                                                        ${C.image_galley_star_rating?`<div class=" trustshop trustshop-img-rating">\n                                                                        <span>★ ${e.star}\n                                                                        </span>\n                                                                    </div>`:""}`),imageItem.addEventListener("click",(()=>{trustshop_widgetreviews.modalViewMedia("detail",e.review_id,E.productId,"video"===e.media_type?e.video_thumb:e.url,e.media_type)})),document.querySelector(".trustshop-image-review--list").appendChild(imageItem))}))}})).finally((()=>{trustshop_reviews.widget_container.querySelector(".trustshop-slide-right").disabled=!1}))):o||(trustshop_reviews.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft=0,n.imageFromReview=0):e>0?trustshop_reviews.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft-=r.clientWidth+e:trustshop_reviews.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft+=r.clientWidth-e},showFormWriteReview:e=>{document.body.style.overflow="hidden";const t=document.getElementById("trustshop-form-review--container");setTimeout((()=>{t.focus()})),t.addEventListener("keydown",(e=>{"Escape"===e.key?(document.body.style.overflow="unset",t.classList.remove("show-form-write--review")):"Enter"===e.key&&(e.preventDefault(),trustshop_widgetreviews.handleSubmitForm())})),t.scrollTop=0,"show"===e?(document.body.style.overflow="hidden",t.classList.add("show-form-write--review"),document.getElementById("trustshop-form--review").classList.add("trustshop-show--form"),document.getElementById("trustshop-review--success").classList.remove("trustshop-show-done--popup"),document.getElementById("trustshop-review--pending").classList.remove("trustshop-show-done--popup")):(document.body.style.overflow="unset",t.classList.remove("show-form-write--review"))},handleShowFullContent:(e,t,s)=>{const o=e.replaceAll(/\n/g,"</br>");"show-more"===s.target.getAttribute("value")?(s.target.setAttribute("value","show-less"),trustshop_reviews.widget_container.querySelector(`#content--${t}`).innerHTML=o,s.target.innerHTML="Less","grid"===f&&trustshop_widgetreviews.handleResizeAllGridItems()):(s.target.setAttribute("value","show-more"),s.target.innerHTML="More","grid"===f?(trustshop_reviews.widget_container.querySelector(`#content--${t}`).innerHTML=`${e.substring(0,250).replaceAll(/\n/g,"</br>")}...`,trustshop_widgetreviews.handleResizeAllGridItems()):trustshop_reviews.widget_container.querySelector(`#content--${t}`).innerHTML=`${e.substring(0,500)}...`)},loadMoreReview:e=>{const s=trustshop_reviews.widget_container.querySelector("#trustshop-review--container"),o=trustshop_reviews.widget_container.querySelector("#trustshop-loadmore--container");o.innerHTML=T;const i=trustshop_reviews.widget_container.querySelector(".trustshop-active")?trustshop_reviews.widget_container.querySelector(".trustshop-active").value:trustshop_reviews.widget_container.querySelector('.trustshop-score-bar--item[active="true"]')?.getAttribute("value")||"all";window.fetch(`${t}/storefront/reviews?product_id=${E.productId}&type=${i}&current_page=${e}&per_page=${m}`,{method:"GET"}).then((e=>e.json())).then((e=>{"grid"===f?(e.data.forEach((e=>{document.querySelector(".trustshop-review--list").appendChild(trustshop_reviews.loadReview2(e,!0))})),e.next_cursor?(o.remove(),_.review=_.review+1,s.appendChild(trustshop_reviews.loadMoreBtn(_.review))):(_.review=null,o.remove()),trustshop_widgetreviews.handleResizeAllGridItems()):(e.data.forEach((e=>{s.appendChild(trustshop_reviews.loadReview1(e,!0))})),e.next_cursor?(o.remove(),_.review=_.review+1,s.appendChild(trustshop_reviews.loadMoreBtn(_.review))):(_.review=null,o.remove()))}))},validateInput:(e,t)=>{const s=/^[-!#$%&'*+/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+/0-9=?A-Z^_a-z{|}~])*@[a-zA-Z](-?[a-zA-Z0-9])*(\.[a-zA-Z](-?[a-zA-Z0-9]){1,})+$/,o=e.value,i=e.id.split("trustshop-review-input--")[1];let r=!1;"email"===i&&(s.test(o)||(document.getElementById(`trustshop-warning--${i}`).innerHTML=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M7.00002 3C7.41423 3.00001 7.75001 3.3358 7.75 3.75001L7.74994 7.25001C7.74994 7.66423 7.41414 8.00001 6.99993 8C6.58572 7.99999 6.24994 7.6642 6.24994 7.24999L6.25 3.74999C6.25001 3.33577 6.5858 2.99999 7.00002 3Z" fill="#8E1F0B"/>\n                    <path d="M8 10C8 10.5523 7.55228 11 7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10Z" fill="#8E1F0B"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7Z" fill="#8E1F0B"/>\n                    </svg>\n                    \n                  ${M.required_email?.trim()??w.required_email}`,r=!0,I[i]="")),"title"===i&&(document.getElementById("trustshop-title-character--remain").innerHTML=100-o?.trim().length),"content"===i&&(document.getElementById("trustshop-content-character--remain").innerHTML=2e3-o?.trim().length),["<script>","<link>","<object>","<embed>","&lt;","&#60;","&#x3C;"].forEach((e=>{o.toLowerCase().includes(e)&&(r=!0,document.getElementById(`trustshop-warning--${i}`).innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M7.00002 3C7.41423 3.00001 7.75001 3.3358 7.75 3.75001L7.74994 7.25001C7.74994 7.66423 7.41414 8.00001 6.99993 8C6.58572 7.99999 6.24994 7.6642 6.24994 7.24999L6.25 3.74999C6.25001 3.33577 6.5858 2.99999 7.00002 3Z" fill="#8E1F0B"/>\n                    <path d="M8 10C8 10.5523 7.55228 11 7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10Z" fill="#8E1F0B"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7Z" fill="#8E1F0B"/>\n                    </svg>\n                    *Word not allowed!',document.getElementById(`trustshop-form-input-field--${i}`).classList.add("trustshop-input-validate-error"))})),""!==o?.trim()||t?!0===r?(document.getElementById(`trustshop-warning--${i}`).classList.add("show-trustshop-warning"),I[i]="",document.getElementById(`trustshop-form-input-field--${i}`).classList.add("trustshop-input-validate-error")):(document.getElementById(`trustshop-warning--${i}`).classList.remove("show-trustshop-warning"),I[i]=o,document.getElementById(`trustshop-form-input-field--${i}`).classList.remove("trustshop-input-validate-error")):(document.getElementById(`trustshop-warning--${i}`).innerHTML=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M7.00002 3C7.41423 3.00001 7.75001 3.3358 7.75 3.75001L7.74994 7.25001C7.74994 7.66423 7.41414 8.00001 6.99993 8C6.58572 7.99999 6.24994 7.6642 6.24994 7.24999L6.25 3.74999C6.25001 3.33577 6.5858 2.99999 7.00002 3Z" fill="#8E1F0B"/>\n                <path d="M8 10C8 10.5523 7.55228 11 7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10Z" fill="#8E1F0B"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7Z" fill="#8E1F0B"/>\n                </svg>\n                \n          ${M.required_input?.trim()??w.required_input}`,document.getElementById(`trustshop-warning--${i}`).classList.add("show-trustshop-warning"),I[i]="",document.getElementById(`trustshop-form-input-field--${i}`).classList.add("trustshop-input-validate-error"))},handleAddMedia:e=>{document.getElementById(`trustshop-input--${e}`).click()},handleInputMediaChange:e=>{const t=e.target.files;if("trustshop-input--image"===e.target.id)if(t.length>5-a.length){u+=5-a.length;for(let e=0;e<5-a.length;e++)trustshop_widgetreviews.handleReaderMedia(t[e])}else{u+=t.length;for(const e of t)trustshop_widgetreviews.handleReaderMedia(e)}else{u+=t.length;for(const e of t)trustshop_widgetreviews.handleReaderMedia(e)}document.getElementById("trustshop-review-action--submit").disabled=!0},handleVideoThumb:async(e,t,s,o,i)=>{const r=document.createElement("video"),n=document.createElement("canvas"),a=n.getContext("2d");r.src=URL.createObjectURL(e),r.load(),r.addEventListener("loadeddata",(function(){n.width=r.videoWidth,n.height=r.videoHeight,r.currentTime=(20*r.duration/100).toFixed(2)})),r.addEventListener("seeked",(function(){a.drawImage(r,0,0,n.width,n.height);const d=n.toDataURL("image/webp");r.remove(),n.remove(),trustshop_widgetreviews.handleSaveMedia(e,s,t,"video",o,trustshop_widgetreviews.handleVideoThumbURLToFile(d,i))}))},handleVideoThumbURLToFile:(e,t)=>{const s=e.split(",")[1],o=atob(s),i=new Uint8Array(o.length);for(let e=0;e<o.length;e++)i[e]=o.charCodeAt(e);const r=new Blob([i],{type:"image/webp"});return new File([r],t.split(".")[0].concat(".webp"),{type:"image/webp"})},handleReaderMedia:e=>{const t={size:10485760,type:["image/jpeg","image/png","image/bmp","video/mp4","video/mov"]};if(!!(e.size<t.size&&t.type.includes(e.type))){let t=new FileReader;const s=document.getElementById("trustshop-form-review-media--container");t.readAsDataURL(e),t.addEventListener("loadend",(()=>{if(a.some((e=>e.base64===t.result)))document.getElementById("trustshop-warning--media").innerHTML=`${M.media_upload_duplicate?.trim()??w.media_upload_duplicate}: "${e.name}"`,document.getElementById("trustshop-warning--media").style.display="block",setTimeout((()=>{document.getElementById("trustshop-warning--media").style.display="none"}),4e3),u-=1;else if(c+=.5,t.result.includes("video")){d=[...d,{base64:t.result}];const o=document.createElement("div");o.classList="trustshop-form-review-media--item",o.addEventListener("click",(e=>{trustshop_widgetreviews.handleDeleteFormMedia(o.offsetWidth,o.offsetHeight,o,e)})),document.getElementById("trustshop-upload-media--loading").style.display="block",document.getElementById("trustshop-upload-media--loading").style.width=100*(c/u).toFixed(2)+"%";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.innerHTML=T,o.appendChild(i),s.insertBefore(o,document.getElementById("trustshop-form-review-media--divider")),trustshop_widgetreviews.handleVideoThumb(e,t.result,o,i,e.name),trustshop_widgetreviews.handleFormMediaUI(a,d)}else{a=[...a,{base64:t.result}];const o=document.createElement("div");o.classList="trustshop-form-review-media--item",o.addEventListener("click",(e=>{trustshop_widgetreviews.handleDeleteFormMedia(o.offsetWidth,o.offsetHeight,o,e)}));const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.innerHTML=T,o.appendChild(i),s.insertBefore(o,document.getElementById("trustshop-form-review-media--divider")),trustshop_widgetreviews.handleFormMediaUI(a,d),document.getElementById("trustshop-warning--media").style.display="none",trustshop_widgetreviews.handleFormMediaUI(a,d),document.getElementById("trustshop-upload-media--loading").style.display="block",document.getElementById("trustshop-upload-media--loading").style.width=100*(c/u).toFixed(2)+"%",document.getElementById("trustshop-upload-media--loading").style.width=100*(c/u).toFixed(2)+"%",trustshop_widgetreviews.handleSaveMedia(e,o,t.result,"image",i)}}))}else u-=1,e.size>t.size?document.getElementById("trustshop-warning--media").innerHTML=M.media_rule_size?.trim()??w.media_rule_size:document.getElementById("trustshop-warning--media").innerHTML=M.media_rule_type?.trim()??w.media_rule_type,document.getElementById("trustshop-warning--media").style.display="block",setTimeout((()=>{document.getElementById("trustshop-warning--media").style.display="none"}),3e3)},handleSaveMedia:(e,s,o,i,r,n)=>{const l=new FormData;l.append("shop_id",E.shopId),"video"===i?(l.append("file",e),l.append("video_thumb",n),window.fetch(`${t}/storefront/media`,{method:"POST","Content-Type":"multipart/form-data",body:l}).then((e=>e.json())).then((e=>{const t=d.findIndex((e=>e.base64===o));-1!==t&&(d[t]={...d[t],info:e}),r.remove(),s.insertAdjacentHTML("beforeend",'<div class="trustshop-overlay trustshop-add-video--overlay">\n                            <svg width="16" height="19" viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                <path d="M13.3389 9.70356L2.28367 3.1338V16.2733L13.3389 9.70356ZM14.8475 8.34551C15.081 8.48247 15.2751 8.68019 15.41 8.91867C15.545 9.15714 15.6161 9.4279 15.6161 9.70356C15.6161 9.97921 15.545 10.25 15.41 10.4884C15.2751 10.7269 15.081 10.9246 14.8475 11.0616L2.72748 18.2655C1.737 18.8548 0.378906 18.1816 0.378906 16.9075V2.49965C0.378906 1.22551 1.737 0.552337 2.72748 1.1416L14.8475 8.34551Z" fill="#E1E2E4"/>\n                                </svg>\n                            </div>');const i=document.createElement("video");i.src=`${d[t].base64}`,i.classList="trustshop-form-review-media--video",i.autoplay="true",i.muted="true",i.style.width="100%",i.style.margin="auto",c+=.5,document.getElementById("trustshop-upload-media--loading").style.width=100*(c/u).toFixed(2)+"%",c===u&&setTimeout((()=>{c===u&&(document.getElementById("trustshop-upload-media--loading").style.display="none",c=0,u=0,document.getElementById("trustshop-upload-media--loading").style.width="0%",document.getElementById("trustshop-review-action--submit").disabled=!1)}),500),s.appendChild(i),trustshop_widgetreviews.handleFormMediaUI(a,d)})).catch((e=>{document.getElementById("trustshop-review-action--submit").disabled=!1}))):(l.append("file",e),window.fetch(`${t}/storefront/media`,{method:"POST","Content-Type":"multipart/form-data",body:l}).then((e=>200===e.status?e.json():null)).then((e=>{if(r.remove(),e){const t=a.findIndex((e=>e.base64===o));-1!==t&&(a[t]={...a[t],info:e}),c+=.5,document.getElementById("trustshop-upload-media--loading").style.width=100*(c/u).toFixed(2)+"%",c===u&&setTimeout((()=>{c===u&&(document.getElementById("trustshop-upload-media--loading").style.display="none",c=0,u=0,document.getElementById("trustshop-upload-media--loading").style.width="0%",document.getElementById("trustshop-review-action--submit").disabled=!1)}),500),s.style.backgroundImage=`url("${a[t].base64}")`}else document.getElementById("trustshop-warning--media").innerHTML=M.media_upload_fail?.trim()??w.media_upload_fail,document.getElementById("trustshop-warning--media").style.display="block",c+=.5,document.getElementById("trustshop-upload-media--loading").style.width=100*(c/u).toFixed(2)+"%",c===u&&setTimeout((()=>{c===u&&(document.getElementById("trustshop-upload-media--loading").style.display="none",c=0,u=0,document.getElementById("trustshop-upload-media--loading").style.width="0%",document.getElementById("trustshop-review-action--submit").disabled=!1)}),500),setTimeout((()=>{document.getElementById("trustshop-warning--media").style.display="none"}),3e3),document.getElementById("trustshop-review-action--submit").disabled=!1,s.remove(),a=a.filter((e=>e.base64!==o)),trustshop_widgetreviews.handleFormMediaUI(a,d)})).catch((e=>{document.getElementById("trustshop-upload-media--loading").style.display="none",document.getElementById("trustshop-warning--media").innerHTML=M.media_upload_fail?.trim()??w.media_upload_fail,document.getElementById("trustshop-warning--media").style.display="block",u-=1,c-=.5,setTimeout((()=>{document.getElementById("trustshop-warning--media").style.display="none"}),3e3),s.remove(),a=a.filter((e=>e.base64!==o)),trustshop_widgetreviews.handleFormMediaUI(a,d)})))},handleFormMediaUI:(e,t)=>{const s=document.getElementById("trustshop-add-more-image--button"),o=document.getElementById("trustshop-add-more-video--button");document.getElementById("trustshop-image-remain").innerHTML=5-e.length,document.getElementById("trustshop-video-remain").innerHTML=2-t.length,5===e.length?s.classList.add("trustshop-show-add-more--button"):s.classList.remove("trustshop-show-add-more--button"),2===t.length?o.classList.add("trustshop-show-add-more--button"):o.classList.remove("trustshop-show-add-more--button"),trustshop_widgetreviews.handleShowHideMediaList()},handleShowHideMediaList:()=>{document.getElementById("trustshop-form-review-media--container").classList.add("trustshop-show-media-button--container")},handleDeleteFormMedia:(e,t,s,o)=>{if(o){const t=document.querySelector(".trustshop-form-review-media--item"),i=parseFloat(getComputedStyle(t,":after").width),r=parseFloat(getComputedStyle(t,":after").height),n=o.offsetX,l=o.offsetY;if(n>e-i&&l<r){let e=!1;for(let t=0;t<s.children.length;t++)"VIDEO"===s.children[t].tagName&&(e=!0);if(!0===e)d=[],s.remove();else{const e=getComputedStyle(s).backgroundImage.slice(4,-1).replace(/"/g,"");a=a.filter((t=>t.base64!==e)),s.remove()}trustshop_widgetreviews.handleFormMediaUI(a,d)}}},handleShowDisplayNameOption:(e,t)=>{const s=document.getElementById("trustshop-name-display-select--container");s&&(s.classList.contains("show")||!0!==t?s.classList.contains("show")&&!1===t&&s.classList.remove("show"):(e.stopPropagation(),s.classList.add("show")))},handleSelectedDisplayName:(e,t)=>{I.customer_display_name=e,document.querySelectorAll(".trustshop-name-display-select--option").forEach((e=>{e.classList.remove("selected")})),document.querySelector(`div[value="${e}"]`).classList.add("selected"),document.getElementById("trustshop-name-display--demo").innerHTML=`(${t})`},handleSubmitForm:()=>{document.getElementById("trustshop-review-action--submit").disabled||(document.getElementById("trustshop-review-action--submit").disabled=!0,""===I.name.trim()||""===I.email.trim()||""===I.title.trim()&&C.form_write_review.required_review_title||""===I.content.trim()||!document.querySelector('input[name="trustshop-form-stars"]:checked')?(""===I.name&&(document.getElementById("trustshop-warning--name").classList.add("show-trustshop-warning"),document.getElementById("trustshop-form-input-field--name").classList.add("trustshop-input-validate-error")),""===I.email&&(document.getElementById("trustshop-warning--email").classList.add("show-trustshop-warning"),document.getElementById("trustshop-form-input-field--email").classList.add("trustshop-input-validate-error")),""===I.title&&C.form_write_review.required_review_title&&(document.getElementById("trustshop-warning--title").classList.add("show-trustshop-warning"),document.getElementById("trustshop-form-input-field--title").classList.add("trustshop-input-validate-error")),""===I.content&&(document.getElementById("trustshop-warning--content").classList.add("show-trustshop-warning"),document.getElementById("trustshop-form-input-field--content").classList.add("trustshop-input-validate-error")),document.querySelector('input[name="trustshop-form-stars"]:checked')||document.getElementById("trustshop-warning--rating").classList.add("show-trustshop-warning"),document.getElementById("trustshop-review-action--submit").disabled=!1):I.content.length>2e3?(document.getElementById("trustshop-warning--content").classList.add("show-trustshop-warning"),document.getElementById("trustshop-form-input-field--content").classList.add("trustshop-input-validate-error"),document.getElementById("trustshop-warning--content").innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M7.00002 3C7.41423 3.00001 7.75001 3.3358 7.75 3.75001L7.74994 7.25001C7.74994 7.66423 7.41414 8.00001 6.99993 8C6.58572 7.99999 6.24994 7.6642 6.24994 7.24999L6.25 3.74999C6.25001 3.33577 6.5858 2.99999 7.00002 3Z" fill="#8E1F0B"/>\n                <path d="M8 10C8 10.5523 7.55228 11 7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10Z" fill="#8E1F0B"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7Z" fill="#8E1F0B"/>\n                </svg>\n                \n                            The content field must not be greater than 2000 characters.',document.getElementById("trustshop-review-action--submit").disabled=!1):("merchant"===q.review_name_format_selection&&(I.customer_display_name=q.merchant_selection_format||"first_name_last_name"),document.getElementById("trustshop-review-action--submit").innerHTML=T,a.length>0&&a.forEach((e=>{I.medias.push(e.info)})),d.length>0&&I.medias.push(d[0]?.info),I.star=Number(document.querySelector('input[name="trustshop-form-stars"]:checked').value),window.fetch(`${t}/storefront/reviews`,{method:"POST","Content-Type":"application/json",body:JSON.stringify(I)}).then((e=>e.json())).then((e=>{if(document.getElementById("trustshop-review-action--submit").innerHTML=M.modal_review_btn_submit_review?.trim()??w.modal_review_btn_submit_review,document.getElementById("trustshop-review-action--submit").disabled=!1,e.status){if(document.getElementById("trustshop-form--review").classList.remove("trustshop-show--form"),"approve"===e.data.status){document.getElementById("trustshop-review--success").classList.add("trustshop-show-done--popup"),document.getElementById("trustshop-review--success").setAttribute("tabindex","0"),document.getElementById("trustshop-review--success").style.outline="none",setTimeout((()=>{document.getElementById("trustshop-review--success").focus()}));const e=document.createElement("canvas");e.id="trustshop-confetti--canvas",document.getElementById("trustshop-form-review--container").appendChild(e),window.confetti.create(e,{resize:!0})({particleCount:100,spread:60,origin:{y:1}}),setTimeout((()=>{document.getElementById("trustshop-confetti--canvas").style.display="none"}),3e3)}else document.getElementById("trustshop-review--pending").classList.add("trustshop-show-done--popup"),document.getElementById("trustshop-review--pending").setAttribute("tabindex","0"),document.getElementById("trustshop-review--pending").style.outline="none",setTimeout((()=>{document.getElementById("trustshop-review--pending").focus()}));document.getElementById("trustshop-form--review").reset(),document.querySelectorAll(".trustshop-preview--container").forEach((e=>{e.innerHTML="",e.appendChild(window.trustshop_reviews.previewReviewAfterSubmit(I))})),a=[],d=[],readerImage=[],readerVideo=[],I={name:"",email:"",title:"",content:"",star:"",medias:[],product_id:E.productId,shop_id:E.shopId,customer_display_name:"first_name_last_name"}}document.getElementById("trustshop-review-action--submit").disabled=!1})).catch((e=>{document.getElementById("trustshop-review-action--submit").innerHTML="Submit Review",document.getElementById("trustshop-review-action--submit").disabled=!1}))))},modalViewMedia:(e,t,s,o,i)=>{document.body.style.overflow="hidden";let r=document.getElementById("trustshop-modal-image--container"),n=document.getElementById("trustshop-modal--image");if(n)r.classList.remove("trustshop--hidden");else{r=document.createElement("div"),r.id="trustshop-modal-image--container",n=document.createElement("div"),n.id="trustshop-modal--image",n.classList.add("trustshop-modal--image","trustshop"),r.tabIndex=0,r.style.outline="none";document.createElement("div").class="trustshop-modal-image--wrap",r.addEventListener("keydown",(e=>{e.preventDefault();try{trustshop_reviews.currentVideo&&trustshop_reviews.currentVideo.pause()}catch(e){throw e}"Escape"===e.key&&(trustshop_widgetreviews.modalViewMedia("hide"),document.body.style.overflow="unset"),"ArrowLeft"===e.key&&trustshop_widgetreviews.swiperViewImage(-1,_.detail.prev),"ArrowRight"===e.key&&trustshop_widgetreviews.swiperViewImage(1,_.detail.next)})),r.appendChild(n),document.body.appendChild(r)}switch(e){case"detail":let e=document.getElementById("trustshop-view-detail--container");document.querySelector(".trustshop-view-all--container")&&document.querySelector(".trustshop-view-all--container").classList.add("trustshop--hidden"),e?(e.classList.remove("trustshop--hidden"),e.innerHTML="",e.appendChild(trustshop_reviews.viewImage(t,E.productId,o,i))):(e=document.createElement("div"),e.classList.add("trustshop","trustshop-view-detail--container"),e.id="trustshop-view-detail--container",e.appendChild(trustshop_reviews.viewImage(t,E.productId,o,i)),n.appendChild(e)),setTimeout((()=>{r.focus()}),0);break;case"hide":document.body.style.overflow="unset",r.classList.add("trustshop--hidden");break;default:const a=document.querySelector(".trustshop-view-detail--container"),d=n.querySelector(".trustshop-view-all--container");a&&a.classList.add("trustshop--hidden"),d?(d.classList.remove("trustshop--hidden"),s!==d.getAttribute("product-id")&&(d.remove(),n.appendChild(trustshop_reviews.viewAllMedia(s)))):n.appendChild(trustshop_reviews.viewAllMedia(s))}},handleToogleSwiperBtn:()=>{k-1<0&&!_.detail.prev?document.querySelector(".trustshop-image-swiper--left").classList.add("trustshop--hidden"):document.querySelector(".trustshop-image-swiper--left").classList.contains("trustshop--hidden")&&document.querySelector(".trustshop-image-swiper--left").classList.remove("trustshop--hidden"),k+1>p.length-1&&!_.detail.next?document.querySelector(".trustshop-image-swiper--right").classList.add("trustshop--hidden"):document.querySelector(".trustshop-image-swiper--right").classList.contains("trustshop--hidden")&&document.querySelector(".trustshop-image-swiper--right").classList.remove("trustshop--hidden")},swiperViewImage:(e,t)=>{k+=e;const s=document.querySelectorAll(".trustshop-view-image--item");if(s)for(const e of s)e.classList.remove("image-item--outline");trustshop_widgetreviews.handleToogleSwiperBtn(),k>p.length-1&&t?trustshop_widgetreviews.imageDetailCurrent(t,"first"):k<0&&t?trustshop_widgetreviews.imageDetailCurrent(t,"last"):(s[k].classList.add("image-item--outline"),window.trustshop_widgetreviews.viewMedia(p[k].media_type,p[k].url,p[k].video_thumb))},imageDetailCurrent:(e,s)=>{const o=document.querySelector(".trustshop-view-image--right"),i=document.createElement("div");i.classList.add("trustshop-modal-media--loading"),i.innerHTML=T,o.innerHTML=i.outerHTML;const r=document.getElementById("trustshop-view-image--wrap");r&&r.firstChild&&r.removeChild(r.firstChild);const n=E.productId;window.fetch(`${t}/storefront/review?review_id=${e}&product_id=${n}`,{method:"GET"}).then((e=>e.json())).then((e=>{o.firstElementChild.remove();const t=document.createElement("div");if(t.id="trustshop-view-image--review",t.setAttribute("data-id",e.data.id),e.data)if(k="last"===s?e.data.medias.length-1:0,p=e.data.medias,t.appendChild(trustshop_widgetreviews.loadReviewViewImage(e.data)),o.appendChild(t),_={..._,detail:{prev:e.data.previous_id,next:e.data.next_id}},_.detail.prev||0!==k||document.querySelector(".trustshop-image-swiper--left").classList.add("trustshop--hidden"),_.detail.next||k!==p.length-1||document.querySelector(".trustshop-image-swiper--right").classList.add("trustshop--hidden"),!C.detail.show_review_media||p.length<1)document.querySelector(".trustshop-modal-detail-title").style.display="none",document.querySelector(".trustshop-view-image--right").style.maxWidth="100%",document.querySelector(".trustshop-view-detail--header").style.width="100%",document.querySelector(".trustshop-view-image--left").style.display="none";else if("video"===e.data.medias[k].media_type){const t=document.createElement("video");t.id="trustshop-view-video-detail",t.style.width="100%",t.style.height="100%",t.autoplay=!0,t.controls=!0,t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",t.src=e.data.medias[k].url,t.setAttribute("allowfullscreen","false"),t.classList.add="trustshop-media-view--detail",r.appendChild(t);try{trustshop_reviews.currentVideo=t}catch(e){throw e}}else r.innerHTML=`<img\n                                            src="${trustshop_widgetreviews.handleImageUrl(e.data.medias[k].url,"big")}"\n                                            alt=""\n                                            id="trustshop-media-view--detail"\n                                            width = "100%"\n                                            height ="100%"\n                                            >`})).catch((e=>{}))},viewImageCurrent:(e,t,s)=>{const o=document.querySelectorAll(".trustshop-review-media--item");if(o)for(const e of o)e.classList.remove("image-item--outline");const i=document.getElementById("trustshop-view-image--wrap");if(i&&i.firstChild&&i.removeChild(i.firstChild),"video"===e){const e=l.findIndex((e=>e.video_thumb===t));k=e;const o=document.createElement("video");o.style.width="100%",o.style.height="100%",o.autoplay=!0,o.controls=!0,o.poster=l[e].video_thumb,o.id="trustshop-view-video-detail",o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",o.src=l[e].url,o.setAttribute("allowfullscreen","false"),o.classList.add="trustshop-media-view--detail",i.appendChild(o);try{trustshop_reviews.currentVideo=o}catch(s){throw s}}else{const e=l.findIndex((e=>e.url===t));k=e,i.innerHTML=`<img\n                                src="${trustshop_widgetreviews.handleImageUrl(l[e].url,"big")}"\n                                alt=""\n                                id="trustshop-media-view--detail"\n                                width = "100%"\n                                height ="100%"\n                                >`}},handleImageUrl:(t,s)=>{const o="/"+h[s];return t.includes("http")?t.includes("/public")?t.split("/public").join(o):t.includes("imagedelivery")?t+o:t:e+"/"+t.split("/").slice(0,-1).join("/")+"/small-"+t.split("/").pop()},handleReportReview:()=>{const e=document.querySelector(".trustshop-report--submit").value,s=document.querySelector('input[name="trustshop-report"]:checked').value,o=document.querySelector(".trustshop-report--container"),i=new FormData;i.append("report",s),window.fetch(`${t}/storefront/report/${e}`,{method:"POST",body:i}).then((e=>e.json())).then((e=>{o.innerHTML=`<div class="trustshop-report--finish">\n                                                <div class="trustshop-report-success--icon">\n                                                    <div>\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="166" height="160" viewBox="0 0 166 160" fill="none">\n                                                    <g clip-path="url(#clip0_7029_28838)">\n                                                      <path d="M84.673 159.228C128.785 159.228 164.544 123.792 164.544 80.0806C164.544 36.3689 128.785 0.933594 84.673 0.933594C40.5614 0.933594 4.80176 36.3689 4.80176 80.0806C4.80176 123.792 40.5614 159.228 84.673 159.228Z" fill="#407BFF"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M58.6966 19.5322C58.6966 21.0197 57.4808 22.2245 55.9797 22.2245C54.4785 22.2245 53.2627 21.0197 53.2627 19.5322C53.2627 18.0446 54.4785 16.8398 55.9797 16.8398C57.4808 16.8398 58.6966 18.0446 58.6966 19.5322Z" fill="white"/>\n                                                      <path d="M162.676 49.8438L165.999 51.9931L148.839 78.0456L145.519 75.8962L162.676 49.8438Z" fill="#DE5D1D"/>\n                                                      <path d="M143.645 39.5062L139.681 39.6914L140.719 61.5077L144.683 61.3224L143.645 39.5062Z" fill="#DE5D1D"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M32.3862 86.8171L1.08938 101.445L0 83.9738L9.35047 89.4708L11.5 76.9763L20.3674 84.3464L23.1816 74.0977L32.3862 86.8171Z" fill="#F0C82F"/>\n                                                      <path d="M131.983 133.526C134.758 140.449 131.331 148.321 124.348 151.074C117.361 153.824 109.418 150.431 106.639 143.508C103.86 136.584 107.287 128.713 114.274 125.963C121.261 123.213 129.205 126.605 131.983 133.529V133.526ZM110.196 142.107C112.193 147.087 117.909 149.529 122.934 147.55C127.963 145.57 130.424 139.906 128.426 134.927C126.429 129.943 120.713 127.502 115.688 129.484C110.663 131.463 108.198 137.127 110.196 142.107Z" fill="#91B3FF"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M159.811 87.7704C159.811 89.258 158.595 90.4628 157.094 90.4628C155.593 90.4628 154.377 89.258 154.377 87.7704C154.377 86.2829 155.593 85.0781 157.094 85.0781C158.595 85.0781 159.811 86.2829 159.811 87.7704Z" fill="#F0C82F"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M92.263 148.563C92.263 150.051 91.0472 151.256 89.5461 151.256C88.0449 151.256 86.8291 150.051 86.8291 148.563C86.8291 147.076 88.0449 145.871 89.5461 145.871C91.0472 145.871 92.263 147.076 92.263 148.563Z" fill="#BCCAFC"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M66.3999 -0.000693463C67.4179 0.70612 68.4943 1.22659 69.4248 2.21292C68.0599 3.84823 67.6189 4.90202 65.638 5.78232C64.2341 6.4056 62.707 6.52769 61.2027 6.59195C59.3092 6.67548 57.5746 6.21605 55.7623 7.46582C54.0536 8.64492 53.6484 10.8746 51.7225 12.0858C49.2552 13.6376 46.5869 13.3774 44.3627 13.2681C43.2636 13.2135 42.3623 12.9468 40.9811 13.8753C40.0182 14.5211 39.4703 15.7066 38.65 16.6929C36.5815 19.1668 33.9715 20.5322 30.7715 19.7483C30.8655 18.6238 31.3 17.6022 31.488 16.5098C36.0368 16.6801 36.0789 11.6906 40.3975 9.93324C43.5619 8.64492 47.0927 10.5694 49.6896 8.89551C50.6623 8.26902 51.2394 6.91322 51.8392 6.17428C52.5784 5.26185 53.4182 4.31408 54.5918 3.71329C57.633 2.15187 61.6371 3.83537 64.4221 2.16794C65.3494 1.61213 65.6023 0.837844 66.3999 -0.00390625V-0.000693463Z" fill="#DE5D1D"/>\n                                                      <path d="M66.3037 147.067L59.0869 152.852L64.9247 160.003L72.1416 154.218L66.3037 147.067Z" fill="#DE5D1D"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M160.871 113.361L158.475 119.054L154.698 114.151L150.921 109.249L157.094 108.458L163.267 107.668L160.871 113.361Z" fill="#BCCAFC"/>\n                                                      <path d="M125.274 25.9725L11.0479 40.1914L24.895 149.422L139.121 135.203L125.274 25.9725Z" fill="#222221"/>\n                                                      <path d="M129.885 19.5389L15.6592 33.7578L29.5063 142.989L143.732 128.77L129.885 19.5389Z" fill="#3ACBA8"/>\n                                                      <path d="M32.6805 34.082C30.0187 34.7085 28.0053 35.8876 26.475 37.8313C25.0484 39.6466 24.9544 41.4554 26.1216 42.6505C27.3082 43.8682 28.9552 43.7557 30.8033 42.1975C32.3401 40.9028 33.6694 39.3735 35.6244 38.6313C36.7981 38.1847 37.5762 37.1888 37.333 35.8298C37.0542 34.2651 35.8287 33.886 34.4605 33.8828C33.7699 33.8828 33.0728 34.0338 32.6773 34.0788L32.6805 34.082Z" fill="white"/>\n                                                      <path d="M22.2279 44.4611C20.9408 44.927 20.0168 47.0892 20.4707 48.4771C20.8143 49.5277 21.5762 49.9421 22.6332 49.5823C23.9268 49.1422 24.8055 47.0249 24.3029 45.6402C23.9333 44.625 23.22 44.1977 22.2279 44.4643V44.4611Z" fill="white"/>\n                                                      <path d="M39.353 138.232C36.7236 137.487 34.7653 136.215 33.329 134.203C31.9868 132.324 31.977 130.515 33.1993 129.371C34.4411 128.208 36.0816 128.398 37.8551 130.036C39.3271 131.399 40.585 132.986 42.5077 133.818C43.6586 134.316 44.3914 135.347 44.0866 136.697C43.7364 138.245 42.4947 138.57 41.1265 138.512C40.4359 138.483 39.7486 138.3 39.3563 138.232H39.353Z" fill="white"/>\n                                                      <path d="M80.7888 124.485L39.3926 83.933L49.4045 73.8962L76.9533 100.887L105.381 45.6719L118.064 52.0846L80.7888 124.485Z" fill="white"/>\n                                                      <path d="M138.957 5.46044L74.8526 13.4988C70.2714 14.0739 67.0324 18.2184 67.6095 22.7549L69.1658 34.9249C69.7429 39.4646 73.9286 42.6774 78.5065 42.1023L79.7224 41.9481L81.6061 56.4088L90.2822 40.6244L142.611 34.0639C147.189 33.4888 150.431 29.3443 149.854 24.8046L148.301 12.6346C147.721 8.09493 143.538 4.88214 138.96 5.45723L138.957 5.46044Z" fill="#FFD32B"/>\n                                                      <path d="M76.3598 37.0385C77.527 36.8843 78.1949 36.7976 79.08 36.6851L81.45 36.3831C86.5306 35.7309 90.1261 31.1013 89.4647 26.0701C88.7936 20.9521 84.2221 17.463 79.0573 18.1281L73.9606 18.7835C73.1565 18.8863 72.5892 19.6188 72.6929 20.4124L74.7063 35.7855C74.7549 36.1647 74.9592 36.5149 75.2672 36.7526C75.5784 36.9871 75.961 37.0899 76.3533 37.0417L76.3598 37.0385ZM77.433 33.9671L75.7957 21.4822L79.4366 21.0132C83.029 20.5505 86.0896 22.8862 86.5565 26.446C87.0072 29.8901 84.5463 33.0547 81.074 33.5013L77.433 33.9671Z" fill="#222221"/>\n                                                      <path d="M101.678 33.8058C96.5944 34.4612 91.9224 30.895 91.261 25.8574C90.5996 20.8197 94.1984 16.1901 99.2821 15.5347C104.366 14.8793 109.038 18.4455 109.699 23.4831C110.361 28.5208 106.762 33.1504 101.678 33.8058ZM99.6615 18.4166C96.1794 18.8631 93.7153 22.0342 94.1692 25.4847C94.6199 28.9352 97.8199 31.3769 101.302 30.9271C104.784 30.4806 107.248 27.3095 106.794 23.859C106.344 20.4085 103.144 17.9668 99.6615 18.4166Z" fill="#222221"/>\n                                                      <path d="M126.834 30.5691C126.406 30.6237 125.965 30.4888 125.637 30.1836L113.959 19.228L115.444 30.5723C115.548 31.3691 114.984 32.0952 114.179 32.198C113.375 32.3008 112.643 31.7386 112.539 30.945L110.522 15.5557C110.441 14.9453 110.759 14.3542 111.31 14.0746C111.861 13.7983 112.532 13.8915 112.983 14.3156L124.665 25.2712L123.18 13.9269C123.076 13.1301 123.64 12.404 124.444 12.3012C125.248 12.1984 125.981 12.7606 126.085 13.5542L128.101 28.9434C128.182 29.5539 127.865 30.145 127.314 30.4245C127.161 30.5016 127.002 30.5498 126.837 30.5691H126.834Z" fill="#222221"/>\n                                                      <path d="M143.343 20.6206C144.147 20.5178 144.711 19.7885 144.608 18.995C144.504 18.1982 143.768 17.6392 142.967 17.742L132.177 19.1299L131.545 14.3139L142.335 12.926C143.139 12.8232 143.703 12.0939 143.599 11.3003C143.496 10.5036 142.76 9.94453 141.959 10.0473L129.716 11.6216C128.912 11.7244 128.348 12.4537 128.452 13.2473L130.468 28.6365C130.572 29.4333 131.308 29.9923 132.109 29.8895L144.351 28.3152C145.156 28.2124 145.72 27.4831 145.616 26.6896C145.512 25.896 144.776 25.3338 143.975 25.4366L133.185 26.8245L132.553 22.0085L143.343 20.6206Z" fill="#222221"/>\n                                                      <path d="M138.957 5.46044L74.8526 13.4988C70.2714 14.0739 67.0324 18.2184 67.6095 22.7549L69.1658 34.9249C69.7429 39.4646 73.9286 42.6774 78.5065 42.1023L79.7224 41.9481L81.6061 56.4088L90.2822 40.6244L142.611 34.0639C147.189 33.4888 150.431 29.3443 149.854 24.8046L148.301 12.6346C147.721 8.09493 143.538 4.88214 138.96 5.45723L138.957 5.46044Z" fill="#FFD32B"/>\n                                                      <path d="M76.3598 37.0385C77.527 36.8843 78.1949 36.7976 79.08 36.6851L81.45 36.3831C86.5306 35.7309 90.1261 31.1013 89.4647 26.0701C88.7936 20.9521 84.2221 17.463 79.0573 18.1281L73.9606 18.7835C73.1565 18.8863 72.5892 19.6188 72.6929 20.4124L74.7063 35.7855C74.7549 36.1647 74.9592 36.5149 75.2672 36.7526C75.5784 36.9871 75.961 37.0899 76.3533 37.0417L76.3598 37.0385ZM77.433 33.9671L75.7957 21.4822L79.4366 21.0132C83.029 20.5505 86.0896 22.8862 86.5565 26.446C87.0072 29.8901 84.5463 33.0547 81.074 33.5013L77.433 33.9671Z" fill="#222221"/>\n                                                      <path d="M101.678 33.8058C96.5944 34.4612 91.9224 30.895 91.261 25.8574C90.5996 20.8197 94.1984 16.1901 99.2821 15.5347C104.366 14.8793 109.038 18.4455 109.699 23.4831C110.361 28.5208 106.762 33.1504 101.678 33.8058ZM99.6615 18.4166C96.1794 18.8631 93.7153 22.0342 94.1692 25.4847C94.6199 28.9352 97.8199 31.3769 101.302 30.9271C104.784 30.4806 107.248 27.3095 106.794 23.859C106.344 20.4085 103.144 17.9668 99.6615 18.4166Z" fill="#222221"/>\n                                                      <path d="M126.834 30.5691C126.406 30.6237 125.965 30.4888 125.637 30.1836L113.959 19.228L115.444 30.5723C115.548 31.3691 114.984 32.0952 114.179 32.198C113.375 32.3008 112.643 31.7386 112.539 30.945L110.522 15.5557C110.441 14.9453 110.759 14.3542 111.31 14.0746C111.861 13.7983 112.532 13.8915 112.983 14.3156L124.665 25.2712L123.18 13.9269C123.076 13.1301 123.64 12.404 124.444 12.3012C125.248 12.1984 125.981 12.7606 126.085 13.5542L128.101 28.9434C128.182 29.5539 127.865 30.145 127.314 30.4245C127.161 30.5016 127.002 30.5498 126.837 30.5691H126.834Z" fill="#222221"/>\n                                                      <path d="M143.343 20.6206C144.147 20.5178 144.711 19.7885 144.608 18.995C144.504 18.1982 143.768 17.6392 142.967 17.742L132.177 19.1299L131.545 14.3139L142.335 12.926C143.139 12.8232 143.703 12.0939 143.599 11.3003C143.496 10.5036 142.76 9.94453 141.959 10.0473L129.716 11.6216C128.912 11.7244 128.348 12.4537 128.452 13.2473L130.468 28.6365C130.572 29.4333 131.308 29.9923 132.109 29.8895L144.351 28.3152C145.156 28.2124 145.72 27.4831 145.616 26.6896C145.512 25.896 144.776 25.3338 143.975 25.4366L133.185 26.8245L132.553 22.0085L143.343 20.6206Z" fill="#222221"/>\n                                                    </g>\n                                                    <defs>\n                                                      <clipPath id="clip0_7029_28838">\n                                                        <rect width="166" height="160" fill="white"/>\n                                                      </clipPath>\n                                                    </defs>\n                                                  </svg>\n                                                    </div>\n                                                </div>\n                                                <div class="trustshop-report--subtitle">\n                                                    ${(()=>{const e=/\{\{\s*([^}\s]+)\s*\}\}/;return M.modal_report_subtitle?M.modal_report_subtitle.match(e)?M.modal_report_subtitle.replace(e,Shopify.shop.split(".")[0]).replace(/\./,".</br>"):M.modal_report_subtitle.replace(/\./,".</br>"):`<p>\n                        Thank you for taking the time to help ${Shopify.shop.split(".")[0]}.\n                    </p>\n                    <p>\n                        Your report is anonymous.\n                    </p>`})()}\n                                                </div>\n                                            </div>`;const t=document.createElement("button");t.classList.add("trustshop-button","trustshop-report-done--btn"),t.innerHTML="Done",t.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.remove("trustshop-show--report"),document.querySelector(".trustshop-report--container").remove(),document.querySelector(".trustshop-report--overlay").appendChild(trustshop_reviews.reportBtn())})),document.querySelector(".trustshop-report--finish").appendChild(t)}))},handleSlideImageButton:e=>{const t=trustshop_reviews.widget_container.querySelector(".trustshop-image-review--container"),s=trustshop_reviews.widget_container.querySelector(".trustshop-image-review--list"),o=trustshop_reviews.widget_container.querySelector(".trustshop-image-review--wrap"),i=trustshop_reviews.widget_container.querySelector(".trustshop-slide-left"),r=trustshop_reviews.widget_container.querySelector(".trustshop-slide-right");if(t&&s&&o)if(s.clientWidth>o.clientWidth&&!i){const s=document.createElement("button");s.classList.add("trustshop","trustshop-slide-left"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                                            <path d="M8.61033 3.17188L9.29773 3.89528L5.66434 7.5123L9.29773 11.1293L8.61033 11.8527L4.19135 7.5123L8.61033 3.17188Z" fill="#ffffff" />\n                                        </svg>';const o=document.createElement("button");o.classList.add("trustshop","trustshop-slide-right"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                                            <path d="M5.38979 3.17188L4.70239 3.89528L8.33578 7.5123L4.70239 11.1293L5.38979 11.8527L9.80878 7.5123L5.38979 3.17188Z" fill="#ffffff" />\n                                        </svg>',s.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.slideImageFromReviews(12)})),o.setAttribute("cursor",e),o.addEventListener("click",(e=>{e.preventDefault(),trustshop_widgetreviews.slideImageFromReviews(-12,_.slide_image,!1)})),t.appendChild(s),t.appendChild(o)}else s.clientWidth<=o.clientWidth&&i&&r&&(i.remove(),r.remove())},handleResizeGridItem:e=>{const t=trustshop_reviews.widget_container.querySelector(".trustshop-review--list.trustshop-review-list--grid"),s=parseInt(window.getComputedStyle(t).getPropertyValue("grid-auto-rows")),o=parseInt(window.getComputedStyle(t).getPropertyValue("grid-row-gap")),i=Math.ceil((e.querySelector(".trustshop-review-item-grid--content").getBoundingClientRect().height+o)/(s+o));e.style.gridRowEnd="span "+i},handleResizeAllGridItems:()=>{const e=trustshop_reviews.widget_container.querySelectorAll(".trustshop-review-item-type--grid");if(e)for(let t=0;t<e.length;t++)trustshop_widgetreviews.handleResizeGridItem(e[t])}},window.trustshop_rating={reviewData:{average_review:null,total_review:null},initRating:e=>{if("true"!==i.is_show)return;if(!(!1!==i.show_rating_when_empty&&"false"!==i.show_rating_when_empty||i.total_review&&0!==i.total_review&&""!==i.total_review))return;const n=document.querySelectorAll("#trustshop-review--summary");n&&0!==n.length&&n.forEach((async(n,a)=>{n.innerHTML="<span></span>",n.style.setProperty("--rating-star-size",r.product_page.star_size+"px"||o.product_page.star_size+"px"),n.getAttribute("rating-value")&&(i.avg_rating=n.getAttribute("rating-value")),n.getAttribute("rating-count")&&(i.total_review=n.getAttribute("rating-count"));let d=n.getAttribute("product-id")?n.getAttribute("product-id").trim():"";if(d&&""!==d){const e=await window.fetch(`${t}/storefront/summary?product_id=${d}`,{method:"GET"}),s=await e.json();i.avg_rating=s.average_review,i.total_review=s.total_review}e&&(e.average_review!=i.avg_rating&&(i.avg_rating=e.average_review),e.total_review>i.total_review&&(i.total_review=e.total_review));const l=document.createElement("div");l.classList.add("trustshop-summary--rating");const p=document.createElement("a");p.href="#trustshop-review";const u=document.createElement("span");u.classList.add("trustshop-review-summary--average",`display_rating--${i.display_rating&&""!==i.display_rating?i.display_rating:s.display_rating}`),u.style.fontSize=`${r.product_page.text_star}px`,u.innerHTML=Number(i.avg_rating)??s.avg_rating;const c=document.createElement("span");c.classList.add("trustshop-review-summary--total"),c.style.fontSize=`${r.product_page.text_rating}px`,c.innerHTML=`${i.total_review&&0!==i.total_review?i.total_review:s.total_review} ${i.total_review<2?""!==i.label_rating&&i.label_rating?i.label_rating:s.label_rating:""!==i.label_ratings&&i.label_ratings?i.label_ratings:s.label_ratings}`;const h=document.createElement("div");h.classList.add("trustshop-summary--star");Math.trunc(Number(i.avg_rating)??s.avg_rating);switch(h.insertAdjacentHTML("beforeend",trustshop_rating.ratingStar(i.avg_rating,i.icon_color,"#E2E2E2").outerHTML),p.appendChild(h),i.display_rating){case"before":default:p.insertAdjacentElement("afterbegin",u);break;case"after":p.insertAdjacentElement("beforeend",u);case"none":}!0!==i.display_number&&"true"!==i.display_number||p.insertAdjacentElement("beforeend",c),l.appendChild(p),n.innerHTML=l.outerHTML,i=document.getElementById("trustshop-product_rating")?{...s,...JSON.parse(document.getElementById("trustshop-product_rating").value)}:s}))},ratingStar:(e,t,s)=>{const o=document.createElement("span");o.classList.add("trustshop","trustshop-rating-star--container");const i=Math.trunc(e),r=(new DOMParser).parseFromString(B,"image/svg+xml"),n=new XMLSerializer;return[1,2,3,4,5].map(((a,d)=>{const l=window.trustshop_UniqueID.generateUniqueId("rating"),p=r.querySelector("defs");if(a<=i){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                    </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                    </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else if(a===i+1){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`;else{const o=r.createElementNS("http://www.w3.org/2000/svg","defs");o.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`,r.documentElement.appendChild(o)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else{if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}o.insertAdjacentHTML("beforeend",n.serializeToString(r))})),o}},window.trustshop_rating.initRating(),window.trustshop_collection={listCollection:document.querySelectorAll(".trustshop-collection-rating--item"),initCollectionRating:()=>{const e={display_rating_collection:"before",rating_text_color:"#74788D",number_text_color:"#3D4153",rating_icon_color:"#FFB400",show_collection_rating_when_empty:!0},t=document.getElementById("trustshop-collection_rating")?{...e,...JSON.parse(document.getElementById("trustshop-collection_rating").value)}:e,s=document.querySelectorAll(".trustshop-collection-rating--item");s&&s.forEach(((s,i)=>{if(""!==s.innerHTML?.trim())return;const n=s.getAttribute("rating-value")||0,a=s.getAttribute("rating-count")||0;Math.trunc(n);if(!(!1!==t.show_collection_rating_when_empty&&"false"!==t.show_collection_rating_when_empty||a&&0!==a&&""!==a))return;s.style.setProperty("--rating-star-size",r.collection_page.star_size+"px"||o.collection_page.star_size.star_size+"px");const d=document.createElement("div");d.classList.add("trustshop-collection-rating--wrap");const l=document.createElement("div");l.classList.add("trustshop-collection-rating-star--wrap"),l.innerHTML=trustshop_collection.ratingStar(n,t.rating_icon_color||e.star_icon_color,"#E2E2E2").outerHTML,d.appendChild(l),"after"===t.display_rating_collection?d.insertAdjacentHTML("beforeend",`<p class="trustshop-collection-rating--count" style="font-size: ${r.collection_page.text_star}px; color: ${t.number_text_color}">(${a||0})</p>`):"before"!==t.display_rating_collection&&""!==t.display_rating_collection||d.insertAdjacentHTML("afterbegin",`<p class="trustshop-collection-rating--count" style="font-size: ${r.collection_page.text_star}px; color: ${t.number_text_color}">(${a||0})</p>`),s.appendChild(d)}))},ratingStar:(e,t,s)=>{const o=document.createElement("span");o.classList.add("trustshop","trustshop-rating-star--container");const i=Math.trunc(e),r=(new DOMParser).parseFromString(B,"image/svg+xml"),n=new XMLSerializer;return[1,2,3,4,5].map(((a,d)=>{const l=window.trustshop_UniqueID.generateUniqueId("rating"),p=r.querySelector("defs");if(a<=i){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                    </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                    </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else if(a===i+1){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`;else{const o=r.createElementNS("http://www.w3.org/2000/svg","defs");o.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`,r.documentElement.appendChild(o)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else{if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}o.insertAdjacentHTML("beforeend",n.serializeToString(r))})),o}},window.trustshop_collection.initCollectionRating(),window.trustshop_testimonial={shopInfo:document.getElementById("trustshop-testimonial-shop_info")?JSON.parse(document.getElementById("trustshop-testimonial-shop_info").value):null,currentTestimonialPostion:0,currentProductId:null,colorVariable:(e,t,s,o)=>{const i=new Set;let r=document.getElementById("trustshop-css-variable");r||(r=document.createElement("style"),r.id="trustshop-css-variable",document.head.appendChild(r));let n=r.innerHTML,a=n.match(/:root\s*\{[^}]*\}/),d=a?a[0].replace(":root {","").replace("}","").trim():"";d.split(";").forEach((e=>{const[t]=e.split(":").map((e=>e.trim()));t.startsWith("--")&&i.add(t)}));let l=d?d+"\n":"";Object.entries(e).forEach((([r,n])=>{const a=`--trustshop-${s?s+"-":""}${r.replaceAll("_","-")}${o?"-"+o:""}`;i.has(a)||(l+=`${a}: ${t[r]&&""!==t[r]?t[r]:e[r]};\n`,i.add(a))})),a?r.innerHTML=n.replace(a[0],`:root {${l}}`):r.innerHTML+=`:root {${l}}\n`},sizeVariable:(e,t="")=>{let s=document.getElementById("trustshop-css-variable");s||(s=document.createElement("style"),s.id="trustshop-css-variable",document.head.appendChild(s));let o=s.innerHTML,i=o.match(/:root\s*\{[^}]*\}/),r=i?i[0].replace(":root {","").replace("}","").trim():"";const n=new Set;r.split(";").forEach((e=>{const[t]=e.split(":").map((e=>e.trim()));t.startsWith("--")&&n.add(t)}));let a=r?r+"\n":"";Object.entries(e).forEach((([e,s])=>{if("boolean"!=typeof s){const o=`${t}${e.replace(/_/g,"-")}`;n.has(o)||(a+=`${o}: ${s}px;\n`,n.add(o))}})),i?s.innerHTML=o.replace(i[0],`:root {${a}}`):s.innerHTML+=`:root {${a}}\n`},numberOfReview:document.getElementById("trustshop-testimonial-number_of_review")&&document.getElementById("trustshop-testimonial-number_of_review").value?document.getElementById("trustshop-testimonial-number_of_review").value:5,default_testimonial_section_show:{headline:!0,rating:!0,avatar:!0},get testimonial_section_show(){return document.getElementById("trustshop-testimonial-section_show")&&document.getElementById("trustshop-testimonial-section_show").value?{...this.default_testimonial_section_show,...JSON.parse(document.getElementById("trustshop-testimonial-section_show").value)}:this.default_testimonial_section_show},default_testimonial_navigator_setting:{mode:"auto",time_between_slide:3,show_navigator_button:!0,pause_when_hover:!0},get testimonial_navigator_setting(){return document.getElementById("trustshop-testimonial-navigator_setting")&&document.getElementById("trustshop-testimonial-navigator_setting").value?{...this.default_testimonial_navigator_setting,...JSON.parse(document.getElementById("trustshop-testimonial-navigator_setting").value)}:this.default_testimonial_navigator_setting},testimonial_default_label_setting:{title_label:{is_show:!0,label:"Our customer loves us",style:{font_size:36,font_weight:"normal",text_decoration:"unset",font_style:"normal"}},subtitle_label:{is_show:!1,label:"Real feedback from our valued customers",style:{font_size:16}}},get label_content(){if(!document.getElementById("trustshop-testimonial-label")||!document.getElementById("trustshop-testimonial-label").value)return this.testimonial_default_label_setting;{const e=document.getElementById("trustshop-testimonial-label").value;try{const t=JSON.parse(e);if(t.headline)return{...this.testimonial_default_label_setting,title_label:{...this.testimonial_default_label_setting.title_label,label:(new TextDecoder).decode(Uint8Array.from(atob(t.headline),(e=>e.charCodeAt(0))))}};try{let e=JSON.parse((new TextDecoder).decode(Uint8Array.from(atob(t.title_label),(e=>e.charCodeAt(0)))));const s=JSON.parse((new TextDecoder).decode(Uint8Array.from(atob(t.subtitle_label),(e=>e.charCodeAt(0)))));return{...this.testimonial_default_label_setting,title_label:{...this.testimonial_default_label_setting.title_label,...e},subtitle_label:{...this.testimonial_default_label_setting.subtitle_label,...s}}}catch{return{...this.testimonial_default_label_setting,title_label:{...this.testimonial_default_label_setting.title_label,label:(new TextDecoder).decode(Uint8Array.from(atob(t.title_label),(e=>e.charCodeAt(0))))}}}}catch(e){return{...this.testimonial_default_label_setting,title_label:{...this.testimonial_default_label_setting.title_label,label:(new TextDecoder).decode(Uint8Array.from(atob(document.getElementById("trustshop-testimonial-label").value),(e=>e.charCodeAt(0))))}}||this.testimonial_default_label_setting}}},testimonial_default_color_schema:{headline:"#3E4152",navigator_button:"#3D4153",navigator_arrow:"#FFFFFF",page_indicator:"#3D4153",content:"#74788D",customer_name:"#292A32",verified_tag:"#A7ABC3",star:"#FFB400",divider:"#D3D5E1",stroke:"#D3D5E0",card_background:"#FFFFFF",widget_background:"#FFFFFF"},modal_detail_color:{primary_color:"#3D4153",modal_all_medias_headline_title:"#121212",modal_all_medias_filter_label:"#3D4153",modal_all_medias_filter_background:"#f2f2f6",modal_all_medias_selected_filter_label:"#FFFFFF",modal_all_medias_selected_filter_background:"#3D4153",modal_all_medias_star_icon:"#FFB400",modal_all_medias_rating_background:"#FAFAFA",modal_detail_customer_name:"#121212",modal_detail_review_time_title:"#74788D",modal_detail_review_star:"#FFB400",modal_detail_review_star_default:"#CCCCCC",modal_detail_review_star_field_background:"#F1F1F1",modal_detail_review_title:"#3D4153",modal_detail_review_content:"#303030",modal_detail_navigator_button:"#FFFFFF",modal_detail_navigator_arrow:"#303030",modal_detail_product_name:"#303030",modal_detail_product_price:"#303030",modal_detail_icon_title:"#74788D",modal_detail_selected_icon:"#1E4786",modal_detail_icon_background:"#F2F2F6",modal_detail_divider:"#F2F2F6",modal_detail_card_background:"#FFFFFF"},get color_schema(){return document.getElementById("trustshop-testimonial-color_customize")&&document.getElementById("trustshop-testimonial-color_customize").value?{...this.testimonial_default_color_schema,...JSON.parse(document.getElementById("trustshop-testimonial-color_customize").value)}:this.testimonial_default_color_schema},dataFetch:async()=>{if(window.trustshop_testimonial.shopInfo.shop_id)try{const e=await fetch(`${t}/storefront/carousel?shop_id=${window.trustshop_testimonial.shopInfo.shop_id}`);return await e.json()}catch(e){}},intervalId:null,slideTestimonialInterval:()=>{window.trustshop_testimonial.intervalId=setInterval((()=>{window.trustshop_testimonial.slideTestimonial(24)}),1e3*window.trustshop_testimonial.testimonial_navigator_setting.time_between_slide)},ratingStar:(e,t,s)=>{const o=document.createElement("span");o.classList.add("trustshop","trustshop-rating-star--container");const i=Math.trunc(e),r=(new DOMParser).parseFromString(B,"image/svg+xml"),n=new XMLSerializer;return[1,2,3,4,5].map(((a,d)=>{const l=window.trustshop_UniqueID.generateUniqueId("rating"),p=r.querySelector("defs");if(a<=i){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                    </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                    </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else if(a===i+1){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`;else{const o=r.createElementNS("http://www.w3.org/2000/svg","defs");o.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                        <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`,r.documentElement.appendChild(o)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else{if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                        <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                    </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}o.insertAdjacentHTML("beforeend",n.serializeToString(r))})),o},currentVideo:null,variableExists:e=>{let t=document.getElementById("trustshop-css-variable");if(!t)return!1;let s=t.innerHTML.match(/:root\s*\{[^}]*\}/);return!!s&&s[0].replace(":root {","").replace("}","").trim().split(";").map((e=>e.trim())).some((t=>t.startsWith(e)))},initTestimonial:async()=>{const e=document.getElementById("trustshop-testimonial");if(e&&window.trustshop_testimonial.shopInfo)try{e.innerHTML="<span></span>";const t=await window.trustshop_testimonial.dataFetch();if(t.data&&t.data.length>0){window.trustshop_testimonial.colorVariable(window.trustshop_testimonial.testimonial_default_color_schema,window.trustshop_testimonial.color_schema,"testimonial","color");trustshop_testimonial.variableExists("--trustshop-bg-no-review-color")||window.trustshop_testimonial.colorVariable(window.trustshop_testimonial.modal_detail_color,window.trustshop_testimonial.modal_detail_color),window.trustshop_testimonial.color_schema.widget_background&&"#ffffff"!==window.trustshop_testimonial.color_schema.widget_background.toLowerCase()&&(document.getElementById("trustshop-testimonial").style.backgroundColor="var(--trustshop-testimonial-widget-background-color)",document.getElementById("trustshop-testimonial").style.boxShadow="0 0 0 100vmax var(--trustshop-testimonial-widget-background-color)",document.getElementById("trustshop-testimonial").style.clipPath="inset(0 -100vmax)");const s=document.createElement("div");if(s.classList.add("trustshop-testimonial--header"),!1!==window.trustshop_testimonial.label_content.title_label.is_show&&"false"!==window.trustshop_testimonial.label_content.title_label.is_show){const e=document.createElement("p");e.classList.add("trustshop-testimonial--title"),e.innerHTML=window.trustshop_testimonial.label_content.title_label.label,e.style.fontSize=`${window.trustshop_testimonial.label_content.title_label.style.font_size}px`,e.style.fontWeight=`${window.trustshop_testimonial.label_content.title_label.style.font_weight}`,e.style.textDecoration=`${window.trustshop_testimonial.label_content.title_label.style.text_decoration}`,e.style.fontStyle=`${window.trustshop_testimonial.label_content.title_label.style.font_style}`,s.appendChild(e)}if(!1!==window.trustshop_testimonial.label_content.subtitle_label.is_show&&"false"!==window.trustshop_testimonial.label_content.subtitle_label.is_show){const e=document.createElement("p");e.classList.add("trustshop-testimonial--subtitle"),e.innerHTML=window.trustshop_testimonial.label_content.subtitle_label.label,e.style.fontSize=`${window.trustshop_testimonial.label_content.subtitle_label.style.font_size}px`,e.style.fontWeight=`${window.trustshop_testimonial.label_content.subtitle_label.style.font_weight}`,e.style.textDecoration=`${window.trustshop_testimonial.label_content.subtitle_label.style.text_decoration}`,e.style.fontStyle=`${window.trustshop_testimonial.label_content.subtitle_label.style.font_style}`,s.appendChild(e)}e.innerHTML=s.outerHTML;const o=document.createElement("div");o.classList.add("trustshop-testimonial--body");const i=document.createElement("div");i.classList.add("trustshop-testimonial--wrap"),!1!==window.trustshop_testimonial.testimonial_navigator_setting.pause_when_hover&&"false"!==window.trustshop_testimonial.testimonial_navigator_setting.pause_when_hover&&(i.addEventListener("mouseenter",(()=>{"auto"===window.trustshop_testimonial.testimonial_navigator_setting.mode.toLowerCase()&&clearInterval(window.trustshop_testimonial.intervalId)})),i.addEventListener("mouseleave",(()=>{"auto"===window.trustshop_testimonial.testimonial_navigator_setting.mode.toLowerCase()&&window.trustshop_testimonial.slideTestimonialInterval(24)}))),"auto"===window.trustshop_testimonial.testimonial_navigator_setting.mode.toLowerCase()&&window.trustshop_testimonial.slideTestimonialInterval(24);const r=document.createElement("div");r.classList.add("trustshop-testimonial-list--wrap");const n=document.createElement("div");n.classList.add("trustshop-testimonial--list"),t.data.forEach(((e,t)=>{n.appendChild(window.trustshop_testimonial.testimonialItemType1(e))})),r.appendChild(n),i.appendChild(r),o.appendChild(i),e.appendChild(o),window.trustshop_testimonial.handleTestimonialButton(),window.trustshop_testimonial.testimonialLoadmore();const a=document.createElement("div");a.classList.add("trustshop-report--overlay"),a.appendChild(trustshop_testimonial.reportBtn()),a.addEventListener("click",(()=>{a.classList.contains("trustshop-show--report")&&a.classList.remove("trustshop-show--report")})),document.body.appendChild(a)}else document.getElementById("trustshop-testimonial").style.display="none"}catch(e){}},handleTestimonialButton:e=>{if("false"===window.trustshop_testimonial.testimonial_navigator_setting.show_navigator_button||!1===window.trustshop_testimonial.testimonial_navigator_setting.show_navigator_button)return;const t=document.querySelector(".trustshop-testimonial--list"),s=document.querySelector(".trustshop-testimonial-list--wrap");if(!t)return;let o=document.querySelector(".trustshop-testimonial--left"),i=document.querySelector(".trustshop-testimonial--right");if(t.offsetWidth<=s.offsetWidth+24)return o&&o.remove(),void(i&&i.remove());const r=document.querySelector(".trustshop-testimonial--body");o||i||(o=document.createElement("button"),o.classList.add("trustshop-button","trustshop-testimonial--left","trustshop-testimonial-navigator--btn"),o.innerHTML='<span></span><svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M6.85836 0.921387L7.86133 1.97689L2.55992 7.25441L7.86133 12.5319L6.85836 13.5874L0.410707 7.25441L6.85836 0.921387Z" fill="var(--trustshop-testimonial-navigator-arrow-color)"/>\n            </svg>',o.addEventListener("click",(()=>{window.trustshop_testimonial.slideTestimonial(-24),"auto"===window.trustshop_testimonial.testimonial_navigator_setting.mode.toLowerCase()&&(clearInterval(window.trustshop_testimonial.intervalId),window.trustshop_testimonial.slideTestimonialInterval(24))})),i=document.createElement("button"),i.classList.add("trustshop-button","trustshop-testimonial--right","trustshop-testimonial-navigator--btn"),i.innerHTML='<span></span><svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M1.15727 0.921387L0.154297 1.97689L5.4557 7.25441L0.154297 12.5319L1.15727 13.5874L7.60492 7.25441L1.15727 0.921387Z" fill="var(--trustshop-testimonial-navigator-arrow-color)"/>\n            </svg>',i.addEventListener("click",(()=>{window.trustshop_testimonial.slideTestimonial(24),"auto"===window.trustshop_testimonial.testimonial_navigator_setting.mode.toLowerCase()&&(clearInterval(window.trustshop_testimonial.intervalId),window.trustshop_testimonial.slideTestimonialInterval(24))})),r.appendChild(o),r.appendChild(i))},testimonialItemType1:e=>{const t=e.customer_name.split(/\s/),s=(t[0]&&t[0].slice(0,1),t[1]&&t[1].slice(0,1),document.createElement("div"));return s.classList.add("trustshop-testimonial--card_type_1"),"square"===q.element_corners&&s.classList.add("trustshop-element-corner--square"),s.style.backgroundColor="var(--trustshop-testimonial-card-background-color)",s.addEventListener("click",(()=>{})),s.innerHTML=`\n                        <div class="trustshop-testimonial-card--header">\n                            <svg width="23" height="19" viewBox="0 0 23 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M2.15164 3.0785C3.73001 1.36737 6.11839 0.5 9.24926 0.5H10.3743V3.67137L9.46976 3.8525C7.92851 4.16075 6.85639 4.76712 6.28264 5.657C5.98327 6.1364 5.81348 6.6853 5.78989 7.25H9.24926C9.54763 7.25 9.83378 7.36853 10.0448 7.5795C10.2557 7.79048 10.3743 8.07663 10.3743 8.375V16.25C10.3743 17.4909 9.36514 18.5 8.12426 18.5H1.37426C1.07589 18.5 0.789745 18.3815 0.578766 18.1705C0.367788 17.9595 0.249261 17.6734 0.249261 17.375V11.75L0.252636 8.46613C0.242511 8.34125 0.0287613 5.3825 2.15164 3.0785ZM20.4993 18.5H13.7493C13.4509 18.5 13.1647 18.3815 12.9538 18.1705C12.7428 17.9595 12.6243 17.6734 12.6243 17.375V11.75L12.6276 8.46613C12.6175 8.34125 12.4038 5.3825 14.5266 3.0785C16.105 1.36737 18.4934 0.5 21.6243 0.5H22.7493V3.67137L21.8448 3.8525C20.3035 4.16075 19.2314 4.76712 18.6576 5.657C18.3583 6.1364 18.1885 6.6853 18.1649 7.25H21.6243C21.9226 7.25 22.2088 7.36853 22.4198 7.5795C22.6307 7.79048 22.7493 8.07663 22.7493 8.375V16.25C22.7493 17.4909 21.7401 18.5 20.4993 18.5Z" fill="var(--trustshop-testimonial-content-color)"/>\n                        </svg>\n                        <div class="trustshop-testimonial-card--content">\n                            "${e.carousel_content&&e.carousel_content.length>245?e.carousel_content.slice(0,245)+`...<span class='trustshop-testimonial-loadmore' review-id='${e.carousel_id}' product-id='${e.product_id}' product-link='${e.product_link}'>More</span>`:e.carousel_content}"\n                        </div>\n                        </div>\n                        <div class="trustshop-testimonial-card--footer">\n                            \n                            <p class="trustshop-testimonial-card--customer-name">${e.customer_name}</p>\n                            ${!1!==window.trustshop_testimonial.testimonial_section_show.rating&&"false"!==window.trustshop_testimonial.testimonial_section_show.rating?window.trustshop_testimonial.ratingStar(e.rating,window.trustshop_testimonial.color_schema.star).outerHTML:""}\n                        </div>\n    \n                `,s},slideTestimonial:e=>{const t=document.querySelector(".trustshop-testimonial-list--wrap"),s=document.querySelector(".trustshop-testimonial--card_type_1"),o=document.querySelector(".trustshop-testimonial--list"),i=s.offsetWidth,r=t.offsetWidth;let n=0;n=e>0?-i-e:+i-e,window.trustshop_testimonial.currentTestimonialPostion+=n,window.trustshop_testimonial.currentTestimonialPostion>280?(window.trustshop_testimonial.currentTestimonialPostion=0,window.trustshop_testimonial.currentTestimonialPostion=-o.offsetWidth+r):window.trustshop_testimonial.currentTestimonialPostion<=-o.clientWidth-i+r&&(window.trustshop_testimonial.currentTestimonialPostion=0),o.style.transform=`translateX(${window.trustshop_testimonial.currentTestimonialPostion}px)`},testimonialLoadmore:()=>{document.querySelectorAll(".trustshop-testimonial-loadmore").forEach((e=>{let t=e.getAttribute("review-id"),s=e.getAttribute("product-id");e.classList.remove("testimonial--active"),e.addEventListener("click",(o=>{o.preventDefault(),window.trustshop_testimonial.currentProductId=s,setTimeout((()=>{clearInterval(window.trustshop_testimonial.intervalId)}),0),document.querySelector(".testimonial--active")&&document.querySelector(".testimonial--active").classList.remove("testimonial--active"),e.classList.add("testimonial--active"),window.trustshop_testimonial.modalViewMedia("detail",t,s,null,null,"testimonial")}))}))},modalViewMedia:(e,t,s,o,i,r)=>{document.body.style.overflow="hidden";let n=document.getElementById("trustshop-modal-image--container"),a=document.getElementById("trustshop-modal--image");if(a)n.classList.remove("trustshop--hidden");else{n=document.createElement("div"),n.id="trustshop-modal-image--container",a=document.createElement("div"),a.id="trustshop-modal--image",a.classList.add("trustshop-modal--image","trustshop"),n.tabIndex=0,n.style.outline="none";document.createElement("div").class="trustshop-modal-image--wrap",n.addEventListener("keydown",(e=>{if(e.preventDefault(),"Escape"===e.key){trustshop_testimonial.modalViewMedia("hide"),document.body.style.overflow="unset";try{trustshop_testimonial.currentVideo.pause()}catch(e){throw e}}"ArrowLeft"===e.key&&trustshop_testimonial.swiperViewImage(-1,_.detail.prev),"ArrowRight"===e.key&&trustshop_testimonial.swiperViewImage(1,_.detail.next)})),n.appendChild(a),document.body.appendChild(n)}switch(e){case"detail":let e=document.getElementById("trustshop-view-detail--container");document.querySelector(".trustshop-view-all--container")&&document.querySelector(".trustshop-view-all--container").classList.add("trustshop--hidden"),e?(e.classList.remove("trustshop--hidden"),e.innerHTML="",e.appendChild(trustshop_testimonial.viewImage(t,"testimonial"===r?s:E.productId,o,i,r))):(e=document.createElement("div"),e.classList.add("trustshop","trustshop-view-detail--container"),e.id="trustshop-view-detail--container",e.appendChild(trustshop_testimonial.viewImage(t,"testimonial"===r?s:E.productId,o,i,r)),a.appendChild(e)),setTimeout((()=>{n.focus()}),0);break;case"hide":document.body.style.overflow="unset",n.classList.add("trustshop--hidden");break;default:const d=document.querySelector(".trustshop-view-detail--container"),l=a.querySelector(".trustshop-view-all--container");d&&d.classList.add("trustshop--hidden"),l?(l.classList.remove("trustshop--hidden"),s!==l.getAttribute("product-id")&&(l.remove(),a.appendChild(trustshop_testimonial.viewAllMedia(r,s)))):a.appendChild(trustshop_testimonial.viewAllMedia(r,s))}},viewAllMedia:(e,t)=>{const s=document.createElement("div");s.classList.add("trustshop","trustshop-view-all--container"),s.setAttribute("product-id",t);const o=document.createElement("div");o.classList.add("trustshop","trustshop-view-all--header");const i=document.createElement("div");i.classList.add("trustshop-all-media--title"),i.innerHTML=`<p class=" trustshop-title">${M.modal_all_media_title??w.modal_all_media_title}</p>`;const r=document.createElement("button");r.innerHTML=H,r.classList.add("trustshop-close-view--btn"),r.addEventListener("click",(t=>{t.preventDefault(),document.body.style.overflow="unset",document.getElementById("trustshop-modal-image--container").classList.add("trustshop--hidden"),"testimonial"===e&&window.trustshop_testimonial.slideTestimonialInterval(24)})),i.appendChild(r),o.appendChild(i);const n=document.createElement("div");n.classList.add("trustshop-view-image--tab");const a=[{label:M.text_all?.trim()??w.text_all,value:"All"},{label:M.text_image?.trim()??w.text_image,value:"Images"},{label:M.text_video?.trim()??w.text_video,value:"Videos"},{label:`${B} 5`,value:"5_star"},{label:`${B} 4`,value:"4_star"},{label:`${B} 3`,value:"3_star"},{label:`${B} 2`,value:"2_star"},{label:`${B} 1`,value:"1_star"}],d=a.findIndex((e=>!0===C.modal_all_medias.filterList[e.value]));return a.map(((t,s)=>{if(C.modal_all_medias.filterList[t.value]&&"false"!==C.modal_all_medias.filterList[t.value]){const o=document.createElement("div");o.classList.add("trustshop-view-image-tab--item",`trustshop-view-image-tab--${t.value}`,"trustshop-button"),d===s&&o.classList.add("tab-active"),o.innerHTML=`<p>${t.label}</p><span class="trustshop-view-image-tab-count--${t.value} trustshop-view-image-tab-count--tab" data-tab=${t.value}></span>`,o.addEventListener("click",(()=>{trustshop_testimonial.handleModalImageTab(t.value,e)})),n.appendChild(o)}})),o.appendChild(n),s.appendChild(o),s.appendChild(trustshop_testimonial.viewAllImage(e)),s},viewImage:(e,s,o,i,r)=>{const n=document.createElement("div"),a=document.createElement("div");a.classList.add("trustshop","trustshop-view-detail--header");const d=document.createElement("p");d.classList.add("trustshop","trustshop-title-all--media","trustshop-button"),d.innerHTML=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M8.68247 7.8001H16V3.19392C16 1.40366 15.0963 0.5 13.2798 0.5H8.68247V7.8001ZM7.32643 7.8001V0.5H2.72915C0.921458 0.5 0 1.39513 0 3.19392V7.8001H7.32643ZM8.68247 16.4996H13.2798C15.0963 16.4996 16 15.596 16 13.8057V9.1732H8.68247V16.4996ZM2.72915 16.4996H7.32643V9.1732H0.000370781V13.8061C0.000370781 15.6049 0.921458 16.5 2.72952 16.5" fill="#4A4A4A"/>\n            </svg>\n            <span>${M.modal_view_image_text_all_media||w.modal_view_image_text_all_media}</span>`,d.addEventListener("click",(()=>{trustshop_testimonial.modalViewMedia("show",null,"testimonial"===r?s:E.productId,null,null,r);try{trustshop_testimonial.currentVideo&&trustshop_testimonial.currentVideo.pause()}catch(e){throw e}})),a.appendChild(d);const l=document.createElement("button");l.classList.add("trustshop-close-view--btn"),l.innerHTML=H,l.addEventListener("click",(e=>{e.preventDefault(),document.body.style.overflow="unset",document.getElementById("trustshop-modal-image--container").classList.add("trustshop--hidden"),"testimonial"===r&&"auto"===window.trustshop_testimonial.testimonial_navigator_setting.mode.toLowerCase()&&window.trustshop_testimonial.slideTestimonialInterval(24);try{trustshop_testimonial.currentVideo&&trustshop_testimonial.currentVideo.pause()}catch(e){throw e}})),a.appendChild(l);const u=document.createElement("div");return u.classList.add("trustshop-view-image--body"),u.innerHTML=T,window.fetch(`${t}/storefront/review?review_id=${e}&product_id=${s}`,{method:"GET"}).then((e=>e.json())).then((t=>{if(t.data){if(p=t.data.medias||[],_={..._,detail:{next:t.data.next_id,prev:t.data.previous_id}},u.querySelector(".trustshop-loading").remove(),C.detail.show_review_media&&p.length>0){const e=document.createElement("div");e.classList.add("trustshop-view-image--left");const s=document.createElement("div");s.id="trustshop-view-image--wrap",s.classList.add("trustshop-view-image--wrap");let n=null;e.addEventListener("touchstart",(e=>{n=e.touches[0].clientX})),e.addEventListener("touchend",(e=>{n&&e.changedTouches[0].clientX-n>100&&(trustshop_testimonial.swiperViewImage(-1,_.detail.next,r),n=null),n&&e.changedTouches[0].clientX-n<-100&&(trustshop_testimonial.swiperViewImage(1,_.detail.prev,r),n=null)}));let a=0;if(a="video"===i?t.data.medias.findIndex((e=>e.video_thumb===o)):t.data.medias.findIndex((e=>e.url===o)),a=-1===a?0:a,k=a,"video"===t.data.medias[a].media_type){const e=document.createElement("video");e.id="trustshop-view-video-detail",e.controls=!0,e.autoplay=!0,e.poster=t.data.medias[a].video_thumb,e.style.width="100%",e.style.height="100%",e.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",e.src=t.data.medias[a].url,e.setAttribute("allowfullscreen","false"),e.classList.add="trustshop-media-view--detail",s.appendChild(e);try{trustshop_testimonial.currentVideo=e}catch(e){throw e}}else s.innerHTML=`<img\n                                    src="${trustshop_testimonial.handleImageUrl(t.data.medias[a].url,"big")}"\n                                    alt=""\n                                    id="trustshop-media-view--detail"\n                                    width = "100%"\n                                    height ="100%"\n                                    >`;const d=document.createElement("button");d.classList.add("trustshop-button","trustshop-image-swiper--left","trustshop-image--swiper"),_.detail.prev||0!==a||d.classList.add("trustshop--hidden"),d.innerHTML='<span></span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">\n                        <path d="M11.1466 3.89062L12.0631 4.85516L7.21859 9.67786L12.0631 14.5006L11.1466 15.4651L5.2546 9.67786L11.1466 3.89062Z" fill="var(--trustshop-modal-detail-navigator-arrow)"/>\n                    </svg>',d.addEventListener("click",(e=>{e.preventDefault(),trustshop_testimonial.swiperViewImage(-1,_.detail.prev,r)}));const l=document.createElement("button");l.classList.add("trustshop-button","trustshop-image-swiper--right","trustshop-image--swiper"),_.detail.next||a!==p.length-1||l.classList.add("trustshop--hidden"),l.innerHTML='<span></span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">\n                        <path d="M6.8533 3.89062L5.93677 4.85516L10.7813 9.67786L5.93677 14.5006L6.8533 15.4651L12.7453 9.67786L6.8533 3.89062Z" fill="var(--trustshop-modal-detail-navigator-arrow)"/>\n                    </svg>',l.addEventListener("click",(e=>{e.preventDefault(),trustshop_testimonial.swiperViewImage(1,_.detail.next,r)})),e.appendChild(d),e.appendChild(l),e.appendChild(s),u.appendChild(e)}const s=document.createElement("div");s.classList.add("trustshop-view-image--right");const n=document.createElement("div");n.setAttribute("data-id",p[0]?.review_id||e),n.id="trustshop-view-image--review",C.detail.show_review_media&&0!==p.length||(s.style.maxWidth="100%",a.style.width="100%"),n.appendChild(trustshop_testimonial.loadReviewViewImage(t.data)),s.appendChild(n),u.appendChild(s)}})).catch((e=>{})),n.appendChild(a),n.appendChild(u),n},swiperViewImage:(e,t,s)=>{k+=e;const o=document.querySelectorAll(".trustshop-view-image--item");if(o)for(const e of o)e.classList.remove("image-item--outline");trustshop_testimonial.handleToogleSwiperBtn(),k>p.length-1&&t?trustshop_testimonial.imageDetailCurrent(t,"first",s):k<0&&t?trustshop_testimonial.imageDetailCurrent(t,"last",s):(o[k].classList.add("image-item--outline"),window.trustshop_testimonial.viewMedia(p[k].media_type,p[k].url,p[k].video_thumb))},handleToogleSwiperBtn:()=>{k-1<0&&!_.detail.prev?document.querySelector(".trustshop-image-swiper--left").classList.add("trustshop--hidden"):document.querySelector(".trustshop-image-swiper--left").classList.contains("trustshop--hidden")&&document.querySelector(".trustshop-image-swiper--left").classList.remove("trustshop--hidden"),k+1>p.length-1&&!_.detail.next?document.querySelector(".trustshop-image-swiper--right").classList.add("trustshop--hidden"):document.querySelector(".trustshop-image-swiper--right").classList.contains("trustshop--hidden")&&document.querySelector(".trustshop-image-swiper--right").classList.remove("trustshop--hidden")},imageDetailCurrent:(e,s,o)=>{const i=document.querySelector(".trustshop-view-image--right"),r=document.createElement("div");r.classList.add("trustshop-modal-media--loading"),r.innerHTML=T,i.innerHTML=r.outerHTML;const n=document.getElementById("trustshop-view-image--wrap");n&&n.firstChild&&n.removeChild(n.firstChild);const a="testimonial"===o?window.trustshop_testimonial.currentProductId:E.productId;window.fetch(`${t}/storefront/review?review_id=${e}&product_id=${a}`,{method:"GET"}).then((e=>e.json())).then((e=>{i.firstElementChild.remove();const t=document.createElement("div");if(t.id="trustshop-view-image--review",t.setAttribute("data-id",e.data.id),e.data)if(k="last"===s?e.data.medias.length-1:0,p=e.data.medias,t.appendChild(trustshop_testimonial.loadReviewViewImage(e.data)),i.appendChild(t),_={..._,detail:{prev:e.data.previous_id,next:e.data.next_id}},_.detail.prev||0!==k||document.querySelector(".trustshop-image-swiper--left").classList.add("trustshop--hidden"),_.detail.next||k!==p.length-1||document.querySelector(".trustshop-image-swiper--right").classList.add("trustshop--hidden"),!C.detail.show_review_media||p.length<1)document.querySelector(".trustshop-modal-detail-title").style.display="none",document.querySelector(".trustshop-view-image--right").style.maxWidth="100%",document.querySelector(".trustshop-view-detail--header").style.width="100%",document.querySelector(".trustshop-view-image--left").style.display="none";else if("video"===e.data.medias[k].media_type){const t=document.createElement("video");t.id="trustshop-view-video-detail",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",t.src=e.data.medias[k].url,t.controls=!0,t.autoplay=!0,t.poster=e.data.medias[currentMedia].video_thumb,t.style.width="100%",t.style.height="100%",t.setAttribute("allowfullscreen","false"),t.classList.add="trustshop-media-view--detail",n.appendChild(t);try{trustshop_testimonial.currentVideo=t}catch(e){throw e}}else n.innerHTML=`<img\n                                            src="${trustshop_testimonial.handleImageUrl(e.data.medias[k].url,"big")}"\n                                            alt=""\n                                            id="trustshop-media-view--detail"\n                                            width = "100%"\n                                            height ="100%"\n                                            >`})).catch((e=>{}))},viewImageCurrent:(e,t,s)=>{const o=document.querySelectorAll(".trustshop-review-media--item");if(o)for(const e of o)e.classList.remove("image-item--outline");const i=document.getElementById("trustshop-view-image--wrap");if(i&&i.firstChild&&i.removeChild(i.firstChild),"video"===e){const e=l.findIndex((e=>e.video_thumb===t));k=e;const o=document.createElement("video");o.style.width="100%",o.style.height="100%",o.controls=!0,o.id="trustshop-view-video-detail",o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",o.src=l[e].url,o.setAttribute("allowfullscreen","false"),o.classList.add="trustshop-media-view--detail",i.appendChild(o);try{trustshop_testimonial.currentVideo=o}catch(s){throw s}}else{const e=l.findIndex((e=>e.url===t));k=e,i.innerHTML=`<img\n                                src="${trustshop_testimonial.handleImageUrl(l[e].url,"big")}"\n                                alt=""\n                                id="trustshop-media-view--detail"\n                                width = "100%"\n                                height ="100%"\n                                >`}},handleImageUrl:(t,s)=>{const o="/"+h[s];return t.includes("http")?t.includes("/public")?t.split("/public").join(o):t.includes("imagedelivery")?t+o:t:e+"/"+t.split("/").slice(0,-1).join("/")+"/small-"+t.split("/").pop()},handleReportReview:()=>{const e=document.querySelector(".trustshop-report--submit").value,s=document.querySelector('input[name="trustshop-report"]:checked').value,o=document.querySelector(".trustshop-report--container"),i=new FormData;i.append("report",s),window.fetch(`${t}/storefront/report/${e}`,{method:"POST",body:i}).then((e=>e.json())).then((e=>{o.innerHTML=`<div class="trustshop-report--finish">\n                                                <div class="trustshop-report-success--icon">\n                                                    <div>\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="166" height="160" viewBox="0 0 166 160" fill="none">\n                                                    <g clip-path="url(#clip0_7029_28838)">\n                                                      <path d="M84.673 159.228C128.785 159.228 164.544 123.792 164.544 80.0806C164.544 36.3689 128.785 0.933594 84.673 0.933594C40.5614 0.933594 4.80176 36.3689 4.80176 80.0806C4.80176 123.792 40.5614 159.228 84.673 159.228Z" fill="#407BFF"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M58.6966 19.5322C58.6966 21.0197 57.4808 22.2245 55.9797 22.2245C54.4785 22.2245 53.2627 21.0197 53.2627 19.5322C53.2627 18.0446 54.4785 16.8398 55.9797 16.8398C57.4808 16.8398 58.6966 18.0446 58.6966 19.5322Z" fill="white"/>\n                                                      <path d="M162.676 49.8438L165.999 51.9931L148.839 78.0456L145.519 75.8962L162.676 49.8438Z" fill="#DE5D1D"/>\n                                                      <path d="M143.645 39.5062L139.681 39.6914L140.719 61.5077L144.683 61.3224L143.645 39.5062Z" fill="#DE5D1D"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M32.3862 86.8171L1.08938 101.445L0 83.9738L9.35047 89.4708L11.5 76.9763L20.3674 84.3464L23.1816 74.0977L32.3862 86.8171Z" fill="#F0C82F"/>\n                                                      <path d="M131.983 133.526C134.758 140.449 131.331 148.321 124.348 151.074C117.361 153.824 109.418 150.431 106.639 143.508C103.86 136.584 107.287 128.713 114.274 125.963C121.261 123.213 129.205 126.605 131.983 133.529V133.526ZM110.196 142.107C112.193 147.087 117.909 149.529 122.934 147.55C127.963 145.57 130.424 139.906 128.426 134.927C126.429 129.943 120.713 127.502 115.688 129.484C110.663 131.463 108.198 137.127 110.196 142.107Z" fill="#91B3FF"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M159.811 87.7704C159.811 89.258 158.595 90.4628 157.094 90.4628C155.593 90.4628 154.377 89.258 154.377 87.7704C154.377 86.2829 155.593 85.0781 157.094 85.0781C158.595 85.0781 159.811 86.2829 159.811 87.7704Z" fill="#F0C82F"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M92.263 148.563C92.263 150.051 91.0472 151.256 89.5461 151.256C88.0449 151.256 86.8291 150.051 86.8291 148.563C86.8291 147.076 88.0449 145.871 89.5461 145.871C91.0472 145.871 92.263 147.076 92.263 148.563Z" fill="#BCCAFC"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M66.3999 -0.000693463C67.4179 0.70612 68.4943 1.22659 69.4248 2.21292C68.0599 3.84823 67.6189 4.90202 65.638 5.78232C64.2341 6.4056 62.707 6.52769 61.2027 6.59195C59.3092 6.67548 57.5746 6.21605 55.7623 7.46582C54.0536 8.64492 53.6484 10.8746 51.7225 12.0858C49.2552 13.6376 46.5869 13.3774 44.3627 13.2681C43.2636 13.2135 42.3623 12.9468 40.9811 13.8753C40.0182 14.5211 39.4703 15.7066 38.65 16.6929C36.5815 19.1668 33.9715 20.5322 30.7715 19.7483C30.8655 18.6238 31.3 17.6022 31.488 16.5098C36.0368 16.6801 36.0789 11.6906 40.3975 9.93324C43.5619 8.64492 47.0927 10.5694 49.6896 8.89551C50.6623 8.26902 51.2394 6.91322 51.8392 6.17428C52.5784 5.26185 53.4182 4.31408 54.5918 3.71329C57.633 2.15187 61.6371 3.83537 64.4221 2.16794C65.3494 1.61213 65.6023 0.837844 66.3999 -0.00390625V-0.000693463Z" fill="#DE5D1D"/>\n                                                      <path d="M66.3037 147.067L59.0869 152.852L64.9247 160.003L72.1416 154.218L66.3037 147.067Z" fill="#DE5D1D"/>\n                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M160.871 113.361L158.475 119.054L154.698 114.151L150.921 109.249L157.094 108.458L163.267 107.668L160.871 113.361Z" fill="#BCCAFC"/>\n                                                      <path d="M125.274 25.9725L11.0479 40.1914L24.895 149.422L139.121 135.203L125.274 25.9725Z" fill="#222221"/>\n                                                      <path d="M129.885 19.5389L15.6592 33.7578L29.5063 142.989L143.732 128.77L129.885 19.5389Z" fill="#3ACBA8"/>\n                                                      <path d="M32.6805 34.082C30.0187 34.7085 28.0053 35.8876 26.475 37.8313C25.0484 39.6466 24.9544 41.4554 26.1216 42.6505C27.3082 43.8682 28.9552 43.7557 30.8033 42.1975C32.3401 40.9028 33.6694 39.3735 35.6244 38.6313C36.7981 38.1847 37.5762 37.1888 37.333 35.8298C37.0542 34.2651 35.8287 33.886 34.4605 33.8828C33.7699 33.8828 33.0728 34.0338 32.6773 34.0788L32.6805 34.082Z" fill="white"/>\n                                                      <path d="M22.2279 44.4611C20.9408 44.927 20.0168 47.0892 20.4707 48.4771C20.8143 49.5277 21.5762 49.9421 22.6332 49.5823C23.9268 49.1422 24.8055 47.0249 24.3029 45.6402C23.9333 44.625 23.22 44.1977 22.2279 44.4643V44.4611Z" fill="white"/>\n                                                      <path d="M39.353 138.232C36.7236 137.487 34.7653 136.215 33.329 134.203C31.9868 132.324 31.977 130.515 33.1993 129.371C34.4411 128.208 36.0816 128.398 37.8551 130.036C39.3271 131.399 40.585 132.986 42.5077 133.818C43.6586 134.316 44.3914 135.347 44.0866 136.697C43.7364 138.245 42.4947 138.57 41.1265 138.512C40.4359 138.483 39.7486 138.3 39.3563 138.232H39.353Z" fill="white"/>\n                                                      <path d="M80.7888 124.485L39.3926 83.933L49.4045 73.8962L76.9533 100.887L105.381 45.6719L118.064 52.0846L80.7888 124.485Z" fill="white"/>\n                                                      <path d="M138.957 5.46044L74.8526 13.4988C70.2714 14.0739 67.0324 18.2184 67.6095 22.7549L69.1658 34.9249C69.7429 39.4646 73.9286 42.6774 78.5065 42.1023L79.7224 41.9481L81.6061 56.4088L90.2822 40.6244L142.611 34.0639C147.189 33.4888 150.431 29.3443 149.854 24.8046L148.301 12.6346C147.721 8.09493 143.538 4.88214 138.96 5.45723L138.957 5.46044Z" fill="#FFD32B"/>\n                                                      <path d="M76.3598 37.0385C77.527 36.8843 78.1949 36.7976 79.08 36.6851L81.45 36.3831C86.5306 35.7309 90.1261 31.1013 89.4647 26.0701C88.7936 20.9521 84.2221 17.463 79.0573 18.1281L73.9606 18.7835C73.1565 18.8863 72.5892 19.6188 72.6929 20.4124L74.7063 35.7855C74.7549 36.1647 74.9592 36.5149 75.2672 36.7526C75.5784 36.9871 75.961 37.0899 76.3533 37.0417L76.3598 37.0385ZM77.433 33.9671L75.7957 21.4822L79.4366 21.0132C83.029 20.5505 86.0896 22.8862 86.5565 26.446C87.0072 29.8901 84.5463 33.0547 81.074 33.5013L77.433 33.9671Z" fill="#222221"/>\n                                                      <path d="M101.678 33.8058C96.5944 34.4612 91.9224 30.895 91.261 25.8574C90.5996 20.8197 94.1984 16.1901 99.2821 15.5347C104.366 14.8793 109.038 18.4455 109.699 23.4831C110.361 28.5208 106.762 33.1504 101.678 33.8058ZM99.6615 18.4166C96.1794 18.8631 93.7153 22.0342 94.1692 25.4847C94.6199 28.9352 97.8199 31.3769 101.302 30.9271C104.784 30.4806 107.248 27.3095 106.794 23.859C106.344 20.4085 103.144 17.9668 99.6615 18.4166Z" fill="#222221"/>\n                                                      <path d="M126.834 30.5691C126.406 30.6237 125.965 30.4888 125.637 30.1836L113.959 19.228L115.444 30.5723C115.548 31.3691 114.984 32.0952 114.179 32.198C113.375 32.3008 112.643 31.7386 112.539 30.945L110.522 15.5557C110.441 14.9453 110.759 14.3542 111.31 14.0746C111.861 13.7983 112.532 13.8915 112.983 14.3156L124.665 25.2712L123.18 13.9269C123.076 13.1301 123.64 12.404 124.444 12.3012C125.248 12.1984 125.981 12.7606 126.085 13.5542L128.101 28.9434C128.182 29.5539 127.865 30.145 127.314 30.4245C127.161 30.5016 127.002 30.5498 126.837 30.5691H126.834Z" fill="#222221"/>\n                                                      <path d="M143.343 20.6206C144.147 20.5178 144.711 19.7885 144.608 18.995C144.504 18.1982 143.768 17.6392 142.967 17.742L132.177 19.1299L131.545 14.3139L142.335 12.926C143.139 12.8232 143.703 12.0939 143.599 11.3003C143.496 10.5036 142.76 9.94453 141.959 10.0473L129.716 11.6216C128.912 11.7244 128.348 12.4537 128.452 13.2473L130.468 28.6365C130.572 29.4333 131.308 29.9923 132.109 29.8895L144.351 28.3152C145.156 28.2124 145.72 27.4831 145.616 26.6896C145.512 25.896 144.776 25.3338 143.975 25.4366L133.185 26.8245L132.553 22.0085L143.343 20.6206Z" fill="#222221"/>\n                                                      <path d="M138.957 5.46044L74.8526 13.4988C70.2714 14.0739 67.0324 18.2184 67.6095 22.7549L69.1658 34.9249C69.7429 39.4646 73.9286 42.6774 78.5065 42.1023L79.7224 41.9481L81.6061 56.4088L90.2822 40.6244L142.611 34.0639C147.189 33.4888 150.431 29.3443 149.854 24.8046L148.301 12.6346C147.721 8.09493 143.538 4.88214 138.96 5.45723L138.957 5.46044Z" fill="#FFD32B"/>\n                                                      <path d="M76.3598 37.0385C77.527 36.8843 78.1949 36.7976 79.08 36.6851L81.45 36.3831C86.5306 35.7309 90.1261 31.1013 89.4647 26.0701C88.7936 20.9521 84.2221 17.463 79.0573 18.1281L73.9606 18.7835C73.1565 18.8863 72.5892 19.6188 72.6929 20.4124L74.7063 35.7855C74.7549 36.1647 74.9592 36.5149 75.2672 36.7526C75.5784 36.9871 75.961 37.0899 76.3533 37.0417L76.3598 37.0385ZM77.433 33.9671L75.7957 21.4822L79.4366 21.0132C83.029 20.5505 86.0896 22.8862 86.5565 26.446C87.0072 29.8901 84.5463 33.0547 81.074 33.5013L77.433 33.9671Z" fill="#222221"/>\n                                                      <path d="M101.678 33.8058C96.5944 34.4612 91.9224 30.895 91.261 25.8574C90.5996 20.8197 94.1984 16.1901 99.2821 15.5347C104.366 14.8793 109.038 18.4455 109.699 23.4831C110.361 28.5208 106.762 33.1504 101.678 33.8058ZM99.6615 18.4166C96.1794 18.8631 93.7153 22.0342 94.1692 25.4847C94.6199 28.9352 97.8199 31.3769 101.302 30.9271C104.784 30.4806 107.248 27.3095 106.794 23.859C106.344 20.4085 103.144 17.9668 99.6615 18.4166Z" fill="#222221"/>\n                                                      <path d="M126.834 30.5691C126.406 30.6237 125.965 30.4888 125.637 30.1836L113.959 19.228L115.444 30.5723C115.548 31.3691 114.984 32.0952 114.179 32.198C113.375 32.3008 112.643 31.7386 112.539 30.945L110.522 15.5557C110.441 14.9453 110.759 14.3542 111.31 14.0746C111.861 13.7983 112.532 13.8915 112.983 14.3156L124.665 25.2712L123.18 13.9269C123.076 13.1301 123.64 12.404 124.444 12.3012C125.248 12.1984 125.981 12.7606 126.085 13.5542L128.101 28.9434C128.182 29.5539 127.865 30.145 127.314 30.4245C127.161 30.5016 127.002 30.5498 126.837 30.5691H126.834Z" fill="#222221"/>\n                                                      <path d="M143.343 20.6206C144.147 20.5178 144.711 19.7885 144.608 18.995C144.504 18.1982 143.768 17.6392 142.967 17.742L132.177 19.1299L131.545 14.3139L142.335 12.926C143.139 12.8232 143.703 12.0939 143.599 11.3003C143.496 10.5036 142.76 9.94453 141.959 10.0473L129.716 11.6216C128.912 11.7244 128.348 12.4537 128.452 13.2473L130.468 28.6365C130.572 29.4333 131.308 29.9923 132.109 29.8895L144.351 28.3152C145.156 28.2124 145.72 27.4831 145.616 26.6896C145.512 25.896 144.776 25.3338 143.975 25.4366L133.185 26.8245L132.553 22.0085L143.343 20.6206Z" fill="#222221"/>\n                                                    </g>\n                                                    <defs>\n                                                      <clipPath id="clip0_7029_28838">\n                                                        <rect width="166" height="160" fill="white"/>\n                                                      </clipPath>\n                                                    </defs>\n                                                  </svg>\n                                                    </div>\n                                                </div>\n                                                <div class="trustshop-report--subtitle">\n                                                    ${(()=>{const e=/\{\{\s*([^}\s]+)\s*\}\}/;return M.modal_report_subtitle?M.modal_report_subtitle.match(e)?M.modal_report_subtitle.replace(e,Shopify.shop.split(".")[0]).replace(/\./,".</br>"):M.modal_report_subtitle.replace(/\./,".</br>"):`<p>\n                        Thank you for taking the time to help ${Shopify.shop.split(".")[0]}.\n                    </p>\n                    <p>\n                        Your report is anonymous.\n                    </p>`})()}\n                                                </div>\n                                            </div>`;const t=document.createElement("button");t.classList.add("trustshop-button","trustshop-report-done--btn"),t.innerHTML="Done",t.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.remove("trustshop-show--report"),document.querySelector(".trustshop-report--container").remove(),document.querySelector(".trustshop-report--overlay").appendChild(trustshop_testimonial.reportBtn())})),document.querySelector(".trustshop-report--finish").appendChild(t)}))},handleModalImagePagination:(e,s,o)=>{const i=document.querySelector(".trustshop-all-media--wrap");i.insertAdjacentHTML("beforeend",T);const r=document.querySelector(".tab-active")?.querySelector(".trustshop-view-image-tab-count--tab")?.getAttribute("data-tab")??"All",n="testimonial"===o?window.trustshop_testimonial.currentProductId:E.productId;window.fetch(`${t}/storefront/review-images?product_id=${n}&current_page=${s}&per_page=24&media_type=${{All:"all",Images:"image",Videos:"video","5_star":"5_star","4_star":"4_star","3_star":"3_star","2_star":"2_star","1_star":"1_star"}[r]}`).then((e=>e.json())).then((e=>{e&&(i.querySelector(".trustshop-loading").remove(),e.data.forEach(((e,t)=>{const s=document.createElement("div");s.classList.add("trustshop","trustshop-media-item--wrap");const o=document.createElement("div");o.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&(s.classList.add("trustshop-element-corner--square"),o.classList.add("trustshop-element-corner--square")),C.image_galley_star_rating&&o.appendChild(trustshop_testimonial.allMediaOverlay(e.media_type,e.star)),"video"===e.media_type?(o.classList.add("video"),o.style.backgroundImage=`url(${e.video_thumb})`):(o.classList.add("image"),o.style.backgroundImage=`url(${trustshop_testimonial.handleImageUrl(e.url,"medium")}`),o.addEventListener("click",(()=>{trustshop_testimonial.modalViewMedia("detail",e.review_id,"video"===e.media_type?e.video_thumb:e.url,e.media_type)})),s.appendChild(o),i.appendChild(s)})),e.next_cursor?_.modal_image.next?_.modal_image.next=_.modal_image.next+1:_.modal_image.next=2:_.modal_image.next=null)}))},handleModalImageTab:(e,s)=>{const o={All:"all",Images:"image",Videos:"video","5_star":"5_star","4_star":"4_star","3_star":"3_star","2_star":"2_star","1_star":"1_star"};document.getElementById("trustshop-no-media--container")&&document.getElementById("trustshop-no-media--container").remove();let i=document.querySelector(".trustshop-all-media--wrap");i||(i=document.createElement("div"),i.classList.add("trustshop-all-media--wrap"),document.querySelector(".trustshop-all-media--container").appendChild(i)),document.querySelectorAll(".trustshop-view-image-tab--item").forEach((e=>{e.classList.remove("tab-active")})),document.querySelector(`.trustshop-view-image-tab--${e}`).classList.add("tab-active"),i.innerHTML=T;const r="testimonial"===s?window.trustshop_testimonial.currentProductId:E.productId;window.fetch(`${t}/storefront/review-images?product_id=${r}&media_type=${o[e]}&per_page=24`).then((e=>e.json())).then((t=>{t?(i.querySelector(".trustshop-loading").remove(),0===t.data.length?document.querySelector(".trustshop-all-media--container").innerHTML=trustshop_testimonial.noMedia(o[e]):(t.next_cursor?_.modal_image.next=2:_.modal_image.next=null,_.modal_image.prev=null,t.data.forEach(((e,t)=>{const o=document.createElement("div");o.classList.add("trustshop","trustshop-media-item--wrap");const n=document.createElement("div");n.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&(o.classList.add("trustshop-element-corner--square"),n.classList.add("trustshop-element-corner--square")),C.image_galley_star_rating&&n.appendChild(trustshop_testimonial.allMediaOverlay(e.media_type,e.star)),"video"===e.media_type?(n.classList.add("video"),n.style.backgroundImage=`url(${e.video_thumb})`):(n.classList.add("image"),n.style.backgroundImage=`url(${trustshop_testimonial.handleImageUrl(e.url,"medium")}`),n.addEventListener("click",(()=>{trustshop_testimonial.modalViewMedia("detail",e.review_id,r,"video"===e.media_type?e.video_thumb:e.url,e.media_type,s)})),o.appendChild(n),i.appendChild(o)})))):document.querySelector(".trustshop-all-media--container").innerHTML=trustshop_testimonial.noMedia(o[e])})).catch((t=>{document.querySelector(".trustshop-all-media--container").innerHTML=trustshop_testimonial.noMedia(o[e])}))},loadReviewViewImage:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-review--item"),t.id=`trustshop-review-id--${e.id}`;const s=document.createElement("div");s.classList.add("trustshop","trustshop-review-item--header");const o=document.createElement("div");o.classList.add("trustshop","trustshop-review--author");const i=["1abc9c","16a085","c0392b","9b59b6","8e44ad","bdc3c7","34495e","95a5a6","f1c40f","f39c12","2ecc71","27ae60","d35400","3498db","2980b9","e74c3c","ec87bf","d870ad","f69785","9ba37e","b49255","a94136"];var r=i[Math.floor(Math.random()*i.length)];let n=w.anonymous;n=e.customer.name&&""!==e.customer.name&&"Anonymous"!==e.customer.name?e.customer.name:M.anonymous?.trim()??w.anonymous,!1!==C.customer_name&&"false"!==C.customer_name||(n=n.split(" ").map((e=>e[0]+"*".repeat(e.length-1))).join(" "));const a=n.split(/\s/),d=(a[0]?a[0].slice(0,1):"")+(a[1]?a[1].slice(0,1):"");o.innerHTML=`${C.customer_profile_picture?`<div class=" trustshop trustshop-author--avt"style="background-color: #${r}">\n                                        <p class="trustshop-author-avt--text">${d.toUpperCase()}</p>\n                                    </div>`:""}\n                                    <div class=" trustshop trustshop-author--name">\n                                        <p>${n}</p>\n                                        <div>\n                                            ${!1!==C.review_date?`<div>\n                                                <span class="edit-icon">\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="6" height="4" viewBox="0 0 6 4" fill="none">\n                                                        <g clip-path="url(#clip0_7029_21997)">\n                                                        <path d="M2.63984 3.23203L4.54516 1.75288C4.22459 1.64898 3.93347 1.49717 3.68833 1.3061C3.44209 1.11575 3.24645 0.889667 3.11257 0.640721L1.20725 2.11987C1.05861 2.23526 0.98416 2.29306 0.920272 2.35666C0.844818 2.43171 0.780119 2.51292 0.727319 2.59885C0.682752 2.67165 0.64952 2.74925 0.583055 2.90404L0.232185 3.72061C0.216036 3.758 0.21364 3.79814 0.225267 3.83653C0.236893 3.87492 0.26208 3.91003 0.297998 3.93791C0.333916 3.96579 0.37914 3.98535 0.428587 3.99437C0.478033 4.0034 0.529743 4.00154 0.577903 3.989L1.62974 3.71661C1.82939 3.66501 1.92909 3.63921 2.02286 3.60462C2.13363 3.56362 2.23822 3.51342 2.33483 3.45482C2.41675 3.40522 2.4912 3.34742 2.63984 3.23203ZM5.07378 1.3425C5.26375 1.19501 5.37048 0.994986 5.37048 0.786416C5.37048 0.577845 5.26375 0.377818 5.07378 0.230336C4.88381 0.0828543 4.62615 1.55397e-09 4.35748 0C4.08882 -1.55397e-09 3.83116 0.0828543 3.64119 0.230336L3.41269 0.40773L3.42247 0.429929C3.53508 0.680063 3.71935 0.907092 3.9614 1.0939C4.20923 1.28744 4.51191 1.43331 4.84528 1.51989L5.07378 1.3425Z" fill="#A7ABC3"/>\n                                                        </g>\n                                                        <defs>\n                                                        <clipPath id="clip0_7029_21997">\n                                                            <rect width="5.15246" height="4" fill="white" transform="translate(0.218018)"/>\n                                                        </clipPath>\n                                                        </defs>\n                                                    </svg>\n                                                </span>\n                                                ${C.detail.show_review_time?`<span class=" trustshop trustshop-post-time">\n                                                ${M.text_review_on?.trim()??w.text_review_on}  \n                                                ${new Date(e.created_at).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}\n                                                </span>`:""}\n                                            </div>`:""}\n                                        </div>\n                                    </div>`;const l=document.createElement("div");l.classList.add("trustshop","trustshop-review--rating");const p=document.createElement("p");p.classList.add("trustshop","trustshop-stars");for(let t=1;t<=e.star;t++)p.insertAdjacentHTML("beforeend",B);for(let t=1;t<=5-e.star;t++)p.insertAdjacentHTML("beforeend",B);l.insertAdjacentHTML("afterbegin",trustshop_testimonial.ratingStar(e.star,y.modal_detail_review_star,y.modal_detail_review_star_default).outerHTML),s.insertAdjacentHTML("afterbegin",o.outerHTML),t.insertAdjacentHTML("afterbegin",s.outerHTML);const u=document.createElement("div");u.classList.add("trustshop","trustshop-review-item--middle");const c=e.content.replaceAll(/\n/g,"</br>");u.innerHTML=`\n                                        ${l.outerHTML}\n                                        <p class="review--title">${e.title}</p>\n                                    <p class=" trustshop trustshop-review--content">\n                                        ${c}\n                                    </p>`,t.appendChild(u),t.insertAdjacentHTML("beforeend",`<p class="trustshop-modal-detail-title">${M.modal_image_from_this_review}</p>`),t.appendChild(window.trustshop_testimonial.listMediaReviewViewImage(e));E.productName&&(new TextDecoder).decode(Uint8Array.from(atob(E.productName),(e=>e.charCodeAt(0))));return t.insertAdjacentHTML("beforeend",'\n                <hr class="view-image-review--divider" />\n                \n        '),C.detail.show_purchase_items&&t.insertAdjacentHTML("beforeend",`<div class="trustshop-product-container">\n                <p class="trustshop-review-product--title">\n                    ${M.purchased_item??w.purchased_item}:\n                </p>\n                <a href="${document.querySelector(".testimonial--active")?document.querySelector(".testimonial--active").getAttribute("product-link"):""}" target="_blank">\n                    <div>\n                        <img\n                        src="${e.featured_image}"\n                        alt="${e.product_name}"\n                        width="100%"\n                        height="100%"/>\n                    </div>\n                    <div class="trustshop-product--info">\n                        <p class="trustshop-product--name">${e.product_name}</p>\n                        <p class="trustshop-product--price"<span>${E.currencySymbol||window.trustshop_testimonial.shopInfo.currency_symbol}${E.productPrice||e.price}</span>${E.productPriceCompare||e.compare_price?`<span>${E.productPriceCompare||e.compare_price}</span>`:""}</p>\n                    </div>\n                </a>\n            </div>`),t.appendChild(window.trustshop_testimonial.viewImageReviewAction(e)),t},viewImageReviewAction:e=>{const t=document.createElement("div");if(t.classList.add("review-item-action--field"),!1!==C.button_helpful&&t.appendChild(trustshop_testimonial.helpfulBtn(e.id,e.helpful,"viewImage")),!1!==C.button_helpful&&!1!==C.button_report){const e=document.createElement("div");e.classList.add("action-field--divider"),t.appendChild(e)}if(!1!==C.button_report){const s=document.createElement("button");s.classList.add("trustshop-report--btn","trustshop-button"),s.innerHTML=`<svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M9.33464 8.52337C9.44823 8.52331 9.55993 8.49422 9.65912 8.43887C9.75832 8.38352 9.84173 8.30374 9.90143 8.2071C9.96114 8.11047 9.99516 8.00017 10.0003 7.8867C10.0054 7.77322 9.98141 7.66031 9.93064 7.5587L8.74664 5.19003L9.93064 2.82137C9.98141 2.71975 10.0054 2.60685 10.0003 2.49337C9.99516 2.37989 9.96114 2.2696 9.90143 2.17296C9.84173 2.07633 9.75832 1.99655 9.65912 1.9412C9.55993 1.88585 9.44823 1.85676 9.33464 1.8567H2.0013V1.19003C2.0013 1.01322 1.93106 0.843653 1.80604 0.718629C1.68102 0.593605 1.51145 0.523367 1.33464 0.523367C1.15782 0.523367 0.988255 0.593605 0.863231 0.718629C0.738207 0.843653 0.667969 1.01322 0.667969 1.19003V13.19C0.667969 13.3668 0.738207 13.5364 0.863231 13.6614C0.988255 13.7865 1.15782 13.8567 1.33464 13.8567C1.51145 13.8567 1.68102 13.7865 1.80604 13.6614C1.93106 13.5364 2.0013 13.3668 2.0013 13.19V8.52337H9.33464Z" fill="#74788D"/>\n                </svg>\n                <span>${M.text_report??w.text_report}</span>`,s.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.add("trustshop-show--report"),document.querySelector(".trustshop-report--submit").value=e.id})),t.appendChild(s)}return t},viewMedia:(e,t,s)=>{const o=document.getElementById("trustshop-view-image--wrap");if(o&&o.firstChild&&o.removeChild(o.firstChild),"video"===e){const e=document.createElement("video");e.id="trustshop-view-video-detail",e.style.width="100%",e.style.height="100%",e.controls=!0,e.src=t,e.poster=s,e.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",e.src=t,e.setAttribute("allowfullscreen","false"),e.classList.add="trustshop-media-view--detail",o.appendChild(e);try{trustshop_testimonial.currentVideo=e}catch(e){throw e}}else o.innerHTML=`<img\n                                src="${trustshop_testimonial.handleImageUrl(t,"big")}"\n                                alt=""\n                                id="trustshop-media-view--detail"\n                                width = "100%"\n                                height ="100%"\n                                >`},listMediaReviewViewImage:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-view-image-list--wrap");const s=document.createElement("div");return s.classList.add("trustshop","trustshop-view-image--list"),e.medias.length<=0||(e.medias.forEach(((e,t)=>{const o=document.createElement("div");if(o.classList.add("trustshop","trustshop-view-image--item","trustshop-media"),"square"===q.element_corners&&o.classList.add("trustshop-element-corner--square"),k===t&&o.classList.add("image-item--outline"),o.addEventListener("click",(s=>{s.preventDefault(),k=t,document.querySelector(".image-item--outline").classList.remove("image-item--outline"),o.classList.add("image-item--outline"),trustshop_testimonial.handleToogleSwiperBtn(),trustshop_testimonial.viewMedia(e.media_type,e.url,e.video_thumb)})),"video"===e.media_type){const t=document.createElement("img");t.src=`${e.video_thumb}`,t.style.width="100%",t.style.height="100%";const s=document.createElement("video");s.id=`trustshop-video-${e.id}`,s.classList.add("trustshop-review-media--video"),s.src=e.url,s.style.display="none";const i=document.createElement("div");i.classList.add("trustshop","trustshop-video-overlay","trustshop-overlay"),i.id=`trustshop-video-overlay-${e.id}`,i.innerHTML='<svg\n                                                    width="11"\n                                                    height="7"\n                                                    viewBox="0 0 11 7"\n                                                    fill="none"\n                                                    xmlns="http://www.w3.org/2000/svg">\n                                                    <path\n                                                        fill-rule="evenodd"\n                                                        clip-rule="evenodd"\n                                                        d="M1.65 0C1.21239 0 0.792709 0.158035 0.483274 0.43934C0.173839 0.720644 0 1.10218 0 1.5V5.5C0 5.89782 0.173839 6.27936 0.483274 6.56066C0.792709 6.84196 1.21239 7 1.65 7H7.15C7.58761 7 8.00729 6.84196 8.31673 6.56066C8.62616 6.27936 8.8 5.89782 8.8 5.5V4.707L10.0611 5.8535C10.1381 5.92341 10.2361 5.97101 10.3427 5.99029C10.4494 6.00958 10.56 5.99967 10.6605 5.96184C10.7609 5.924 10.8468 5.85993 10.9073 5.77773C10.9677 5.69552 11 5.59888 11 5.5V1.5C11 1.40112 10.9677 1.30448 10.9073 1.22227C10.8468 1.14007 10.7609 1.076 10.6605 1.03816C10.56 1.00033 10.4494 0.990424 10.3427 1.00971C10.2361 1.02899 10.1381 1.0766 10.0611 1.1465L8.8 2.293V1.5C8.8 1.10218 8.62616 0.720644 8.31673 0.43934C8.00729 0.158035 7.58761 0 7.15 0H1.65Z"\n                                                        fill="white" />\n                                                </svg>',s.addEventListener("loadedmetadata",(()=>{var t=Math.floor(s.duration.toFixed(0)/60),o=Math.floor(s.duration.toFixed(0)%60);o=o>=10?o:"0"+o,document.querySelector(".trustshop-view-image--list").querySelector(`#trustshop-video-overlay-${e.id}`).insertAdjacentHTML("beforeend",`<p >${t+":"+o}</p>`)})),o.appendChild(s),o.appendChild(t),o.insertAdjacentHTML("beforeend",i.outerHTML)}else{const t=document.createElement("img");t.style.width="100%",t.style.height="100%",t.src=trustshop_testimonial.handleImageUrl(e.url,"small"),o.insertAdjacentHTML("afterbegin",t.outerHTML)}s.appendChild(o)})),t.appendChild(s)),t},allMediaOverlay:(e,t)=>{const s=document.createElement("div");if(s.classList.add("trustshop","trustshop-all-media--overlay"),"video"===e&&(s.innerHTML='<div class="trustshop trustshop-video--overlay">\n                    <svg width="32" height="37" viewBox="0 0 32 37" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M30.384 15.624C30.8744 15.9048 31.2819 16.3101 31.5654 16.799C31.8488 17.2878 31.9981 17.8429 31.9981 18.408C31.9981 18.9731 31.8488 19.5282 31.5654 20.017C31.2819 20.5059 30.8744 20.9112 30.384 21.192L4.932 35.96C2.852 37.168 0 35.788 0 33.176V3.64C0 1.028 2.852 -0.351999 4.932 0.856L30.384 15.624Z" fill="#FAFAFA"/>\n                    </svg>\n                </div>'),C.modal_all_medias.show_star_rating&&"false"!==C.modal_all_medias.show_star_rating){const e=document.createElement("div");e.classList.add("trustshop","trustshop-all-media-rating--overlay"),e.innerHTML=`<span>${t}</span>${trustshop_testimonial.ratingStar(t,y.modal_all_medias_star_icon).outerHTML}`,s.appendChild(e)}return s},viewAllImage:e=>{const s=document.createElement("div");s.classList.add("trustshop-all-media--container");const o=document.createElement("div");o.classList.add("trustshop-all-media--wrap"),o.innerHTML=T,s.appendChild(o),s.addEventListener("scroll",(t=>{t.target.scrollTop+t.target.clientHeight+5>=t.target.scrollHeight&&(t.preventDefault(),_.modal_image.next&&!document.querySelector(".trustshop-all-media--wrap").querySelector(".trustshop-loading")&&trustshop_widgetreviews.handleModalImagePagination(t,_.modal_image.next,e))}),{passive:!1});const i=Object.keys(C.modal_all_medias.filterList).find((e=>!0===C.modal_all_medias.filterList[e])),r="testimonial"===e?window.trustshop_testimonial.currentProductId:E.productId;return window.fetch(`${t}/storefront/review-images?product_id=${r}&per_page=24&media_type=${{All:"all",Images:"image",Videos:"video","5_star":"5_star","4_star":"4_star","3_star":"3_star","2_star":"2_star","1_star":"1_star"}[i]||"all"}`,{method:"GET"}).then((e=>e.json())).then((t=>{o.querySelector(".trustshop-loading").remove(),t?t.data.length<1?s.innerHTML=trustshop_reviews.noMedia("all"):(t.next_cursor?_.modal_image.next=2:_.modal_image.next=null,_.modal_image.prev=null,t.data.forEach(((t,s)=>{const i=document.createElement("div");i.classList.add("trustshop","trustshop-media-item--wrap");const n=document.createElement("div");n.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&(i.classList.add("trustshop-element-corner--square"),n.classList.add("trustshop-element-corner--square")),C.image_galley_star_rating&&n.appendChild(trustshop_reviews.allMediaOverlay(t.media_type,t.star)),"video"===t.media_type?(n.classList.add("video"),n.style.backgroundImage=`url(${t.video_thumb})`):(n.classList.add("image"),n.style.backgroundImage=`url(${trustshop_widgetreviews.handleImageUrl(t.url,"medium")})`),n.addEventListener("click",(()=>{trustshop_widgetreviews.modalViewMedia("detail",t.review_id,r,"video"===t.media_type?t.video_thumb:t.url,t.media_type,e)})),i.appendChild(n),o.appendChild(i)}))):s.innerHTML=trustshop_reviews.noMedia("all")})).catch((e=>{s.innerHTML=trustshop_reviews.noMedia("all")})),s},helpfulBtn:(e,s,o)=>{const i=document.createElement("button");return i.value=e,i.classList.add("trustshop","trustshop-helpful-btn","trustshop-button"),i.id=`trustshop-helpful-btn--${e}`,i.innerHTML=`\n                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M12.8422 7.34052C13.1047 6.99364 13.25 6.56864 13.25 6.12645C13.25 5.42489 12.8578 4.76083 12.2266 4.39051C12.0641 4.29519 11.879 4.24503 11.6906 4.2452H7.94375L8.0375 2.32489C8.05938 1.86083 7.89531 1.4202 7.57656 1.08426C7.42014 0.918683 7.23141 0.786941 7.02206 0.697179C6.8127 0.607417 6.58716 0.561542 6.35938 0.562389C5.54688 0.562389 4.82813 1.10926 4.6125 1.89208L3.27031 6.75145H3.26563V13.439H10.6453C10.7891 13.439 10.9297 13.4108 11.0594 13.3546C11.8031 13.0374 12.2828 12.3108 12.2828 11.5046C12.2828 11.3077 12.2547 11.114 12.1984 10.9265C12.4609 10.5796 12.6063 10.1546 12.6063 9.71239C12.6063 9.51552 12.5781 9.32176 12.5219 9.13426C12.7844 8.78739 12.9297 8.36239 12.9297 7.9202C12.9266 7.72333 12.8984 7.52802 12.8422 7.34052ZM0.75 7.25145V12.939C0.75 13.2155 0.973438 13.439 1.25 13.439H2.26563V6.75145H1.25C0.973438 6.75145 0.75 6.97489 0.75 7.25145Z" fill="#616161"/>\n                    </svg><span class="helpful-count--${e} helpful-count">(${s})</span>`,i.addEventListener("click",(o=>{o.preventDefault();const i=o.currentTarget;if(!1===i.classList.contains("trustshop-helpful-btn--checked"))window.fetch(`${t}/storefront/helpful`,{method:"POST","Content-Type":"application/json",body:JSON.stringify({review_id:i.value})}).then((e=>e.json())).then((t=>{if(!0===t.status){for(let e of document.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.add("trustshop-helpful-btn--checked"),e.disabled=!0;const t=document.querySelectorAll(`.helpful-count--${e}`);for(item of t)item.innerHTML=`(${s+1})`;for(let e of document.querySelectorAll(`.trustshop-helpful-btn--${i.value}`))e.classList.contains("trustshop--hidden")&&e.classList.remove("trustshop--hidden")}else for(let e of document.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.add("trustshop-helpful-btn--checked"),e.disabled=!0})).catch((e=>{for(let e of document.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.add("trustshop-helpful-btn--checked"),e.disabled=!0}));else{const e=new FormData;e.append("review_id",i.value),window.fetch(`${t}/storefront/unhelpful`,{method:"POST","Content-Type":"application/json",body:e}).then((e=>e.json())).then((e=>{if(!0===e.status)for(let e of document.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.remove("trustshop-helpful-btn--checked")}))}})),i},reportBtn:e=>{const t=document.createElement("div");t.classList.add("trustshop-report--container");const s=document.createElement("button");s.innerHTML=H,s.classList.add("trustshop-close-report--btn"),s.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.remove("trustshop-show--report")})),t.appendChild(s),t.addEventListener("click",(e=>{e.stopPropagation()}));const o=document.createElement("div");o.classList.add("trustshop-report--content"),o.innerHTML=`<p class=" trustshop trustshop-review-header trustshop-title trustshop-report--title ">\n                                        ${M.modal_report_title?.trim()??w.modal_report_title}\n                                    </p>\n                                    <div class="trustshop-report--subtitle">\n                                        ${(()=>{const e=/\{\{\s*([^}\s]+)\s*\}\}/;return M.modal_report_subtitle?M.modal_report_subtitle.match(e)?M.modal_report_subtitle.replace(e,`<b>${Shopify.shop.split(".")[0]}</b>`).replace(/\./,".</br>"):M.modal_report_subtitle.replace(/\./,".</br>"):`<p>\n                Thank you for taking the time to help <b>${Shopify.shop.split(".")[0]}</b>.\n            </p>\n            <p>\n                Your report is anonymous.\n            </p>`})()}\n                                    </div>`;const i=document.createElement("div");i.classList.add("trustshop-report--list");[M.modal_report_option_1?.trim()??w.modal_report_option_1,M.modal_report_option_2?.trim()??w.modal_report_option_2,M.modal_report_option_3?.trim()??w.modal_report_option_3,M.modal_report_option_4?.trim()??w.modal_report_option_4,M.modal_report_option_5?.trim()??w.modal_report_option_5].map(((e,t)=>{const s=document.createElement("label");s.classList.add("trustshop-report--item"),s.innerHTML=`${e}`;const o=document.createElement("input");o.type="radio",o.name="trustshop-report",o.value=e;const r=document.createElement("span");r.classList.add("trustshop-report--checkmark"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">\n                                        <circle cx="4" cy="4" r="4" fill="#696b73"/>\n                                    </svg>',0===t&&(o.checked=!0),s.appendChild(o),s.appendChild(r),i.appendChild(s)}));const r=document.createElement("button");return r.classList.add("trustshop-button","trustshop-report--submit"),r.innerHTML=M.modal_report_btn?.trim()??w.modal_report_btn,r.addEventListener("click",(e=>{e.preventDefault(),trustshop_testimonial.handleReportReview()})),o.appendChild(i),o.appendChild(r),t.appendChild(o),t}},window.trustshop_testimonial.initTestimonial(),window.trustshop_onepage={widget_container:document.getElementById("trustshop-review-one--page"),shopInfo:document.getElementById("trustshop-get-shop_info")&&document.getElementById("trustshop-get-shop_info").value?JSON.parse(document.getElementById("trustshop-get-shop_info").value):{},show_all_review:!document.getElementById("trustshop-review-page-show_all_reviews")||!document.getElementById("trustshop-review-page-show_all_reviews").value||JSON.parse(document.getElementById("trustshop-review-page-show_all_reviews").value),pagination:{review:1,slide_image:1,modal_image:{prev:null,next:1},from:!1,detail:{prev:null,next:null}},mediaList:[],mediaListDetail:[],imageCurrent:0,imageVariant:{small:"300",medium:"450",big:"600"},reviewPerPage:6,position:{imageFromReview:0,viewImage:0},review_to_show:document.getElementById("trustshop-review-page-review_of_products")&&document.getElementById("trustshop-review-page-review_of_products").value?JSON.parse(document.getElementById("trustshop-review-page-review_of_products").value):[],get review_of_products(){return this.show_all_review?"":this.review_to_show.length>0?this.review_to_show.map((e=>e.split("gid://shopify/Product/")[1])).toString():""},layoutBox:document.getElementById("trustshop-review-page_layout")&&document.getElementById("trustshop-review-page_layout").value?document.getElementById("trustshop-review-page_layout").value:"grid",summaryBoxLayout:document.getElementById("trustshop-review-page-summary--box_layout")&&document.getElementById("trustshop-review-page-summary--box_layout").value?document.getElementById("trustshop-review-page-summary--box_layout").value:"center",default_color_setting:{page_background_color:"#FFFFFF",primary_color:"#3D4153",secondary_color:"#FFFFFF",title_text_color:"#3D4153",all_photo_button_color:"#005BD3",primary_text_color:"#1A1A1A",secondary_text_color:"#74788D",star_icon_color:"#FFB400",line_color:"#A7ABC3",filter_sort_text:"#3D4153",filter_sort_background:"#F2F2F6",rating_process_color:"#FFB400",rating_process_empty_color:"#E7E7E7",user_name_color:"#303030",load_more_color:"#3D4153",product_background_color:"#F3F3F3",product_text_color:"#303030",modal_all_medias_headline_title:"#121212",modal_all_medias_filter_label:"#3D4153",modal_all_medias_filter_background:"#f2f2f6",modal_all_medias_selected_filter_label:"#FFFFFF",modal_all_medias_selected_filter_background:"#3D4153",modal_all_medias_star_icon:"#FFB400",modal_all_medias_rating_background:"#FAFAFA",modal_detail_customer_name:"#121212",modal_detail_review_time_title:"#74788D",modal_detail_review_star:"#FFB400",modal_detail_review_star_default:"#CCCCCC",modal_detail_review_star_field_background:"#F1F1F1",modal_detail_review_title:"#3D4153",modal_detail_review_content:"#303030",modal_detail_navigator_button:"#FFFFFF",modal_detail_navigator_arrow:"#303030",modal_detail_product_name:"#303030",modal_detail_product_price:"#303030",modal_detail_icon_title:"#74788D",modal_detail_selected_icon:"#1E4786",modal_detail_icon_background:"#F2F2F6",modal_detail_divider:"#F2F2F6",modal_detail_card_background:"#FFFFFF"},get color_setting(){return document.getElementById("trustshop-review-page-color_customize")&&document.getElementById("trustshop-review-page-color_customize").value?{...this.default_color_setting,...JSON.parse(document.getElementById("trustshop-review-page-color_customize").value)}:this.default_color_setting},default_section_show:{summary_box:!0,product:!0,customer_name:!0,customer_profile_picture:!0,review_date:!0,button_helpful:!0,button_report:!0,summary_star_icon:!0,summary_number_of_reviews:!0,summary_border:!0,image_galley_star_rating:!0,show_review_media:!0,number_of_reviews:!0,media_size_on_review:100,media_size_on_galley:100,detail:{show_review_media:!0,show_review_time:!0,show_purchase_items:!0,star_size:16},modal_all_medias:{filterList:{All:!0,Images:!0,Videos:!0,"5_star":!0,"4_star":!0,"3_star":!0,"2_star":!0,"1_star":!0},show_star_rating:!0,show_helpful_button:!0},title:{status:!0,content:"Our customers love us",size:32,text_style:[]},sub_title:{status:!0,content:"See what the community is saying about us",size:16,text_style:[]}},get section_show(){if(!document.getElementById("trustshop-review-page-section_show")&&!document.getElementById("trustshop-review-page-section_show").value)return this.default_section_show;try{const e=(new TextDecoder).decode(Uint8Array.from(atob(document.getElementById("trustshop-review-page-section_show").value),(e=>e.charCodeAt(0))));return{...this.default_section_show,...JSON.parse(e)}}catch(e){if(document.getElementById("trustshop-review-page-section_show")&&document.getElementById("trustshop-review-page-section_show").value){const e=(new TextDecoder).decode(Uint8Array.from(atob(document.getElementById("trustshop-review-page-section_show").value),(e=>e.charCodeAt(0))));return{...this.default_section_show,title:{...this.default_section_show,content:e}}}return this.default_section_show}},default_filter_tab:["most_helpful","highest_rating","lowest_rating","oldest","newest","review_with_photos","stars_filter"],get filter_tab(){return document.getElementById("trustshop-review-page-sort_filter")&&document.getElementById("trustshop-review-page-sort_filter").value?JSON.parse(document.getElementById("trustshop-review-page-sort_filter").value):this.default_filter_tab},default_review_per_page:{review_per_page_desktop:20,review_per_page_mobile:10},get review_per_page(){return document.getElementById("trustshop-review-page-review_per_page")&&document.getElementById("trustshop-review-page-review_per_page").value?{...this.default_review_per_page,...JSON.parse(document.getElementById("trustshop-review-page-review_per_page").value)}:this.default_review_per_page},default_label_content:{text_customer_reviews:"Customer Reviews",text_reviews:"Reviews",text_review:"Review",text_review_this_product:"Review this product",text_share_your_thoughts:"Share your thoughts with other customers",btn_write_a_review:"Write a review",text_images_from_reviews:"Images from reviews",text_review_with_comments:"Review with comments",all_photos:"All photos",label_filter_all:"All",label_filter_most_helpful:"Most helpful",label_filter_highest_rating:"Highest rating",label_filter_lowest_rating:"Lowest rating",label_filter_oldest:"Oldest",label_filter_newest:"Newest",label_filter_review_with_photos:"Review with photos",label_filter_stars_filter:"Star filter(1-5)",text_review_on:"Review on",text_people_found_helpful:"people found this helpful",text_helpful:"Helpful",text_report:"Report",text_reply_from:"Reply from",anonymous:"Anonymous",btn_load_more_review:"Load more reviews",modal_view_image_text_all_media:"All photos",modal_all_media_title:"Reviews gallery",text_all:"All",text_image:"Images",text_video:"Videos",no_media:"No medias uploaded yet!",no_image:"No images uploaded yet!",no_video:"No videos uploaded yet!",purchased_item:"Purchased item",view_product:"View product"},get label_content(){return document.getElementById("trustshop-review-page-label_content")&&document.getElementById("trustshop-review-page-label_content").value?{...this.default_label_content,...JSON.parse(document.getElementById("trustshop-review-page-label_content").value)}:this.default_label_content},handleNullLabelContent:e=>{const t=window.trustshop_onepage.default_label_content;return Object.keys(t).forEach((s=>{void 0===e[s]?t[s]=window.trustshop_onepage.default_label_content[s]:null===e[s]?t[s]="":t[s]=e[s]})),t},checkHiddenParent:e=>{let t=e.parentNode;for(;t&&t!==document.body;){if("none"===window.getComputedStyle(t).display)return t;t=t.parentNode}return null},checkPageWidth:()=>{const e=window.innerWidth;e>789||e<=789&&e>575||e<=575&&e>375?trustshop_onepage.imageVariant={small:"300",medium:"450",big:"600"}:e<=375&&(trustshop_onepage.imageVariant={small:"300",medium:"300",big:"450"})},checkDevice:()=>{/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?trustshop_onepage.reviewPerPage=window.trustshop_onepage.review_per_page.review_per_page_mobile&&""!==window.trustshop_onepage.review_per_page.review_per_page_mobile?window.trustshop_onepage.review_per_page.review_per_page_mobile:6:trustshop_onepage.reviewPerPage=window.trustshop_onepage.review_per_page.review_per_page_desktop&&""!==window.trustshop_onepage.review_per_page.review_per_page_desktop?window.trustshop_onepage.review_per_page.review_per_page_desktop:6},variableExists:e=>{let t=document.getElementById("trustshop-css-variable");if(!t)return!1;let s=t.innerHTML.match(/:root\s*\{[^}]*\}/);return!!s&&s[0].replace(":root {","").replace("}","").trim().split(";").map((e=>e.trim())).some((t=>t.startsWith(e)))},handleRootColor:(e,t,s,o)=>{const i=new Set;let r=document.getElementById("trustshop-css-variable");r||(r=document.createElement("style"),r.id="trustshop-css-variable",document.head.appendChild(r));let n=r.innerHTML,a=n.match(/:root\s*\{[^}]*\}/),d=a?a[0].replace(":root {","").replace("}","").trim():"";d.split(";").forEach((e=>{const[t]=e.split(":").map((e=>e.trim()));t.startsWith("--")&&i.add(t)}));let l=d?d+"\n":"";Object.entries(e).forEach((([r,n])=>{const a=`--trustshop-${s?s+"-":""}${r.replaceAll("_","-")}${o?"-"+o:""}`;i.has(a)||(l+=`${a}: ${t[r]&&""!==t[r]?t[r]:e[r]};\n`,i.add(a))})),a?r.innerHTML=n.replace(a[0],`:root {${l}}`):r.innerHTML+=`:root {${l}}\n`},colorVariable:(e,t,s,o)=>{let i=trustshop_onepage.widget_container;if(!i)return;const r=trustshop_testimonial.variableExists("--trustshop-bg-no-review-color");Object.entries(e).forEach((([n,a])=>{n.includes("modal")?r||trustshop_onepage.handleRootColor({[n]:a},{[n]:a},s,o):(i.style.setProperty(`--trustshop-${s?s+"-":""}${n.replaceAll("_","-")}${o?"-"+o:""}`,t[n]&&""!==t[n]?t[n]:e[n]),"primary_color"===n&&(r||trustshop_onepage.handleRootColor({[n]:a},{[n]:a},s,o)))}))},sizeVariable:(e,t)=>{let s=trustshop_onepage.widget_container;s||(s=document.body),Object.entries(e).forEach((([o,i])=>{"boolean"!=typeof i&&s.style.setProperty(`${t}${o.replaceAll("_","-")}`,e[o]+"px")}))},currentVideo:null,dataFetch:e=>fetch(e,{method:"GET"}).then((e=>e.json())).then((e=>e)).catch((e=>{})),initReviews:async()=>{if("true"!==trustshop_onepage.shopInfo.is_show&&!trustshop_onepage.shopInfo.is_show)return;const e=document.getElementById("trustshop-review-one--page");if(!e)return!1;e.innerHTML="<span></span>",trustshop_onepage.label_content=trustshop_onepage.handleNullLabelContent(trustshop_onepage.label_content),trustshop_onepage.checkPageWidth(),trustshop_onepage.checkDevice(),e.classList.add("trustshop-review-type--grid"),e.closest(".page-width")?e.closest(".page-width").classList.contains("scroll-trigger")&&e.closest(".page-width").classList.remove("scroll-trigger"):e.closest(".scroll-trigger")&&e.closest(".scroll-trigger").classList.remove("scroll-trigger");const s=document.createElement("div");if(s.classList.add("trustshop-layout-box--top"),window.trustshop_onepage.section_show.summary_box){const o=await window.fetch(`${t}/storefront/page/summary?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_ids=${window.trustshop_onepage.review_of_products}`,{method:"GET"}),i=await o.json();if(i.error)return void(e.style.display="none");e.innerHTML=T,trustshop_onepage.colorVariable(window.trustshop_onepage.default_color_setting,window.trustshop_onepage.color_setting),trustshop_onepage.widget_container.style.setProperty("--trustshop-media-size-on-review",80*trustshop_onepage.section_show.media_size_on_review/100+"px"),trustshop_onepage.widget_container.style.setProperty("--trustshop-media-size-on-galley",110*trustshop_onepage.section_show.media_size_on_galley/100+"px");const r=trustshop_onepage.loadSummaryBox(i);s.appendChild(r)}const o=[`${t}/storefront/page/review-images?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_ids=${window.trustshop_onepage.review_of_products}`,`${t}/storefront/page/reviews?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_ids=${window.trustshop_onepage.review_of_products}&type=${trustshop_onepage.filter_tab.length<1?"all":"stars_filter"===trustshop_onepage.filter_tab[0]?"5_star":trustshop_onepage.filter_tab[0]}&per_page=${trustshop_onepage.reviewPerPage}`],i=Promise.all(o.map(trustshop_onepage.dataFetch)).then((e=>e)).catch((e=>{})),r=await i,n=r[0],a=r[1];if(n&&n.data.length>0&&(trustshop_onepage.mediaList=n.data,n.next_cursor?trustshop_onepage.pagination.slide_image=trustshop_onepage.pagination.slide_image+1:trustshop_onepage.pagination.slide_image=null),0===a.data.length)e.querySelector(".trustshop-loading").remove(),e.appendChild(trustshop_onepage.noReview()),window.trustshop_onepage.color_setting.page_background_color&&window.trustshop_onepage.color_setting.page_background_color.toLowerCase()!=="#FFFFFF".toLowerCase()&&(e.style.backgroundColor=window.trustshop_onepage.color_setting.page_background_color,e.style.boxShadow=`0 0 0 100vmax ${window.trustshop_onepage.color_setting.page_background_color}`,e.style.clipPath="inset(0 -100vmax)");else{window.trustshop_onepage.color_setting.page_background_color&&window.trustshop_onepage.color_setting.page_background_color.toLowerCase()!=="#FFFFFF".toLowerCase()&&(e.style.backgroundColor=window.trustshop_onepage.color_setting.page_background_color,e.style.boxShadow=`0 0 0 100vmax ${window.trustshop_onepage.color_setting.page_background_color}`,e.style.clipPath="inset(0 -100vmax)"),e.innerHTML=trustshop_onepage.onepage_header().outerHTML;const t=document.createElement("div");t.classList.add("trustshop","trustshop-review--body");const o=document.createElement("div");if(o.classList.add("trustshop","trustshop-review-body--header"),trustshop_onepage.section_show.show_review_media&&"false"!==trustshop_onepage.section_show.show_review_media&&o.appendChild(trustshop_onepage.imageFromReview(trustshop_onepage.pagination.slide_image)),trustshop_onepage.filter_tab.length>0&&o.appendChild(trustshop_onepage.tabFilter()),t.appendChild(o),a.next_cursor?trustshop_onepage.pagination.review=trustshop_onepage.pagination.review+1:trustshop_onepage.pagination.review=null,"grid"===trustshop_onepage.layoutBox)t.appendChild(trustshop_onepage.loadReviewList2(a.data,trustshop_onepage.pagination.review));else t.appendChild(trustshop_onepage.loadReviewList1(a.data,trustshop_onepage.pagination.review));if(s.appendChild(t),e.appendChild(s),"grid"===trustshop_onepage.layoutBox){const t=trustshop_onepage.checkHiddenParent(e.querySelector(".trustshop-review--list.trustshop-review-list--grid"));t?(t.classList.add("temp-show"),trustshop_onepage_actions.handleResizeAllGridItems(),t.classList.remove("temp-show")):trustshop_onepage_actions.handleResizeAllGridItems()}trustshop_onepage_actions.handleSlideImageButton(trustshop_onepage.pagination.slide_image)}document.querySelectorAll(".trustshop-form-star--rating").forEach((e=>{e.addEventListener("click",(e=>{document.getElementById("trustshop-warning--rating").classList.remove("show-trustshop-warning")}))}));const d=document.createElement("div");d.classList.add("trustshop-report--overlay"),d.appendChild(trustshop_onepage.reportBtn()),d.addEventListener("click",(()=>{d.classList.contains("trustshop-show--report")&&d.classList.remove("trustshop-show--report")})),document.body.appendChild(d),document.body.appendChild(window.trustshop_onepage.backToTopBtn())},backToTopBtn:()=>{const e=document.createElement("div");return e.classList.add("trustshop-button","trustshop-back-to-top--btn","trustshop--hidden"),e.innerHTML='<svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5 13.5C4.58579 13.5 4.25 13.1642 4.25 12.75L4.25 3.06039L1.53036 5.7803C1.23748 6.07321 0.762604 6.07324 0.469696 5.78036C0.176788 5.48748 0.176764 5.0126 0.469643 4.7197L4.46964 0.719296C4.6103 0.578627 4.80107 0.499599 5 0.499599C5.19892 0.499599 5.3897 0.578627 5.53036 0.719296L9.53036 4.7197C9.82323 5.0126 9.82321 5.48748 9.5303 5.78036C9.23739 6.07324 8.76252 6.07321 8.46964 5.7803L5.75 3.06039L5.75 12.75C5.75 13.1642 5.41421 13.5 5 13.5Z" fill="#4A4A4A"/>\n                        </svg>\n                        <span>Back to top</span>\n                            ',e.addEventListener("click",(()=>{document.getElementById("trustshop-review-one--page").scrollIntoView()})),e},onepage_header:()=>{const e=document.createElement("div");return e.classList.add("trustshop-review-one-page--wrap"),e.innerHTML=`<p class="trustshop trustshop-review-one-page--title" style="font-weight: ${window.trustshop_onepage.section_show.title.text_style.includes("bold")?"bold":"normal"}; font-style: ${window.trustshop_onepage.section_show.title.text_style.includes("italic")?"italic":"normal"}; text-decoration: ${window.trustshop_onepage.section_show.title.text_style.includes("underline")?"underline":"none"}; font-size: ${window.trustshop_onepage.section_show.title.size||16}px; display: ${window.trustshop_onepage.section_show.title.status?"block":"none"}">${window.trustshop_onepage.section_show.title.content}</p>\n    <p class="trustshop trustshop-review-one-page--subtitle"style="font-weight: ${window.trustshop_onepage.section_show.sub_title.text_style.includes("bold")?"bold":"normal"}; font-style: ${window.trustshop_onepage.section_show.sub_title.text_style.includes("italic")?"italic":"normal"}; text-decoration: ${window.trustshop_onepage.section_show.sub_title.text_style.includes("underline")?"underline":"none"}; font-size: ${window.trustshop_onepage.section_show.sub_title.size||16}px; display: ${window.trustshop_onepage.section_show.sub_title.status?"block":"none"}">${window.trustshop_onepage.section_show.sub_title.content}</p>`,e},onepage_prod:(e,t,s)=>{const o=document.createElement("div");return o.classList.add("trustshop","trustshop-one-page-product--wrap"),"square"===q.element_corners&&o.classList.add("trustshop-element-corner--square"),o.innerHTML=`<div class="trustshop-one-page-product--img">\n        <img src="${t}&width=20" alt="${s}" width="100%" height="100%" />\n    </div>\n    <span class="trustshop-one-page-product--name">${s}</span>`,e&&(o.style.cursor="pointer",o.addEventListener("click",(()=>{window.open(`${window.shopUrl}/products/${e}`,"_blank")}))),o},noReview:()=>{const e=document.createElement("div");return e.classList.add("trustshop-no--review"),"square"===q.element_corners&&e.classList.add("trustshop-element-corner--square"),e.innerHTML='\n       <div class="trustshop trustshop-no-media--container" id="trustshop-no-media--container">\n            <div class="trustshop-no-media--img">\n            <img\n                src="https://cdn.shopify.com/extensions/1d58b11e-67d4-4759-9832-075599757e1d/0.0.0/assets/trustshop-no-review-img.png?v=1700352987"\n                alt="no review"\n                width="100%"\n                height="100%">\n        </div>\n        <p class="trustshop-no-media--title">\n            No reviews yet!\n        </p>\n            </div>\n    ',e},noMedia:e=>{let t="";switch(e){case"all":default:t=trustshop_onepage.label_content.no_media?.trim()??window.trustshop_onepage.default_label_content.no_media;break;case"image":t=trustshop_onepage.label_content.no_image?.trim()??window.trustshop_onepage.default_label_content.no_image;break;case"video":t=trustshop_onepage.label_content.no_video?.trim()??window.trustshop_onepage.default_label_content.no_video}return`<div class="trustshop trustshop-no-media--container" id="trustshop-no-media--container">\n<div class="trustshop-no-media--img">\n<img\n    src="https://cdn.shopify.com/extensions/1d58b11e-67d4-4759-9832-075599757e1d/0.0.0/assets/trustshop-no-review-img.png?v=1700352987"\n    alt="no review"\n    width="100%"\n    height="100%">\n</div>\n<p class="trustshop-no-media--title">\n${t}\n</p>\n</div>`},loadSummaryBox:e=>{const t=document.createElement("div"),s=document.createElement("div");t.classList.add("trustshop","trustshop-summary-box-type--top"),s.classList.add("trustshop","trustshop-score-card-type--top"),"square"===q.element_corners&&s.classList.add("trustshop-element-corner--square"),trustshop_onepage.section_show.summary_border||(s.style.border="none"),"left"===window.trustshop_onepage.summaryBoxLayout&&t.classList.add("trustshop-one-page-type--left"),s.id="trustshop-score--card";const o=document.createElement("div");o.classList.add("trustshop-overview--wrap");const i=document.createElement("div");return i.classList.add("trustshop","trustshop-overview--container"),e?(i.innerHTML=`\n            <div class=" trustshop trustshop-overview-content">\n                <div class=" trustshop trustshop-overview-rating">\n                    <p class=" trustshop trustshop-rating">\n                        <span>${e.average_review}</span>\n                        ${trustshop_onepage.section_show.summary_star_icon?B:""}\n                    </p>\n                    ${trustshop_onepage.section_show.summary_number_of_reviews?`<p class=" trustshop trustshop-total-rating">${e.total_review} ${e.total_review>1?trustshop_onepage.label_content.text_reviews?.trim()??window.trustshop_onepage.default_label_content.text_reviews:trustshop_onepage.label_content.text_review?.trim()??window.trustshop_onepage.default_label_content.text_review}</p>`:""}\n                    \n                </div>\n            </div>\n\n        `,o.appendChild(i),o.appendChild(trustshop_onepage.scoreBars(e.stars_review,e.total_review))):(i.innerHTML=`\n            <div class=" trustshop trustshop-overview-content">\n                <div class=" trustshop trustshop-overview-rating">\n                    <p class=" trustshop trustshop-rating">\n                        0\n                        ${trustshop_onepage.section_show.summary_star_icon?B:""}\n                    </p>\n                    ${trustshop_onepage.section_show.summary_number_of_reviews?`<p class=" trustshop trustshop-total-rating">0 ${trustshop_onepage.label_content.text_review?.trim()??window.trustshop_onepage.default_label_content.text_review}</p>`:""}\n                    \n                </div>\n            </div>\n\n        `,o.appendChild(i),o.appendChild(trustshop_onepage.scoreBars())),s.appendChild(o),t.appendChild(s),t},scoreBars:(e,t)=>{const s=document.createElement("div");if(s.classList.add("trustshop-score-bar--list"),e&&t&&t>0)for(let o=5;o>=1;o--){const i=document.createElement("div");i.classList.add("trustshop-score-bar--item"),i.innerHTML=`\n                                <span> ${o+B} </span>\n                                <div class="trustshop-bar-container" style=" background:var(--trustshop-rating-process-empty-color) ; border-radius: 10px">\n                                    <div style="height: 100%; width: ${(e[`star_${o}`]/t*100).toFixed(2)}%; ; border-radius: 10px">\n                                    </div>\n                                </div>\n                                <div style="min-width:${!1===trustshop_onepage.section_show.number_of_reviews||"false"===trustshop_onepage.section_show.number_of_reviews?"unset":""}">\n                                ${trustshop_onepage.section_show.number_of_reviews&&"false"!==trustshop_onepage.section_show.number_of_reviews?`<span> ${(e[`star_${o}`]/t*100).toFixed(0)}% </span>`:""}\n                                \n                                </div>\n                            `,i.setAttribute("value",`${o}_star`),i.addEventListener("click",(()=>{trustshop_onepage_actions.tabAction(trustshop_onepage.widget_container.querySelector(`.trustshop-comments-filter--item[value='${o}_star']`),o+"_star")})),s.appendChild(i)}else for(let e=5;e>=1;e--){const t=document.createElement("div");t.classList.add("trustshop-score-bar--item"),t.innerHTML=`\n                                <span> ${e+B} </span>\n                                <div class="trustshop-bar-container" style=" background:#EEEEEE ; border-radius: 10px">\n                                    <div style="height: 100%; width: 0%; border-radius: 10px">\n                                    </div>\n                                </div>\n                                <div style="min-width:${!1===trustshop_onepage.section_show.number_of_reviews||"false"===trustshop_onepage.section_show.number_of_reviews?"unset":""}">\n                                ${trustshop_onepage.section_show.number_of_reviews&&"false"!==trustshop_onepage.section_show.number_of_reviews?"<span> 0% </span>":""}\n                                \n                                </div>\n                            `,s.appendChild(t)}return s},imageFromReview:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-image--review");const s=document.createElement("p");s.classList.add("trustshop","trustshop-review-header","trustshop-title"),s.innerHTML=`${trustshop_onepage.label_content.text_images_from_reviews?.trim()??window.trustshop_onepage.default_label_content.text_images_from_reviews}`;const o=document.createElement("span");o.innerHTML=trustshop_onepage.label_content.all_photos?.trim()??window.trustshop_onepage.default_label_content.all_photos,o.addEventListener("click",(()=>{trustshop_onepage_actions.modalViewMedia("show",null,trustshop_onepage.review_of_products)})),s.appendChild(o),t.appendChild(s);const i=document.createElement("div");if(i.classList.add("trustshop","trustshop-image-review--container"),trustshop_onepage.mediaList.length>0){const e=document.createElement("div");e.classList.add("trustshop-image-review--wrap");const s=document.createElement("div");return s.classList.add("trustshop","trustshop-image-review--list"),e.addEventListener("scroll",(()=>{var e=s.getBoundingClientRect();trustshop_onepage.position.imageFromReview=e.left-document.querySelector(".trustshop-image-review--container").getBoundingClientRect().left,trustshop_onepage.position.imageFromReview<=-trustshop_onepage.widget_container.querySelector(".trustshop-image-review--list").clientWidth+i.clientWidth&&trustshop_onepage_actions.slideImageFromReviews(-12,trustshop_onepage.pagination.slide_image,!0)})),trustshop_onepage.mediaList.forEach(((e,t)=>{const o=document.createElement("div");o.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&o.classList.add("trustshop-element-corner--square"),"image"===e.media_type?(o.classList.add("image"),o.innerHTML=`<img\n                                        src="${trustshop_onepage_actions.handleImageUrl(e.url,"small")}"\n                                        width="100%"\n                                        height="100%">\n                                    ${trustshop_onepage.section_show.image_galley_star_rating?`<div class=" trustshop trustshop-img-rating">\n                                    <span>★ ${e.star}\n                                    </span>\n                                </div>`:""}`):(o.classList.add("video"),o.innerHTML=`<img\n                                        src="${e.video_thumb}"\n                                        width="100%"\n                                        height="100%">\n                                    <div class=" trustshop trustshop-video-rating">\n                                    <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 0C1.65326 0 1.08097 0.203188 0.65901 0.564866C0.237053 0.926542 0 1.41709 0 1.92857V7.07143C0 7.58291 0.237053 8.07346 0.65901 8.43513C1.08097 8.79681 1.65326 9 2.25 9H9.75C10.3467 9 10.919 8.79681 11.341 8.43513C11.7629 8.07346 12 7.58291 12 7.07143V6.05186L13.7197 7.52593C13.8247 7.61581 13.9583 7.67701 14.1037 7.7018C14.2492 7.7266 14.4 7.71386 14.537 7.66522C14.674 7.61657 14.7911 7.5342 14.8736 7.42851C14.956 7.32281 15 7.19856 15 7.07143V1.92857C15 1.80144 14.956 1.67719 14.8736 1.57149C14.7911 1.4658 14.674 1.38343 14.537 1.33478C14.4 1.28614 14.2492 1.2734 14.1037 1.2982C13.9583 1.32299 13.8247 1.3842 13.7197 1.47407L12 2.94814V1.92857C12 1.41709 11.7629 0.926542 11.341 0.564866C10.919 0.203188 10.3467 0 9.75 0H2.25Z" fill="var(--trustshop-secondary-color)"/>\n                                    </svg>\n                                    ${trustshop_onepage.section_show.image_galley_star_rating?`<span>★ ${e.star}\n                                        </span>`:""}\n                                        \n                                    </div>`),o.addEventListener("click",(()=>{trustshop_onepage_actions.modalViewMedia("detail",e.review_id,e.product_id,"image"===e.media_type?e.url:e.video_thumb,e.media_type)})),s.appendChild(o)})),e.appendChild(s),i.appendChild(e),t.appendChild(i),t}return t.innerHTML="",t},tabFilter:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-filter--container"),t.insertAdjacentHTML("beforeend",`<p class=" trustshop trustshop-title trustshop-review-body--title">${trustshop_onepage.label_content.text_review_with_comments?.trim()??window.trustshop_onepage.default_label_content.text_review_with_comments}</p>`);const s=document.createElement("div");s.classList.add("trustshop","trustshop-review-filter--wrap");const o=document.createElement("div");o.classList.add("trustshop","trustshop-review--filter");const i=["5_star","4_star","3_star","2_star","1_star"];return trustshop_onepage.filter_tab.forEach(((e,t)=>{if("stars_filter"===e)i.forEach(((e,t)=>{const s=document.createElement("button");s.classList.add("trustshop","trustshop-comments-filter--item","trustshop-button"),"stars_filter"===trustshop_onepage.filter_tab[0]&&"5_star"===e&&s.classList.add("trustshop-active"),s.value=e,s.innerHTML=`${B} ${e.split("_")[0]}`,s.addEventListener("click",(e=>{e.preventDefault(),trustshop_onepage_actions.tabAction(e.currentTarget)})),o.appendChild(s)}));else{const s=document.createElement("button");s.classList.add("trustshop","trustshop-comments-filter--item","trustshop-tabs-filter","trustshop-button"),"stars_filter"!==e&&0===t&&s.classList.add("trustshop-active"),s.value=e,Object.keys(trustshop_onepage.label_content).map((t=>{t.split("label_filter_")[1]&&t.split("label_filter_")[1]===e&&(s.innerHTML=trustshop_onepage.label_content[t])})),o.appendChild(s),s.addEventListener("click",(e=>{e.preventDefault(),trustshop_onepage_actions.tabAction(e.currentTarget)}))}})),s.appendChild(o),t.appendChild(s),t},loadReview1:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-review-item-type--list"),t.id=`trustshop-review-id--${e.review_id}`;const s=document.createElement("div");s.classList.add("trustshop","trustshop-review-item--header");const o=document.createElement("div");o.classList.add("trustshop","trustshop-review--author");const i=["1abc9c","16a085","c0392b","9b59b6","8e44ad","bdc3c7","34495e","95a5a6","f1c40f","f39c12","2ecc71","27ae60","d35400","3498db","2980b9","e74c3c","ec87bf","d870ad","f69785","9ba37e","b49255","a94136"];var r=i[Math.floor(Math.random()*i.length)];let n=window.trustshop_onepage.default_label_content.anonymous;n=e.customer.name&&""!==e.customer.name&&"Anonymous"!==e.customer.name?e.customer.name:trustshop_onepage.label_content.anonymous?.trim()??window.trustshop_onepage.default_label_content.anonymous,!1!==trustshop_onepage.section_show.customer_name&&"false"!==trustshop_onepage.section_show.customer_name||(n=n.split(" ").map((e=>e[0]+"*".repeat(e.length-1))).join(" "));const a=n.split(/\s/),d=(a[0]?a[0].slice(0,1):"")+(a[1]?a[1].slice(0,1):"");o.innerHTML=`${trustshop_onepage.section_show.customer_profile_picture?`<div class=" trustshop trustshop-author--avt"style="background-color: #${r}">\n                            <p class="trustshop-author-avt--text">${d.toUpperCase()}</p>\n                            </div>`:""}\n                            <div class=" trustshop trustshop-author--name">\n                                <p>${n}</p>\n                                <div>\n                                    ${!1!==trustshop_onepage.section_show.review_date?`<div>\n                                        <span class="edit-icon">\n                                            <svg xmlns="http://www.w3.org/2000/svg" width="6" height="4" viewBox="0 0 6 4" fill="none">\n                                                <g clip-path="url(#clip0_7029_21997)">\n                                                <path d="M2.63984 3.23203L4.54516 1.75288C4.22459 1.64898 3.93347 1.49717 3.68833 1.3061C3.44209 1.11575 3.24645 0.889667 3.11257 0.640721L1.20725 2.11987C1.05861 2.23526 0.98416 2.29306 0.920272 2.35666C0.844818 2.43171 0.780119 2.51292 0.727319 2.59885C0.682752 2.67165 0.64952 2.74925 0.583055 2.90404L0.232185 3.72061C0.216036 3.758 0.21364 3.79814 0.225267 3.83653C0.236893 3.87492 0.26208 3.91003 0.297998 3.93791C0.333916 3.96579 0.37914 3.98535 0.428587 3.99437C0.478033 4.0034 0.529743 4.00154 0.577903 3.989L1.62974 3.71661C1.82939 3.66501 1.92909 3.63921 2.02286 3.60462C2.13363 3.56362 2.23822 3.51342 2.33483 3.45482C2.41675 3.40522 2.4912 3.34742 2.63984 3.23203ZM5.07378 1.3425C5.26375 1.19501 5.37048 0.994986 5.37048 0.786416C5.37048 0.577845 5.26375 0.377818 5.07378 0.230336C4.88381 0.0828543 4.62615 1.55397e-09 4.35748 0C4.08882 -1.55397e-09 3.83116 0.0828543 3.64119 0.230336L3.41269 0.40773L3.42247 0.429929C3.53508 0.680063 3.71935 0.907092 3.9614 1.0939C4.20923 1.28744 4.51191 1.43331 4.84528 1.51989L5.07378 1.3425Z" fill="#A7ABC3"/>\n                                                </g>\n                                                <defs>\n                                                <clipPath id="clip0_7029_21997">\n                                                    <rect width="5.15246" height="4" fill="white" transform="translate(0.218018)"/>\n                                                </clipPath>\n                                                </defs>\n                                            </svg>\n                                        </span>\n                                        <span class=" trustshop trustshop-post-time">\n                                            ${trustshop_onepage.label_content.text_review_on?.trim()??window.trustshop_onepage.default_label_content.text_review_on}  \n                                            ${new Date(e.created_at).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}\n                                        </span>\n                                    </div>`:""}\n                                    \n                                </div>\n                            </div>`,s.insertAdjacentHTML("afterbegin",o.outerHTML),t.insertAdjacentHTML("afterbegin",s.outerHTML);const l=document.createElement("div");l.classList.add("trustshop","trustshop-review-item--body");const p=document.createElement("div");p.classList.add("trustshop","trustshop-review--rating");const u=document.createElement("p");u.classList.add("trustshop","trustshop-stars"),u.insertAdjacentHTML("beforeend",`\n        ${trustshop_onepage.ratingStar(e.star,window.trustshop_onepage.color_setting.star_icon_color).outerHTML}\n${e.review_title}`),p.insertAdjacentHTML("afterbegin",u.outerHTML),l.innerHTML=`\n                            ${p.outerHTML}\n                            `;const c=e.content.replaceAll(/\n/g,"</br>");if(c.length<500)l.insertAdjacentHTML("beforeend",`<p class=" trustshop trustshop-review--content">\n                                        <span id="content--${e.review_id}">${c}</span>\n                                    </p>`);else{const t=document.createElement("p");t.classList.add("trustshop","trustshop-review--content"),t.innerHTML=`<span id="content--${e.review_id}">${c.substring(0,500)}...</span>`;const s=document.createElement("span");s.setAttribute("value","show-more"),s.classList.add("trustshop-button-show-full--review"),s.innerHTML="More",t.appendChild(s),l.appendChild(t),s.addEventListener("click",(t=>{trustshop_onepage_actions.handleShowFullContent(c,e.review_id,t)}))}e.medias.length>0&&trustshop_onepage.section_show.show_review_media&&"false"!==trustshop_onepage.section_show.show_review_media&&l.appendChild(trustshop_onepage.loadingMediaReviews(e)),"false"!==trustshop_onepage.section_show.product&&!1!==trustshop_onepage.section_show.product&&l.appendChild(trustshop_onepage.onepage_prod(e.handle,e.featured_image,e.product_title));const h=document.createElement("div");if(h.classList.add("review-item-action--field"),!1!==trustshop_onepage.section_show.button_helpful&&h.appendChild(trustshop_onepage.helpfulBtn(e.review_id,e.helpful)),!1!==trustshop_onepage.section_show.button_helpful&&!1!==trustshop_onepage.section_show.button_report){const e=document.createElement("div");e.classList.add("action-field--divider"),h.appendChild(e)}if(!1!==trustshop_onepage.section_show.button_report){const t=document.createElement("button");t.classList.add("trustshop-report--btn","trustshop-button"),t.innerHTML=trustshop_onepage.label_content.text_report?.trim()??window.trustshop_onepage.default_label_content.text_report,t.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.add("trustshop-show--report"),trustshop_onepage.widget_container.querySelector(".trustshop-report--submit").value=e.review_id})),h.appendChild(t)}if(l.appendChild(h),e.reply){const t=(new TextDecoder).decode(Uint8Array.from(atob(window.trustshop_onepage.shopInfo.reply_name),(e=>e.charCodeAt(0)))),s=document.createElement("div");s.classList.add("trustshop-reply--box"),s.innerHTML=`<div class="reply-box--header"><p class="reply-from">${trustshop_onepage.label_content.text_reply_from?.trim()??window.trustshop_onepage.default_label_content.text_reply_from} ${window.trustshop_onepage.shopInfo.reply_name&&""!==window.trustshop_onepage.shopInfo.reply_name?t:Shopify.shop.split(".")[0]}</p></div><div class="reply-box--content">${e.reply}</div>`,l.appendChild(s)}return t.appendChild(l),t},loadReview2:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-review-item-type--grid"),t.id=`trustshop-review-id--${e.review_id}`;const s=document.createElement("div");s.classList.add("trustshop-review-item-grid--content");const o=document.createElement("div");o.classList.add("trustshop","trustshop-review--author");const i=["1abc9c","16a085","c0392b","9b59b6","8e44ad","bdc3c7","34495e","95a5a6","f1c40f","f39c12","2ecc71","27ae60","d35400","3498db","2980b9","e74c3c","ec87bf","d870ad","f69785","9ba37e","b49255","a94136"];var r=i[Math.floor(Math.random()*i.length)];let n=window.trustshop_onepage.default_label_content.anonymous;n=e.customer.name&&""!==e.customer.name&&"Anonymous"!==e.customer.name?e.customer.name:trustshop_onepage.label_content.anonymous?.trim()??window.trustshop_onepage.default_label_content.anonymous,!1!==trustshop_onepage.section_show.customer_name&&"false"!==trustshop_onepage.section_show.customer_name||(n=n.split(" ").map((e=>e[0]+"*".repeat(e.length-1))).join(" "));const a=n.split(/\s/),d=(a[0]?a[0].slice(0,1):"")+(a[1]?a[1].slice(0,1):"");o.innerHTML=`${trustshop_onepage.section_show.customer_profile_picture?`<div class=" trustshop trustshop-author--avt"style="background-color: #${r}">\n                                <p class="trustshop-author-avt--text">${d.toUpperCase()}</p>\n                            </div>`:""}\n                            <div class=" trustshop trustshop-author--name">\n                                <p>${n}</p>\n                                <div>\n                                    ${!1!==trustshop_onepage.section_show.review_date?`<div>\n                                        <span class="edit-icon">\n                                            <svg xmlns="http://www.w3.org/2000/svg" width="6" height="4" viewBox="0 0 6 4" fill="none">\n                                                <g clip-path="url(#clip0_7029_21997)">\n                                                <path d="M2.63984 3.23203L4.54516 1.75288C4.22459 1.64898 3.93347 1.49717 3.68833 1.3061C3.44209 1.11575 3.24645 0.889667 3.11257 0.640721L1.20725 2.11987C1.05861 2.23526 0.98416 2.29306 0.920272 2.35666C0.844818 2.43171 0.780119 2.51292 0.727319 2.59885C0.682752 2.67165 0.64952 2.74925 0.583055 2.90404L0.232185 3.72061C0.216036 3.758 0.21364 3.79814 0.225267 3.83653C0.236893 3.87492 0.26208 3.91003 0.297998 3.93791C0.333916 3.96579 0.37914 3.98535 0.428587 3.99437C0.478033 4.0034 0.529743 4.00154 0.577903 3.989L1.62974 3.71661C1.82939 3.66501 1.92909 3.63921 2.02286 3.60462C2.13363 3.56362 2.23822 3.51342 2.33483 3.45482C2.41675 3.40522 2.4912 3.34742 2.63984 3.23203ZM5.07378 1.3425C5.26375 1.19501 5.37048 0.994986 5.37048 0.786416C5.37048 0.577845 5.26375 0.377818 5.07378 0.230336C4.88381 0.0828543 4.62615 1.55397e-09 4.35748 0C4.08882 -1.55397e-09 3.83116 0.0828543 3.64119 0.230336L3.41269 0.40773L3.42247 0.429929C3.53508 0.680063 3.71935 0.907092 3.9614 1.0939C4.20923 1.28744 4.51191 1.43331 4.84528 1.51989L5.07378 1.3425Z" fill="#A7ABC3"/>\n                                                </g>\n                                                <defs>\n                                                <clipPath id="clip0_7029_21997">\n                                                    <rect width="5.15246" height="4" fill="white" transform="translate(0.218018)"/>\n                                                </clipPath>\n                                                </defs>\n                                            </svg>\n                                        </span>\n                                        <span class=" trustshop trustshop-post-time">\n                                            ${trustshop_onepage.label_content.text_review_on?.trim()??window.trustshop_onepage.default_label_content.text_review_on}  \n                                            ${new Date(e.created_at).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}\n                                        </span>\n                                    </div>`:""}\n                                </div>\n                            </div>`,s.insertAdjacentHTML("afterbegin",o.outerHTML);const l=document.createElement("div");l.classList.add("trustshop","trustshop-review--rating");const p=document.createElement("p");p.classList.add("trustshop","trustshop-stars"),p.insertAdjacentHTML("beforeend",`\n        ${trustshop_onepage.ratingStar(e.star,window.trustshop_onepage.color_setting.star_icon_color).outerHTML}\n${e.review_title}\n`),l.insertAdjacentHTML("afterbegin",p.outerHTML),s.insertAdjacentHTML("beforeend",`\n        ${l.outerHTML}\n    `);const u=e.content.replaceAll(/\n/g,"</br>");if(u.length<250)s.insertAdjacentHTML("beforeend",`<p class=" trustshop trustshop-review--content">\n                                        <span id="content--${e.review_id}">${u}</span>\n                                    </p>`);else{const t=document.createElement("p");t.classList.add("trustshop","trustshop-review--content"),t.innerHTML=`<span id="content--${e.review_id}">${u.substring(0,250)}...</span>`;const o=document.createElement("span");o.setAttribute("value","show-more"),o.classList.add("trustshop-button-show-full--review"),o.innerHTML="More",t.appendChild(o),s.appendChild(t),o.addEventListener("click",(t=>{trustshop_onepage_actions.handleShowFullContent(u,e.review_id,t)}))}e.medias.length>0&&trustshop_onepage.section_show.show_review_media&&"false"!==trustshop_onepage.section_show.show_review_media&&s.appendChild(trustshop_onepage.loadingMediaReviews(e)),"false"!==trustshop_onepage.section_show.product&&!1!==trustshop_onepage.section_show.product&&s.appendChild(trustshop_onepage.onepage_prod(e.handle,e.featured_image,e.product_title));const c=document.createElement("div");if(c.classList.add("review-item-action--field"),!1!==trustshop_onepage.section_show.button_helpful&&c.appendChild(trustshop_onepage.helpfulBtn(e.review_id,e.helpful)),!1!==trustshop_onepage.section_show.button_helpful&&!1!==trustshop_onepage.section_show.button_report){const e=document.createElement("div");e.classList.add("action-field--divider"),c.appendChild(e)}const h=document.createElement("button");if(h.classList.add("trustshop-report--btn","trustshop-button"),!1!==trustshop_onepage.section_show.button_report&&(h.innerHTML=trustshop_onepage.label_content.text_report?.trim()??window.trustshop_onepage.default_label_content.text_report,h.addEventListener("click",(t=>{t.preventDefault(),trustshop_onepage.widget_container.querySelector(".trustshop-report--overlay").classList.add("trustshop-show--report"),trustshop_onepage.widget_container.querySelector(".trustshop-report--submit").value=e.review_id})),c.appendChild(h)),s.appendChild(c),e.reply){const t=(new TextDecoder).decode(Uint8Array.from(atob(window.trustshop_onepage.shopInfo.reply_name),(e=>e.charCodeAt(0)))),o=document.createElement("div");o.classList.add("trustshop-reply--box"),o.innerHTML=`<div class="reply-box--header"><p class="reply-from">${trustshop_onepage.label_content.text_reply_from?.trim()??window.trustshop_onepage.default_label_content.text_reply_from} ${window.trustshop_onepage.shopInfo.reply_name&&""!==window.trustshop_onepage.shopInfo.reply_name?t:Shopify.shop.split(".")[0]}</p></div><div class="reply-box--content">${e.reply}</div>`,s.appendChild(o)}return t.appendChild(s),t},loadReviewList1:(e,t)=>{const s=document.createElement("div");return s.classList.add("trustshop","trustshop-review--container"),s.id="trustshop-review--container",document.getElementById("trustshop-review-one--page").appendChild(s),e.forEach(((e,t)=>{s.appendChild(trustshop_onepage.loadReview1(e))})),t&&s.appendChild(trustshop_onepage.loadMoreBtn(t)),s},loadReviewList2:(e,t)=>{const s=document.createElement("div");s.classList.add("trustshop","trustshop-review-container-type--grid");const o=document.createElement("div");return o.classList.add("trustshop-review--list","trustshop-review-list--grid"),s.appendChild(o),s.id="trustshop-review--container",document.getElementById("trustshop-review-one--page").appendChild(s),e.forEach(((e,t)=>{o.appendChild(trustshop_onepage.loadReview2(e))})),t&&s.appendChild(trustshop_onepage.loadMoreBtn(t)),s},loadingMediaReviews:e=>{const t=document.createElement("div");return t.classList.add("trustshop","trustshop-review--media"),e.medias.length<=0||e.medias.forEach(((e,s)=>{const o=document.createElement("div");if(o.classList.add("trustshop","trustshop-review-media--item","trustshop-media"),"square"===q.element_corners&&o.classList.add("trustshop-element-corner--square"),o.addEventListener("click",(()=>{trustshop_onepage.imageCurrent=s,trustshop_onepage_actions.modalViewMedia("detail",e.review_id,e.product_id,"image"===e.media_type?e.url:e.video_thumb,e.media_type)})),"video"===e.media_type){const t=document.createElement("img");t.src=`${e.video_thumb}`,t.style.width="100%",t.style.height="100%";const s=document.createElement("video");s.id=`trustshop-video-${e.id}`,s.classList.add("trustshop-review-media--video"),s.src=e.url,s.style.display="none";const i=document.createElement("div");i.classList.add("trustshop","trustshop-video-overlay","trustshop-overlay"),i.id=`trustshop-video-overlay-${e.id}`,s.addEventListener("loadedmetadata",(()=>{var t=Math.floor(s.duration.toFixed(0)/60),o=Math.floor(s.duration.toFixed(0)%60);o=o>=10?o:"0"+o,trustshop_onepage.widget_container.querySelector(`#trustshop-video-overlay-${e.id}`).innerHTML=`<svg\n                                width="11"\n                                height="7"\n                                viewBox="0 0 11 7"\n                                fill="none"\n                                xmlns="http://www.w3.org/2000/svg">\n                                <path\n                                    fill-rule="evenodd"\n                                    clip-rule="evenodd"\n                                    d="M1.65 0C1.21239 0 0.792709 0.158035 0.483274 0.43934C0.173839 0.720644 0 1.10218 0 1.5V5.5C0 5.89782 0.173839 6.27936 0.483274 6.56066C0.792709 6.84196 1.21239 7 1.65 7H7.15C7.58761 7 8.00729 6.84196 8.31673 6.56066C8.62616 6.27936 8.8 5.89782 8.8 5.5V4.707L10.0611 5.8535C10.1381 5.92341 10.2361 5.97101 10.3427 5.99029C10.4494 6.00958 10.56 5.99967 10.6605 5.96184C10.7609 5.924 10.8468 5.85993 10.9073 5.77773C10.9677 5.69552 11 5.59888 11 5.5V1.5C11 1.40112 10.9677 1.30448 10.9073 1.22227C10.8468 1.14007 10.7609 1.076 10.6605 1.03816C10.56 1.00033 10.4494 0.990424 10.3427 1.00971C10.2361 1.02899 10.1381 1.0766 10.0611 1.1465L8.8 2.293V1.5C8.8 1.10218 8.62616 0.720644 8.31673 0.43934C8.00729 0.158035 7.58761 0 7.15 0H1.65Z"\n                                    fill="white" />\n                            </svg>\n                            <p >${t+":"+o}</p>`})),o.appendChild(s),o.appendChild(t),o.insertAdjacentHTML("beforeend",i.outerHTML)}else{const t=document.createElement("img");t.style.width="100%",t.style.height="100%",t.src=trustshop_onepage_actions.handleImageUrl(e.url,"small"),o.insertAdjacentHTML("afterbegin",t.outerHTML)}t.appendChild(o)})),t},helpfulBtn:(e,s,o)=>{const i=document.createElement("button");return i.value=e,i.classList.add("trustshop","trustshop-helpful-btn","trustshop-button"),i.id=`trustshop-helpful-btn--${e}`,i.innerHTML=`\n            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M12.8422 7.34052C13.1047 6.99364 13.25 6.56864 13.25 6.12645C13.25 5.42489 12.8578 4.76083 12.2266 4.39051C12.0641 4.29519 11.879 4.24503 11.6906 4.2452H7.94375L8.0375 2.32489C8.05938 1.86083 7.89531 1.4202 7.57656 1.08426C7.42014 0.918683 7.23141 0.786941 7.02206 0.697179C6.8127 0.607417 6.58716 0.561542 6.35938 0.562389C5.54688 0.562389 4.82813 1.10926 4.6125 1.89208L3.27031 6.75145H3.26563V13.439H10.6453C10.7891 13.439 10.9297 13.4108 11.0594 13.3546C11.8031 13.0374 12.2828 12.3108 12.2828 11.5046C12.2828 11.3077 12.2547 11.114 12.1984 10.9265C12.4609 10.5796 12.6063 10.1546 12.6063 9.71239C12.6063 9.51552 12.5781 9.32176 12.5219 9.13426C12.7844 8.78739 12.9297 8.36239 12.9297 7.9202C12.9266 7.72333 12.8984 7.52802 12.8422 7.34052ZM0.75 7.25145V12.939C0.75 13.2155 0.973438 13.439 1.25 13.439H2.26563V6.75145H1.25C0.973438 6.75145 0.75 6.97489 0.75 7.25145Z" fill="#616161"/>\n            </svg><span class="helpful-count--${e} helpful-count">(${s})</span>`,i.addEventListener("click",(o=>{o.preventDefault();const i=o.currentTarget;if(!1===i.classList.contains("trustshop-helpful-btn--checked"))window.fetch(`${t}/storefront/helpful`,{method:"POST","Content-Type":"application/json",body:JSON.stringify({review_id:i.value})}).then((e=>e.json())).then((t=>{if(!0===t.status){for(let e of document.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.add("trustshop-helpful-btn--checked"),e.disabled=!0;const t=document.querySelectorAll(`.helpful-count--${e}`);for(item of t)item.innerHTML=`(${s+1})`;for(let e of document.querySelectorAll(`.trustshop-helpful-btn--${i.value}`))e.classList.contains("trustshop--hidden")&&e.classList.remove("trustshop--hidden")}else for(let e of document.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.add("trustshop-helpful-btn--checked"),e.disabled=!0})).catch((e=>{for(let e of document.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.add("trustshop-helpful-btn--checked"),e.disabled=!0})).finally((()=>{trustshop_onepage_actions.handleResizeAllGridItems()}));else{const e=new FormData;e.append("review_id",i.value),window.fetch(`${t}/storefront/unhelpful`,{method:"POST","Content-Type":"application/json",body:e}).then((e=>e.json())).then((e=>{if(!0===e.status)for(let e of trustshop_onepage.widget_container.querySelectorAll(`#trustshop-helpful-btn--${i.value}`))e.classList.remove("trustshop-helpful-btn--checked")}))}})),i},reportBtn:e=>{const t=document.createElement("div");t.classList.add("trustshop-report--container");const s=document.createElement("button");s.innerHTML=H,s.classList.add("trustshop-close-report--btn"),s.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.remove("trustshop-show--report")})),t.appendChild(s),t.addEventListener("click",(e=>{e.stopPropagation()}));const o=document.createElement("div");o.classList.add("trustshop-report--content"),o.innerHTML=`<p class=" trustshop trustshop-review-header trustshop-title trustshop-report--title ">\n                                ${trustshop_onepage.label_content.modal_report_title?.trim()??window.trustshop_onepage.default_label_content.modal_report_title}\n                            </p>\n                            <div class="trustshop-report--subtitle">\n                                ${(()=>{const e=/\{\{\s*([^}\s]+)\s*\}\}/;return trustshop_onepage.label_content.modal_report_subtitle?trustshop_onepage.label_content.modal_report_subtitle.match(e)?trustshop_onepage.label_content.modal_report_subtitle.replace(e,`<b>${Shopify.shop.split(".")[0]}</b>`).replace(/\./,".</br>"):trustshop_onepage.label_content.modal_report_subtitle.replace(/\./,".</br>"):`<p>\n        Thank you for taking the time to help <b>${Shopify.shop.split(".")[0]}</b>.\n    </p>\n    <p>\n        Your report is anonymous.\n    </p>`})()}\n                            </div>`;const i=document.createElement("div");i.classList.add("trustshop-report--list");[trustshop_onepage.label_content.modal_report_option_1?.trim()??window.trustshop_onepage.default_label_content.modal_report_option_1,trustshop_onepage.label_content.modal_report_option_2?.trim()??window.trustshop_onepage.default_label_content.modal_report_option_2,trustshop_onepage.label_content.modal_report_option_3?.trim()??window.trustshop_onepage.default_label_content.modal_report_option_3,trustshop_onepage.label_content.modal_report_option_4?.trim()??window.trustshop_onepage.default_label_content.modal_report_option_4,trustshop_onepage.label_content.modal_report_option_5?.trim()??window.trustshop_onepage.default_label_content.modal_report_option_5].map(((e,t)=>{const s=document.createElement("label");s.classList.add("trustshop-report--item"),s.innerHTML=`${e}`;const o=document.createElement("input");o.type="radio",o.name="trustshop-report",o.value=e;const r=document.createElement("span");r.classList.add("trustshop-report--checkmark"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">\n                                <circle cx="4" cy="4" r="4" fill="#696b73"/>\n                            </svg>',0===t&&(o.checked=!0),s.appendChild(o),s.appendChild(r),i.appendChild(s)}));const r=document.createElement("button");return r.classList.add("trustshop-button","trustshop-report--submit"),r.innerHTML=trustshop_onepage.label_content.modal_report_btn?.trim()??window.trustshop_onepage.default_label_content.modal_report_btn,r.addEventListener("click",(e=>{e.preventDefault(),trustshop_onepage_actions.handleReportReview()})),o.appendChild(i),o.appendChild(r),t.appendChild(o),t},loadMoreBtn:e=>{const t=document.createElement("div");t.id="trustshop-loadmore--container";const s=document.createElement("button");return s.classList.add("trustshop","trustshop-button","trustshop-loadmore"),s.innerHTML=trustshop_onepage.label_content.btn_load_more_review?.trim()??window.trustshop_onepage.default_label_content.btn_load_more_review,s.addEventListener("click",(t=>{t.preventDefault(),trustshop_onepage_actions.loadMoreReview(e)})),t.appendChild(s),t},viewAllMedia:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-view-all--container"),t.setAttribute("product-id",e);const s=document.createElement("div");s.classList.add("trustshop","trustshop-view-all--header");const o=document.createElement("div");o.classList.add("trustshop-all-media--title"),o.innerHTML=`<p class=" trustshop-title">${trustshop_onepage.label_content.modal_all_media_title??window.trustshop_onepage.default_label_content.modal_all_media_title}</p>`;const i=document.createElement("button");i.innerHTML=H,i.classList.add("trustshop-close-view--btn"),i.addEventListener("click",(e=>{e.preventDefault(),document.body.style.overflow="unset",document.getElementById("trustshop-modal-image--container").classList.add("trustshop--hidden");try{trustshop_onepage.currentVideo.pause()}catch(e){throw e}})),o.appendChild(i),s.appendChild(o);const r=document.createElement("div");r.classList.add("trustshop-view-image--tab");const n=[{label:trustshop_onepage.label_content.text_all?.trim()??window.trustshop_onepage.default_label_content.text_all,value:"All"},{label:trustshop_onepage.label_content.text_image?.trim()??window.trustshop_onepage.default_label_content.text_image,value:"Images"},{label:trustshop_onepage.label_content.text_video?.trim()??window.trustshop_onepage.default_label_content.text_video,value:"Videos"},{label:`${B} 5`,value:"5_star"},{label:`${B} 4`,value:"4_star"},{label:`${B} 3`,value:"3_star"},{label:`${B} 2`,value:"2_star"},{label:`${B} 1`,value:"1_star"}],a=n.findIndex((e=>!0===trustshop_onepage.section_show.modal_all_medias.filterList[e.value]));return n.map(((e,t)=>{if(trustshop_onepage.section_show.modal_all_medias.filterList[e.value]&&"false"!==trustshop_onepage.section_show.modal_all_medias.filterList[e.value]){const s=document.createElement("div");s.classList.add("trustshop-view-image-tab--item",`trustshop-view-image-tab--${e.value}`,"trustshop-button"),a===t&&s.classList.add("tab-active"),s.innerHTML=`<p>${e.label}</p><span class="trustshop-view-image-tab-count--${e.value} trustshop-view-image-tab-count--tab" data-tab=${e.value}></span>`,s.addEventListener("click",(()=>{trustshop_onepage_actions.handleModalImageTab(e.value)})),r.appendChild(s)}})),s.appendChild(r),t.appendChild(s),t.appendChild(trustshop_onepage.viewAllImage()),t},viewImage:(e,s,o,i)=>{const r=document.createElement("div"),n=document.createElement("div");n.classList.add("trustshop","trustshop-view-detail--header");const a=document.createElement("p");a.classList.add("trustshop","trustshop-title-all--media","trustshop-button"),a.innerHTML=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8.68247 7.8001H16V3.19392C16 1.40366 15.0963 0.5 13.2798 0.5H8.68247V7.8001ZM7.32643 7.8001V0.5H2.72915C0.921458 0.5 0 1.39513 0 3.19392V7.8001H7.32643ZM8.68247 16.4996H13.2798C15.0963 16.4996 16 15.596 16 13.8057V9.1732H8.68247V16.4996ZM2.72915 16.4996H7.32643V9.1732H0.000370781V13.8061C0.000370781 15.6049 0.921458 16.5 2.72952 16.5" fill="#4A4A4A"/>\n    </svg>\n    <span>${trustshop_onepage.label_content.modal_view_image_text_all_media||window.trustshop_onepage.default_label_content.modal_view_image_text_all_media}</span>`,a.addEventListener("click",(()=>{trustshop_onepage_actions.modalViewMedia("show",null,s,null,null);try{trustshop_onepage.currentVideo&&trustshop_onepage.currentVideo.pause()}catch(e){throw e}})),n.appendChild(a);const d=document.createElement("button");d.classList.add("trustshop-close-view--btn"),d.innerHTML=H,d.addEventListener("click",(e=>{e.preventDefault(),document.body.style.overflow="unset",document.getElementById("trustshop-modal-image--container").classList.add("trustshop--hidden");try{trustshop_onepage.currentVideo.pause()}catch(e){throw e}})),n.appendChild(d);const l=document.createElement("div");return l.classList.add("trustshop-view-image--body"),l.innerHTML=T,window.fetch(`${t}/storefront/page/review?review_id=${e}&shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_id=${trustshop_onepage.review_of_products.toString()}`,{method:"GET"}).then((e=>e.json())).then((e=>{if(e.data){if(trustshop_onepage.mediaListDetail=e.data.medias||[],trustshop_onepage.pagination={...trustshop_onepage.pagination,detail:{next:e.data.next_id,prev:e.data.previous_id}},l.querySelector(".trustshop-loading").remove(),trustshop_onepage.section_show.detail.show_review_media){const t=document.createElement("div");t.classList.add("trustshop-view-image--left");const r=document.createElement("div");r.id="trustshop-view-image--wrap",r.classList.add("trustshop-view-image--wrap");let n=null;t.addEventListener("touchstart",(e=>{n=e.touches[0].clientX})),t.addEventListener("touchend",(e=>{n&&e.changedTouches[0].clientX-n>100&&(trustshop_onepage_actions.swiperViewImage(-1,trustshop_onepage.pagination.detail.next),n=null),n&&e.changedTouches[0].clientX-n<-100&&(trustshop_onepage_actions.swiperViewImage(1,trustshop_onepage.pagination.detail.prev),n=null)}));let a=0;if(a="image"===i?e.data.medias.findIndex((e=>e.url===o)):e.data.medias.findIndex((e=>e.video_thumb===o)),a=-1===a?0:a,trustshop_onepage.imageCurrent=a,"image"===e.data.medias[a].media_type)r.innerHTML=`<img\n                            src="${trustshop_onepage_actions.handleImageUrl(e.data.medias[a].url,"big")}"\n                            alt=""\n                            id="trustshop-media-view--detail"\n                            width = "100%"\n                            height ="100%"\n                            >`;else{const t=document.createElement("video");t.style.width="100%",t.style.height="100%",t.controls=!0,t.poster=e.data.medias[a].video_thumb,t.id="trustshop-view-video-detail",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",t.src=e.data.medias[a].url,t.setAttribute("allowfullscreen","false"),t.classList.add="trustshop-media-view--detail",r.appendChild(t);try{window.trustshop_onepage.currentVideo=t}catch(e){throw e}}const d=document.createElement("button");d.classList.add("trustshop-button","trustshop-image-swiper--left","trustshop-image--swiper"),trustshop_onepage.pagination.detail.prev||0!==a||d.classList.add("trustshop--hidden"),d.innerHTML='<span></span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">\n                <path d="M11.1466 3.89062L12.0631 4.85516L7.21859 9.67786L12.0631 14.5006L11.1466 15.4651L5.2546 9.67786L11.1466 3.89062Z" fill="var(--trustshop-modal-detail-navigator-arrow)"/>\n            </svg>',d.addEventListener("click",(e=>{e.preventDefault(),trustshop_onepage_actions.swiperViewImage(-1,trustshop_onepage.pagination.detail.prev,s)}));const p=document.createElement("button");p.classList.add("trustshop-button","trustshop-image-swiper--right","trustshop-image--swiper"),trustshop_onepage.pagination.detail.next||a!==trustshop_onepage.mediaListDetail.length-1||p.classList.add("trustshop--hidden"),p.innerHTML='<span></span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">\n                <path d="M6.8533 3.89062L5.93677 4.85516L10.7813 9.67786L5.93677 14.5006L6.8533 15.4651L12.7453 9.67786L6.8533 3.89062Z" fill="var(--trustshop-modal-detail-navigator-arrow)"/>\n            </svg>',p.addEventListener("click",(e=>{e.preventDefault(),trustshop_onepage_actions.swiperViewImage(1,trustshop_onepage.pagination.detail.next,s)})),t.appendChild(d),t.appendChild(p),t.appendChild(r),l.appendChild(t)}const t=document.createElement("div");t.classList.add("trustshop-view-image--right");const r=document.createElement("div");r.setAttribute("data-id",trustshop_onepage.mediaListDetail[0].review_id),r.id="trustshop-view-image--review",trustshop_onepage.section_show.detail.show_review_media||(t.style.maxWidth="100%",n.style.width="100%"),r.appendChild(trustshop_onepage_actions.loadReviewViewImage(e.data)),t.appendChild(r),l.appendChild(t)}})).catch((e=>{})),r.appendChild(n),r.appendChild(l),r},viewAllImage:e=>{const s=document.createElement("div");s.classList.add("trustshop-all-media--container");const o=document.createElement("div");o.classList.add("trustshop-all-media--wrap"),o.innerHTML=T,s.appendChild(o),s.addEventListener("scroll",(e=>{e.target.scrollTop+e.target.clientHeight+5>=e.target.scrollHeight&&(e.preventDefault(),trustshop_onepage.pagination.modal_image.next&&!document.querySelector(".trustshop-all-media--wrap").querySelector(".trustshop-loading")&&trustshop_onepage_actions.handleModalImagePagination(e,trustshop_onepage.pagination.modal_image.next))}),{passive:!1});const i=Object.keys(trustshop_onepage.section_show.modal_all_medias.filterList).find((e=>!0===trustshop_onepage.section_show.modal_all_medias.filterList[e]));return window.fetch(`${t}/storefront/page/review-images?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_ids=${window.trustshop_onepage.review_of_products}&per_page=24&media_type=${{All:"all",Images:"image",Videos:"video","5_star":"5_star","4_star":"4_star","3_star":"3_star","2_star":"2_star","1_star":"1_star"}[i]||"all"}`,{method:"GET"}).then((e=>e.json())).then((e=>{o.querySelector(".trustshop-loading").remove(),e?e.data.length<1?s.innerHTML=trustshop_onepage.noMedia("all"):(e.next_cursor?trustshop_onepage.pagination.modal_image.next=2:trustshop_onepage.pagination.modal_image.next=null,trustshop_onepage.pagination.modal_image.prev=null,e.data.forEach(((e,t)=>{const s=document.createElement("div");s.classList.add("trustshop","trustshop-media-item--wrap");const i=document.createElement("div");i.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&(s.classList.add("trustshop-element-corner--square"),i.classList.add("trustshop-element-corner--square")),trustshop_onepage.section_show.image_galley_star_rating&&i.appendChild(trustshop_onepage.allMediaOverlay(e.media_type,e.star)),"image"===e.media_type?(i.classList.add("image"),i.style.backgroundImage=`url(${trustshop_onepage_actions.handleImageUrl(e.url,"medium")})`):(i.classList.add("video"),i.style.backgroundImage=`url(${e.video_thumb})`),i.addEventListener("click",(()=>{trustshop_onepage_actions.modalViewMedia("detail",e.review_id,e.product_id,"image"===e.media_type?e.url:e.video_thumb,e.media_type)})),s.appendChild(i),o.appendChild(s)}))):s.innerHTML=trustshop_onepage.noMedia("all")})).catch((e=>{s.innerHTML=trustshop_onepage.noMedia("all")})),s},allMediaOverlay:(e,t)=>{const s=document.createElement("div");if(s.classList.add("trustshop","trustshop-all-media--overlay"),"video"===e&&(s.innerHTML='<div class="trustshop trustshop-video--overlay">\n            <svg width="32" height="37" viewBox="0 0 32 37" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M30.384 15.624C30.8744 15.9048 31.2819 16.3101 31.5654 16.799C31.8488 17.2878 31.9981 17.8429 31.9981 18.408C31.9981 18.9731 31.8488 19.5282 31.5654 20.017C31.2819 20.5059 30.8744 20.9112 30.384 21.192L4.932 35.96C2.852 37.168 0 35.788 0 33.176V3.64C0 1.028 2.852 -0.351999 4.932 0.856L30.384 15.624Z" fill="#FAFAFA"/>\n            </svg>\n        </div>'),!1!==trustshop_onepage.section_show.modal_all_medias.show_star_rating&&"false"!==trustshop_onepage.section_show.modal_all_medias.show_star_rating){const e=document.createElement("div");e.classList.add("trustshop","trustshop-all-media-rating--overlay"),e.innerHTML=`<span>${t}</span>${trustshop_onepage.ratingStar(t,window.trustshop_onepage.color_setting.modal_all_medias_star_icon).outerHTML}`,s.appendChild(e)}return s},ratingStar:(e,t,s)=>{const o=document.createElement("span");o.classList.add("trustshop","trustshop-rating-star--container");const i=Math.trunc(e),r=(new DOMParser).parseFromString(B,"image/svg+xml"),n=new XMLSerializer;return[1,2,3,4,5].map(((a,d)=>{const l=window.trustshop_UniqueID.generateUniqueId("rating"),p=r.querySelector("defs");if(a<=i){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n            </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n            </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else if(a===i+1){if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n            </linearGradient>`;else{const o=r.createElementNS("http://www.w3.org/2000/svg","defs");o.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${t}" />\n                <stop offset="${e-i}" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n            </linearGradient>`,r.documentElement.appendChild(o)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}else{if(p)p.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n            </linearGradient>`;else{const e=r.createElementNS("http://www.w3.org/2000/svg","defs");e.innerHTML=`<linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">\n                <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n                <stop offset="0" id="${window.trustshop_UniqueID.generateUniqueId("stop")}" stop-color="${s||"#E2E2E2"}" />\n            </linearGradient>`,r.documentElement.appendChild(e)}r.querySelector("path").setAttribute("fill",`url(#${l})`)}o.insertAdjacentHTML("beforeend",n.serializeToString(r))})),o}},trustshop_onepage.initReviews(1),window.trustshop_onepage_actions={loadPageReview:e=>{if("grid"===trustshop_onepage.layoutBox){const s=trustshop_onepage.widget_container.querySelector("#trustshop-review--container"),o=document.createElement("div");o.classList.add("trustshop-review--list","trustshop-review-list--grid"),s.innerHTML=T,window.fetch(`${t}/storefront/page/reviews?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_ids=${window.trustshop_onepage.review_of_products}&type=${e}&per_page=${trustshop_onepage.reviewPerPage}`,{method:"GET"}).then((e=>e.json())).then((e=>{if(trustshop_onepage.widget_container.querySelector(".trustshop-loading").remove(),e.data.length>=1)e.data.forEach(((e,t)=>{o.appendChild(trustshop_onepage.loadReview2(e))})),s.appendChild(o),e.next_cursor?(trustshop_onepage.pagination.review=2,s.appendChild(trustshop_onepage.loadMoreBtn(trustshop_onepage.pagination.review))):trustshop_onepage.pagination.review=null,trustshop_onepage_actions.handleResizeAllGridItems();else{const e=document.createElement("div");e.classList.add("trustshop-no-review--content"),e.innerHTML='<div class="trustshop-no-review--img">\n                                                    <img\n                                                        src="https://cdn.shopify.com/extensions/1d58b11e-67d4-4759-9832-075599757e1d/0.0.0/assets/trustshop-no-review-img.png?v=1700352987"\n                                                        alt="no review"\n                                                        width="100%"\n                                                        height="100%">\n                                                </div>',s.appendChild(e)}})).catch((e=>{}))}else{const s=trustshop_onepage.widget_container.querySelector("#trustshop-review--container");s.innerHTML=T,window.fetch(`${t}/storefront/page/reviews?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_ids=${window.trustshop_onepage.review_of_products}&type=${e}&per_page=${trustshop_onepage.reviewPerPage}`,{method:"GET"}).then((e=>e.json())).then((e=>{if(trustshop_onepage.widget_container.querySelector(".trustshop-loading").remove(),e.data.length>=1){if("grid"===trustshop_onepage.layoutBox)e.data.forEach(((e,t)=>{s.appendChild(trustshop_onepage.loadReview2(e))}));else e.data.forEach(((e,t)=>{s.appendChild(trustshop_onepage.loadReview1(e))}));e.next_cursor?(trustshop_onepage.pagination.review=2,s.appendChild(trustshop_reviews.loadMoreBtn(trustshop_onepage.pagination.review))):trustshop_onepage.pagination.review=null}else{const e=document.createElement("div");e.classList.add("trustshop-no-review--content"),e.innerHTML='<div class="trustshop-no-review--img">\n                                                    <img\n                                                        src="https://cdn.shopify.com/extensions/1d58b11e-67d4-4759-9832-075599757e1d/0.0.0/assets/trustshop-no-review-img.png?v=1700352987"\n                                                        alt="no review"\n                                                        width="100%"\n                                                        height="100%">\n                                                </div>',s.appendChild(e)}})).catch((e=>{}))}},listMediaReviewViewImage:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-view-image-list--wrap");const s=document.createElement("div");return s.classList.add("trustshop","trustshop-view-image--list"),e.medias.length<=0||(e.medias.forEach(((e,t)=>{const o=document.createElement("div");if(o.classList.add("trustshop","trustshop-view-image--item","trustshop-media"),"square"===q.element_corners&&o.classList.add("trustshop-element-corner--square"),trustshop_onepage.imageCurrent===t&&o.classList.add("image-item--outline"),o.addEventListener("click",(s=>{s.preventDefault(),trustshop_onepage.imageCurrent=t,document.querySelector(".image-item--outline").classList.remove("image-item--outline"),o.classList.add("image-item--outline"),trustshop_onepage_actions.handleToogleSwiperBtn(),trustshop_onepage_actions.viewMedia(e.media_type,e.url,e.video_thumb)})),"video"===e.media_type){const t=document.createElement("img");t.src=`${e.video_thumb}`,t.style.width="100%",t.style.height="100%";const s=document.createElement("video");s.id=`trustshop-video-${e.id}`,s.classList.add("trustshop-review-media--video"),s.src=e.url,s.style.display="none";const i=document.createElement("div");i.classList.add("trustshop","trustshop-video-overlay","trustshop-overlay"),i.id=`trustshop-video-overlay-${e.id}`,i.innerHTML='<svg\n                                            width="11"\n                                            height="7"\n                                            viewBox="0 0 11 7"\n                                            fill="none"\n                                            xmlns="http://www.w3.org/2000/svg">\n                                            <path\n                                                fill-rule="evenodd"\n                                                clip-rule="evenodd"\n                                                d="M1.65 0C1.21239 0 0.792709 0.158035 0.483274 0.43934C0.173839 0.720644 0 1.10218 0 1.5V5.5C0 5.89782 0.173839 6.27936 0.483274 6.56066C0.792709 6.84196 1.21239 7 1.65 7H7.15C7.58761 7 8.00729 6.84196 8.31673 6.56066C8.62616 6.27936 8.8 5.89782 8.8 5.5V4.707L10.0611 5.8535C10.1381 5.92341 10.2361 5.97101 10.3427 5.99029C10.4494 6.00958 10.56 5.99967 10.6605 5.96184C10.7609 5.924 10.8468 5.85993 10.9073 5.77773C10.9677 5.69552 11 5.59888 11 5.5V1.5C11 1.40112 10.9677 1.30448 10.9073 1.22227C10.8468 1.14007 10.7609 1.076 10.6605 1.03816C10.56 1.00033 10.4494 0.990424 10.3427 1.00971C10.2361 1.02899 10.1381 1.0766 10.0611 1.1465L8.8 2.293V1.5C8.8 1.10218 8.62616 0.720644 8.31673 0.43934C8.00729 0.158035 7.58761 0 7.15 0H1.65Z"\n                                                fill="white" />\n                                        </svg>',s.addEventListener("loadedmetadata",(()=>{var t=Math.floor(s.duration.toFixed(0)/60),o=Math.floor(s.duration.toFixed(0)%60);o=o>=10?o:"0"+o,document.querySelector(".trustshop-view-image--list").querySelector(`#trustshop-video-overlay-${e.id}`).insertAdjacentHTML("beforeend",`<p >${t+":"+o}</p>`)})),o.appendChild(s),o.appendChild(t),o.insertAdjacentHTML("beforeend",i.outerHTML)}else{const t=document.createElement("img");t.style.width="100%",t.style.height="100%",t.src=trustshop_onepage_actions.handleImageUrl(e.url,"small"),o.insertAdjacentHTML("afterbegin",t.outerHTML)}s.appendChild(o)})),t.appendChild(s)),t},viewMedia:(e,t,s,o)=>{const i=document.getElementById("trustshop-view-image--wrap");if(i&&i.firstChild&&i.removeChild(i.firstChild),t)if("image"===e)i.innerHTML=`<img\n                        src="${trustshop_onepage_actions.handleImageUrl(t,"big")}"\n                        alt=""\n                        id="trustshop-media-view--detail"\n                        width = "100%"\n                        height ="100%"\n                        >`;else{const e=document.createElement("video");e.style.width="100%",e.style.height="100%",e.controls=!0,e.poster=s,e.id="trustshop-view-video-detail",e.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",e.src=t,e.setAttribute("allowfullscreen","false"),e.classList.add="trustshop-media-view--detail",i.appendChild(e);try{window.trustshop_onepage.currentVideo=e}catch(e){throw e}}},viewImageReviewAction:e=>{const t=document.createElement("div");if(t.classList.add("review-item-action--field"),!1!==trustshop_onepage.section_show.button_helpful&&t.appendChild(trustshop_onepage.helpfulBtn(e.id,e.helpful,"viewImage")),!1!==trustshop_onepage.section_show.button_helpful&&!1!==trustshop_onepage.section_show.button_report){const e=document.createElement("div");e.classList.add("action-field--divider"),t.appendChild(e)}if(!1!==trustshop_onepage.section_show.button_report){const s=document.createElement("button");s.classList.add("trustshop-report--btn","trustshop-button"),s.innerHTML=`<svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.33464 8.52337C9.44823 8.52331 9.55993 8.49422 9.65912 8.43887C9.75832 8.38352 9.84173 8.30374 9.90143 8.2071C9.96114 8.11047 9.99516 8.00017 10.0003 7.8867C10.0054 7.77322 9.98141 7.66031 9.93064 7.5587L8.74664 5.19003L9.93064 2.82137C9.98141 2.71975 10.0054 2.60685 10.0003 2.49337C9.99516 2.37989 9.96114 2.2696 9.90143 2.17296C9.84173 2.07633 9.75832 1.99655 9.65912 1.9412C9.55993 1.88585 9.44823 1.85676 9.33464 1.8567H2.0013V1.19003C2.0013 1.01322 1.93106 0.843653 1.80604 0.718629C1.68102 0.593605 1.51145 0.523367 1.33464 0.523367C1.15782 0.523367 0.988255 0.593605 0.863231 0.718629C0.738207 0.843653 0.667969 1.01322 0.667969 1.19003V13.19C0.667969 13.3668 0.738207 13.5364 0.863231 13.6614C0.988255 13.7865 1.15782 13.8567 1.33464 13.8567C1.51145 13.8567 1.68102 13.7865 1.80604 13.6614C1.93106 13.5364 2.0013 13.3668 2.0013 13.19V8.52337H9.33464Z" fill="#74788D"/>\n        </svg>\n        <span>${trustshop_onepage.label_content.text_report??window.trustshop_onepage.default_label_content.text_report}</span>`,s.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.add("trustshop-show--report"),document.querySelector(".trustshop-report--submit").value=e.id})),t.appendChild(s)}return t},loadReviewViewImage:e=>{const t=document.createElement("div");t.classList.add("trustshop","trustshop-review--item"),t.id=`trustshop-review-id--${e.id}`;const s=document.createElement("div");s.classList.add("trustshop","trustshop-review-item--header");const o=document.createElement("div");o.classList.add("trustshop","trustshop-review--author");const i=["1abc9c","16a085","c0392b","9b59b6","8e44ad","bdc3c7","34495e","95a5a6","f1c40f","f39c12","2ecc71","27ae60","d35400","3498db","2980b9","e74c3c","ec87bf","d870ad","f69785","9ba37e","b49255","a94136"];var r=i[Math.floor(Math.random()*i.length)];let n=window.trustshop_onepage.default_label_content.anonymous;n=e.customer.name&&""!==e.customer.name&&"Anonymous"!==e.customer.name?e.customer.name:trustshop_onepage.label_content.anonymous?.trim()??window.trustshop_onepage.default_label_content.anonymous,!1!==trustshop_onepage.section_show.customer_name&&"false"!==trustshop_onepage.section_show.customer_name||(n=n.split(" ").map((e=>e[0]+"*".repeat(e.length-1))).join(" "));const a=n.split(/\s/),d=(a[0]?a[0].slice(0,1):"")+(a[1]?a[1].slice(0,1):"");o.innerHTML=`${trustshop_onepage.section_show.customer_profile_picture?`<div class=" trustshop trustshop-author--avt"style="background-color: #${r}">\n                                <p class="trustshop-author-avt--text">${d.toUpperCase()}</p>\n                            </div>`:""}\n                            <div class=" trustshop trustshop-author--name">\n                                <p>${n}</p>\n                                <div>\n                                    ${!1!==trustshop_onepage.section_show.review_date?`<div>\n                                        <span class="edit-icon">\n                                            <svg xmlns="http://www.w3.org/2000/svg" width="6" height="4" viewBox="0 0 6 4" fill="none">\n                                                <g clip-path="url(#clip0_7029_21997)">\n                                                <path d="M2.63984 3.23203L4.54516 1.75288C4.22459 1.64898 3.93347 1.49717 3.68833 1.3061C3.44209 1.11575 3.24645 0.889667 3.11257 0.640721L1.20725 2.11987C1.05861 2.23526 0.98416 2.29306 0.920272 2.35666C0.844818 2.43171 0.780119 2.51292 0.727319 2.59885C0.682752 2.67165 0.64952 2.74925 0.583055 2.90404L0.232185 3.72061C0.216036 3.758 0.21364 3.79814 0.225267 3.83653C0.236893 3.87492 0.26208 3.91003 0.297998 3.93791C0.333916 3.96579 0.37914 3.98535 0.428587 3.99437C0.478033 4.0034 0.529743 4.00154 0.577903 3.989L1.62974 3.71661C1.82939 3.66501 1.92909 3.63921 2.02286 3.60462C2.13363 3.56362 2.23822 3.51342 2.33483 3.45482C2.41675 3.40522 2.4912 3.34742 2.63984 3.23203ZM5.07378 1.3425C5.26375 1.19501 5.37048 0.994986 5.37048 0.786416C5.37048 0.577845 5.26375 0.377818 5.07378 0.230336C4.88381 0.0828543 4.62615 1.55397e-09 4.35748 0C4.08882 -1.55397e-09 3.83116 0.0828543 3.64119 0.230336L3.41269 0.40773L3.42247 0.429929C3.53508 0.680063 3.71935 0.907092 3.9614 1.0939C4.20923 1.28744 4.51191 1.43331 4.84528 1.51989L5.07378 1.3425Z" fill="#A7ABC3"/>\n                                                </g>\n                                                <defs>\n                                                <clipPath id="clip0_7029_21997">\n                                                    <rect width="5.15246" height="4" fill="white" transform="translate(0.218018)"/>\n                                                </clipPath>\n                                                </defs>\n                                            </svg>\n                                        </span>\n                                        ${trustshop_onepage.section_show.detail.show_review_time?`<span class=" trustshop trustshop-post-time">\n                                        ${trustshop_onepage.label_content.text_review_on?.trim()??window.trustshop_onepage.default_label_content.text_review_on}  \n                                        ${new Date(e.created_at).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}\n                                        </span>`:""}\n                                    </div>`:""}\n                                </div>\n                            </div>`;const l=document.createElement("div");l.classList.add("trustshop","trustshop-review--rating");const p=document.createElement("p");p.classList.add("trustshop","trustshop-stars");for(let t=1;t<=e.star;t++)p.insertAdjacentHTML("beforeend",B);for(let t=1;t<=5-e.star;t++)p.insertAdjacentHTML("beforeend",B);l.insertAdjacentHTML("afterbegin",trustshop_onepage.ratingStar(e.star,window.trustshop_onepage.color_setting.modal_detail_review_star,window.trustshop_onepage.color_setting.modal_detail_review_star_default).outerHTML),s.insertAdjacentHTML("afterbegin",o.outerHTML),t.insertAdjacentHTML("afterbegin",s.outerHTML);const u=document.createElement("div");u.classList.add("trustshop","trustshop-review-item--middle");const c=e.content.replaceAll(/\n/g,"</br>");return u.innerHTML=`\n                                ${l.outerHTML}\n                                <p class="review--title">${e.title}</p>\n                            <p class=" trustshop trustshop-review--content">\n                                ${c}\n                            </p>`,t.appendChild(u),t.insertAdjacentHTML("beforeend",`<p class="trustshop-modal-detail-title">${trustshop_onepage.label_content.modal_image_from_this_review}</p>`),t.appendChild(window.trustshop_onepage_actions.listMediaReviewViewImage(e)),t.insertAdjacentHTML("beforeend",'\n        <hr class="view-image-review--divider" />\n        \n'),trustshop_onepage.section_show.detail.show_purchase_items&&t.insertAdjacentHTML("beforeend",`<div class="trustshop-product-container">\n        <p class="trustshop-review-product--title">\n            ${trustshop_onepage.label_content.purchased_item??window.trustshop_onepage.default_label_content.purchased_item}:\n        </p>\n        <a href="${window.shopUrl}/products/${e.handle}" target="_blank">\n            <div>\n                <img\n                src="${e.featured_image}&width=40"\n                alt="${e.product_name}"\n                width="100%"\n                height="100%"/>\n            </div>\n            <div class="trustshop-product--info">\n                <p class="trustshop-product--name">${e.product_name}</p>\n                <p class="trustshop-product--price"<span>${window.trustshop_onepage.shopInfo.currencySymbol}${e.price}</span>${e.compare_price?`<span>${e.compare_price}</span>`:""}</p>\n            </div>\n        </a>\n    </div>`),t.appendChild(window.trustshop_onepage_actions.viewImageReviewAction(e)),t},tabAction:(e,t)=>{const s=trustshop_onepage.widget_container.querySelectorAll(".trustshop-comments-filter--item");for(const e of s)Object.values(s).map((e=>e.classList.remove("trustshop-active")));e?.classList?.add("trustshop-active");const o=e?.value||t;trustshop_onepage.widget_container.querySelector(`.trustshop-score-bar--item[value="${o}"]`)&&(Object.values(trustshop_onepage.widget_container.querySelectorAll(".trustshop-score-bar--item")).map((e=>e.setAttribute("active","false"))),trustshop_onepage.widget_container.querySelector(`.trustshop-score-bar--item[value="${o}"]`).setAttribute("active","true")),trustshop_onepage_actions.loadPageReview(o)},handleModalImageTab:e=>{const s={All:"all",Images:"image",Videos:"video","5_star":"5_star","4_star":"4_star","3_star":"3_star","2_star":"2_star","1_star":"1_star"};document.getElementById("trustshop-no-media--container")&&document.getElementById("trustshop-no-media--container").remove();let o=document.querySelector(".trustshop-all-media--wrap");o||(o=document.createElement("div"),o.classList.add("trustshop-all-media--wrap"),document.querySelector(".trustshop-all-media--container").appendChild(o)),document.querySelectorAll(".trustshop-view-image-tab--item").forEach((e=>{e.classList.remove("tab-active")})),document.querySelector(`.trustshop-view-image-tab--${e}`).classList.add("tab-active"),o.innerHTML=T,window.fetch(`${t}/storefront/page/review-images?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_ids=${window.trustshop_onepage.review_of_products}&media_type=${s[e]}&per_page=24`).then((e=>e.json())).then((t=>{t?(o.querySelector(".trustshop-loading").remove(),0===t.data.length?document.querySelector(".trustshop-all-media--container").innerHTML=trustshop_onepage.noMedia(s[e]):(t.next_cursor?trustshop_onepage.pagination.modal_image.next=2:trustshop_onepage.pagination.modal_image.next=null,trustshop_onepage.pagination.modal_image.prev=null,t.data.forEach(((e,t)=>{const s=document.createElement("div");s.classList.add("trustshop","trustshop-media-item--wrap");const i=document.createElement("div");i.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&(s.classList.add("trustshop-element-corner--square"),i.classList.add("trustshop-element-corner--square")),trustshop_onepage.section_show.image_galley_star_rating&&i.appendChild(trustshop_onepage.allMediaOverlay(e.media_type,e.star)),"image"===e.media_type?(i.classList.add("image"),i.style.backgroundImage=`url(${trustshop_onepage_actions.handleImageUrl(e.url,"medium")}`):(i.classList.add("video"),i.style.backgroundImage=`url(${e.video_thumb})`),i.addEventListener("click",(()=>{trustshop_onepage_actions.modalViewMedia("detail",e.review_id,e.product_id,"image"===e.media_type?e.url:e.video_thumb,e.media_type)})),s.appendChild(i),o.appendChild(s)})))):document.querySelector(".trustshop-all-media--container").innerHTML=trustshop_onepage.noMedia(s[e])})).catch((t=>{document.querySelector(".trustshop-all-media--container").innerHTML=trustshop_onepage.noMedia(s[e])}))},handleModalImagePagination:(e,s)=>{const o=document.querySelector(".trustshop-all-media--wrap");o.insertAdjacentHTML("beforeend",T);const i=document.querySelector(".tab-active")?.querySelector(".trustshop-view-image-tab-count--tab")?.getAttribute("data-tab")??"All";window.fetch(`${t}/storefront/page/review-images?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_ids=${window.trustshop_onepage.review_of_products}&current_page=${s}&per_page=24&media_type=${{All:"all",Images:"image",Videos:"video","5_star":"5_star","4_star":"4_star","3_star":"3_star","2_star":"2_star","1_star":"1_star"}[i]}`).then((e=>e.json())).then((e=>{e&&(o.querySelector(".trustshop-loading").remove(),e.data.forEach(((e,t)=>{const s=document.createElement("div");s.classList.add("trustshop","trustshop-media-item--wrap");const i=document.createElement("div");i.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&(s.classList.add("trustshop-element-corner--square"),i.classList.add("trustshop-element-corner--square")),trustshop_onepage.section_show.image_galley_star_rating&&i.appendChild(trustshop_onepage.allMediaOverlay(e.media_type,e.star)),"image"===e.media_type?(i.classList.add("image"),i.style.backgroundImage=`url(${trustshop_onepage_actions.handleImageUrl(e.url,"medium")}`):(i.classList.add("video"),i.style.backgroundImage=`url(${e.video_thumb})`),i.addEventListener("click",(()=>{trustshop_onepage_actions.modalViewMedia("detail",e.review_id,e.product_id,"image"===e.media_type?e.url:e.video_thumb,e.media_type)})),s.appendChild(i),o.appendChild(s)})),e.next_cursor?trustshop_onepage.pagination.modal_image.next?trustshop_onepage.pagination.modal_image.next=trustshop_onepage.pagination.modal_image.next+1:trustshop_onepage.pagination.modal_image.next=2:trustshop_onepage.pagination.modal_image.next=null)}))},slideImageFromReviews:(e,s,o)=>{const i=trustshop_onepage.widget_container.querySelector(".trustshop-image-review--container"),r=trustshop_onepage.widget_container.querySelector(".trustshop-media--item");let n=0;n=e>0?r.clientWidth+e:-r.clientWidth+e,trustshop_onepage.position.imageFromReview=trustshop_onepage.position.imageFromReview+n,trustshop_onepage.position.imageFromReview>100?(trustshop_onepage.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft=0,trustshop_onepage.position.imageFromReview=0):trustshop_onepage.position.imageFromReview<=-trustshop_onepage.widget_container.querySelector(".trustshop-image-review--list").clientWidth-r.clientWidth+i.clientWidth?s&&null!==s&&""!==s&&!o?(trustshop_onepage.widget_container.querySelector(".trustshop-slide-right").disabled=!0,imageItem=document.createElement("div"),imageItem.classList.add("trustshop","trustshop-media--item","image"),imageItem.id="trustshop-loading--image",imageItem.innerHTML=T,document.querySelector(".trustshop-image-review--list").insertAdjacentHTML("beforeend",imageItem.outerHTML),trustshop_onepage.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft+=r.clientWidth-e,window.fetch(`${t}/storefront/page/review-images?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_ids=${window.trustshop_onepage.review_of_products}&current_page=${s}&per_page=24`,{method:"GET"}).then((e=>e.json())).then((e=>{document.querySelector("#trustshop-loading--image").remove(),e.next_cursor?trustshop_onepage.pagination.slide_image=trustshop_onepage.pagination.slide_image+1:trustshop_onepage.pagination.slide_image=null;-1===e.data.findIndex((e=>"image"===e.media_type))?(trustshop_onepage.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft=0,trustshop_onepage.position.imageFromReview=-trustshop_onepage.widget_container.querySelector(".trustshop-image-review--list").clientWidth+i.clientWidth):e.data.forEach(((e,t)=>{trustshop_onepage.mediaList.some((t=>JSON.stringify(t)===JSON.stringify(e)))||(trustshop_onepage.mediaList.push(e),imageItem=document.createElement("div"),imageItem.classList.add("trustshop","trustshop-media--item"),"square"===q.element_corners&&imageItem.classList.add("trustshop-element-corner--square"),"image"===e.media_type?(imageItem.classList.add("image"),imageItem.innerHTML=`<img\n                                                                src="${trustshop_onepage_actions.handleImageUrl(e.url,"small")}"\n                                                                width="100%"\n                                                                height="100%">\n                                                                ${trustshop_onepage.section_show.image_galley_star_rating?`<div class=" trustshop trustshop-img-rating">\n                                                                <span>★ ${e.star}\n                                                                </span>\n                                                            </div>`:""}`):(imageItem.classList.add("video"),imageItem.innerHTML=`<img\n                                                                src="${e.video_thumb}"\n                                                                width="100%"\n                                                                height="100%">\n                                                            <div class=" trustshop trustshop-video-rating">\n                                                            <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 0C1.65326 0 1.08097 0.203188 0.65901 0.564866C0.237053 0.926542 0 1.41709 0 1.92857V7.07143C0 7.58291 0.237053 8.07346 0.65901 8.43513C1.08097 8.79681 1.65326 9 2.25 9H9.75C10.3467 9 10.919 8.79681 11.341 8.43513C11.7629 8.07346 12 7.58291 12 7.07143V6.05186L13.7197 7.52593C13.8247 7.61581 13.9583 7.67701 14.1037 7.7018C14.2492 7.7266 14.4 7.71386 14.537 7.66522C14.674 7.61657 14.7911 7.5342 14.8736 7.42851C14.956 7.32281 15 7.19856 15 7.07143V1.92857C15 1.80144 14.956 1.67719 14.8736 1.57149C14.7911 1.4658 14.674 1.38343 14.537 1.33478C14.4 1.28614 14.2492 1.2734 14.1037 1.2982C13.9583 1.32299 13.8247 1.3842 13.7197 1.47407L12 2.94814V1.92857C12 1.41709 11.7629 0.926542 11.341 0.564866C10.919 0.203188 10.3467 0 9.75 0H2.25Z" fill="var(--trustshop-secondary-color)"/>\n                                                            </svg>\n                                                            ${trustshop_onepage.section_show.image_galley_star_rating?`<span>★ ${e.star}\n                                                                </span>`:""}\n                                                            </div>`),imageItem.addEventListener("click",(()=>{trustshop_onepage_actions.modalViewMedia("detail",e.review_id,e.product_id,"image"===e.media_type?e.url:e.video_thumb,e.media_type)})),document.querySelector(".trustshop-image-review--list").appendChild(imageItem))}))})).finally((()=>{trustshop_onepage.widget_container.querySelector(".trustshop-slide-right").disabled=!1}))):o||(trustshop_onepage.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft=0,trustshop_onepage.position.imageFromReview=0):e>0?trustshop_onepage.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft-=r.clientWidth+e:trustshop_onepage.widget_container.querySelector(".trustshop-image-review--wrap").scrollLeft+=r.clientWidth-e},handleShowFullContent:(e,t,s)=>{const o=e.replaceAll(/\n/g,"</br>");"show-more"===s.target.getAttribute("value")?(s.target.setAttribute("value","show-less"),trustshop_onepage.widget_container.querySelector(`#content--${t}`).innerHTML=o,s.target.innerHTML="Less","grid"===trustshop_onepage.layoutBox&&trustshop_onepage_actions.handleResizeAllGridItems()):(s.target.setAttribute("value","show-more"),s.target.innerHTML="More","grid"===trustshop_onepage.layoutBox?(trustshop_onepage.widget_container.querySelector(`#content--${t}`).innerHTML=`${e.substring(0,250).replaceAll(/\n/g,"</br>")}...`,trustshop_onepage_actions.handleResizeAllGridItems()):trustshop_onepage.widget_container.querySelector(`#content--${t}`).innerHTML=`${e.substring(0,500)}...`)},loadMoreReview:e=>{const s=trustshop_onepage.widget_container.querySelector("#trustshop-review--container"),o=trustshop_onepage.widget_container.querySelector("#trustshop-loadmore--container");o.innerHTML=T;const i=trustshop_onepage.widget_container.querySelector(".trustshop-active")?trustshop_onepage.widget_container.querySelector(".trustshop-active").value:trustshop_onepage.widget_container.querySelector('.trustshop-score-bar--item[active="true"]')?.getAttribute("value")||"all";window.fetch(`${t}/storefront/page/reviews?shop_id=${window.trustshop_onepage.shopInfo.shop_id}&type=${i}&product_ids=${window.trustshop_onepage.review_of_products}&current_page=${e}&per_page=${trustshop_onepage.reviewPerPage}`,{method:"GET"}).then((e=>e.json())).then((e=>{"grid"===trustshop_onepage.layoutBox?(e.data.forEach((e=>{document.querySelector(".trustshop-review--list").appendChild(trustshop_onepage.loadReview2(e,!0))})),e.next_cursor?(o.remove(),trustshop_onepage.pagination.review=trustshop_onepage.pagination.review+1,s.appendChild(trustshop_onepage.loadMoreBtn(trustshop_onepage.pagination.review))):(trustshop_onepage.pagination.review=null,o.remove()),trustshop_onepage_actions.handleResizeAllGridItems()):(e.data.forEach((e=>{s.appendChild(trustshop_onepage.loadReview1(e,!0))})),e.next_cursor?(o.remove(),trustshop_onepage.pagination.review=trustshop_onepage.pagination.review+1,s.appendChild(trustshop_onepage.loadMoreBtn(trustshop_onepage.pagination.review))):(trustshop_onepage.pagination.review=null,o.remove()))}))},modalViewMedia:(e,t,s,o,i)=>{document.body.style.overflow="hidden";let r=document.getElementById("trustshop-modal-image--container"),n=document.getElementById("trustshop-modal--image");if(n)r.classList.remove("trustshop--hidden");else{r=document.createElement("div"),r.id="trustshop-modal-image--container",n=document.createElement("div"),n.id="trustshop-modal--image",n.classList.add("trustshop-modal--image","trustshop"),r.tabIndex=0,r.style.outline="none";document.createElement("div").class="trustshop-modal-image--wrap",r.addEventListener("keydown",(e=>{if(e.preventDefault(),"Escape"===e.key){trustshop_onepage_actions.modalViewMedia("hide"),document.body.style.overflow="unset";try{trustshop_onepage.currentVideo.pause()}catch(e){throw e}}"ArrowLeft"===e.key&&trustshop_onepage_actions.swiperViewImage(-1,trustshop_onepage.pagination.detail.prev,s),"ArrowRight"===e.key&&trustshop_onepage_actions.swiperViewImage(1,trustshop_onepage.pagination.detail.next,s)})),r.appendChild(n),document.body.appendChild(r)}switch(e){case"detail":let e=document.getElementById("trustshop-view-detail--container");document.querySelector(".trustshop-view-all--container")&&document.querySelector(".trustshop-view-all--container").classList.add("trustshop--hidden"),e?(e.classList.remove("trustshop--hidden"),e.innerHTML="",e.appendChild(trustshop_onepage.viewImage(t,s,o,i))):(e=document.createElement("div"),e.classList.add("trustshop","trustshop-view-detail--container"),e.id="trustshop-view-detail--container",e.appendChild(trustshop_onepage.viewImage(t,s,o,i)),n.appendChild(e)),setTimeout((()=>{r.focus()}),0);break;case"hide":document.body.style.overflow="unset",r.classList.add("trustshop--hidden");break;default:const a=document.querySelector(".trustshop-view-detail--container"),d=n.querySelector(".trustshop-view-all--container");a&&a.classList.add("trustshop--hidden"),d?(d.classList.remove("trustshop--hidden"),s!==d.getAttribute("product-id")&&(d.remove(),n.appendChild(trustshop_onepage.viewAllMedia(s)))):n.appendChild(trustshop_onepage.viewAllMedia(s))}},handleToogleSwiperBtn:()=>{trustshop_onepage.imageCurrent-1<0&&!trustshop_onepage.pagination.detail.prev?document.querySelector(".trustshop-image-swiper--left").classList.add("trustshop--hidden"):document.querySelector(".trustshop-image-swiper--left").classList.contains("trustshop--hidden")&&document.querySelector(".trustshop-image-swiper--left").classList.remove("trustshop--hidden"),trustshop_onepage.imageCurrent+1>trustshop_onepage.mediaListDetail.length-1&&!trustshop_onepage.pagination.detail.next?document.querySelector(".trustshop-image-swiper--right").classList.add("trustshop--hidden"):document.querySelector(".trustshop-image-swiper--right").classList.contains("trustshop--hidden")&&document.querySelector(".trustshop-image-swiper--right").classList.remove("trustshop--hidden")},swiperViewImage:(e,t,s)=>{trustshop_onepage.imageCurrent=trustshop_onepage.imageCurrent+e;const o=document.querySelectorAll(".trustshop-view-image--item");if(o)for(const e of o)e.classList.remove("image-item--outline");trustshop_onepage_actions.handleToogleSwiperBtn(),trustshop_onepage.imageCurrent>trustshop_onepage.mediaListDetail.length-1&&t?trustshop_onepage_actions.imageDetailCurrent(t,"first",s):trustshop_onepage.imageCurrent<0&&t?trustshop_onepage_actions.imageDetailCurrent(t,"last",s):(Array.from(o).length>1&&o[trustshop_onepage.imageCurrent].classList.add("image-item--outline"),window.trustshop_onepage_actions.viewMedia(trustshop_onepage.mediaListDetail[trustshop_onepage.imageCurrent]?.media_type,trustshop_onepage.mediaListDetail[trustshop_onepage.imageCurrent]?.url,trustshop_onepage.mediaListDetail[trustshop_onepage.imageCurrent]?.video_thumb,s))},imageDetailCurrent:(e,s,o)=>{const i=document.querySelector(".trustshop-view-image--right"),r=document.createElement("div");r.classList.add("trustshop-modal-media--loading"),r.innerHTML=T,i.innerHTML=r.outerHTML;const n=document.getElementById("trustshop-view-image--wrap");n&&n.firstChild&&n.removeChild(n.firstChild),window.fetch(`${t}/storefront/page/review?review_id=${e}&shop_id=${window.trustshop_onepage.shopInfo.shop_id}&product_id=${trustshop_onepage.review_of_products.toString()}`,{method:"GET"}).then((e=>e.json())).then((e=>{i.firstElementChild.remove();const t=document.createElement("div");if(t.id="trustshop-view-image--review",t.setAttribute("data-id",e.data.id),e.data)if(trustshop_onepage.imageCurrent="last"===s?e.data.medias.length-1:0,trustshop_onepage.mediaListDetail=e.data.medias,t.appendChild(trustshop_onepage_actions.loadReviewViewImage(e.data)),i.appendChild(t),trustshop_onepage.pagination={...trustshop_onepage.pagination,detail:{prev:e.data.previous_id,next:e.data.next_id}},trustshop_onepage.pagination.detail.prev||0!==trustshop_onepage.imageCurrent?document.querySelector(".trustshop-image-swiper--left").classList.contains("trustshop--hidden")&&document.querySelector(".trustshop-image-swiper--left").classList.remove("trustshop--hidden"):document.querySelector(".trustshop-image-swiper--left").classList.add("trustshop--hidden"),!trustshop_onepage.pagination.detail.next&&trustshop_onepage.imageCurrent<=trustshop_onepage.mediaListDetail.length-1||!trustshop_onepage.pagination.detail.next&&0===trustshop_onepage.mediaListDetail.length?document.querySelector(".trustshop-image-swiper--right").classList.add("trustshop--hidden"):document.querySelector(".trustshop-image-swiper--right").classList.contains("trustshop--hidden")&&document.querySelector(".trustshop-image-swiper--right").classList.remove("trustshop--hidden"),trustshop_onepage.mediaListDetail.length<1)document.querySelector(".trustshop-modal-detail-title").style.display="none",document.querySelector(".trustshop-view-image--right").style.maxWidth="100%",document.querySelector(".trustshop-view-detail--header").style.width="100%",document.querySelector(".trustshop-view-image--left").style.display="none";else{if(!e.data.medias[trustshop_onepage.imageCurrent])return;if("image"===e.data.medias[trustshop_onepage.imageCurrent]?.media_type)n.innerHTML=`<img\n                                    src="${trustshop_onepage_actions.handleImageUrl(e.data.medias[trustshop_onepage.imageCurrent].url,"big")}"\n                                    alt=""\n                                    id="trustshop-media-view--detail"\n                                    width = "100%"\n                                    height ="100%"\n                                    >`;else{const t=document.createElement("video");t.style.width="100%",t.style.height="100%",t.poster=e.data.medias[trustshop_onepage.imageCurrent].video_thumb,t.controls=!0,t.id="trustshop-view-video-detail",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",t.src=e.data.medias[trustshop_onepage.imageCurrent].url,t.setAttribute("allowfullscreen","false"),t.classList.add="trustshop-media-view--detail",n.appendChild(t);try{window.trustshop_onepage.currentVideo=t}catch(e){throw e}}}})).catch((e=>{}))},viewImageCurrent:(e,t,s)=>{const o=document.querySelectorAll(".trustshop-review-media--item");if(o)for(const e of o)e.classList.remove("image-item--outline");const i=document.getElementById("trustshop-view-image--wrap");if(i&&i.firstChild&&i.removeChild(i.firstChild),"image"===e){const e=trustshop_onepage.mediaList.findIndex((e=>e.url===t));trustshop_onepage.imageCurrent=e,i.innerHTML=`<img\n                        src="${trustshop_onepage_actions.handleImageUrl(trustshop_onepage.mediaList[e].url,"big")}"\n                        alt=""\n                        id="trustshop-media-view--detail"\n                        width = "100%"\n                        height ="100%"\n                        >`}else{const e=trustshop_onepage.mediaList.findIndex((e=>e.video_thumb===t));trustshop_onepage.imageCurrent=e;const o=document.createElement("video");o.style.width="100%",o.style.height="100%",o.poster=trustshop_onepage.mediaList[e].video_thumb,o.controls=!0,o.id="trustshop-view-video-detail",o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",o.src=trustshop_onepage.mediaList[e].url,o.setAttribute("allowfullscreen","false"),o.classList.add="trustshop-media-view--detail",i.appendChild(o);try{window.trustshop_onepage.currentVideo=o}catch(s){throw s}}},handleImageUrl:(t,s)=>{const o="/"+trustshop_onepage.imageVariant[s];return t.includes("http")?t.includes("/public")?t.split("/public").join(o):t.includes("imagedelivery")?t+o:t:e+"/"+t.split("/").slice(0,-1).join("/")+"/small-"+t.split("/").pop()},handleReportReview:()=>{const e=document.querySelector(".trustshop-report--submit").value,s=document.querySelector('input[name="trustshop-report"]:checked').value,o=document.querySelector(".trustshop-report--container"),i=new FormData;i.append("report",s),window.fetch(`${t}/storefront/report/${e}`,{method:"POST",body:i}).then((e=>e.json())).then((e=>{o.innerHTML=`<div class="trustshop-report--finish">\n                                        <div class="trustshop-report-success--icon">\n                                            <div>\n                                            <svg xmlns="http://www.w3.org/2000/svg" width="166" height="160" viewBox="0 0 166 160" fill="none">\n                                            <g clip-path="url(#clip0_7029_28838)">\n                                              <path d="M84.673 159.228C128.785 159.228 164.544 123.792 164.544 80.0806C164.544 36.3689 128.785 0.933594 84.673 0.933594C40.5614 0.933594 4.80176 36.3689 4.80176 80.0806C4.80176 123.792 40.5614 159.228 84.673 159.228Z" fill="#407BFF"/>\n                                              <path fill-rule="evenodd" clip-rule="evenodd" d="M58.6966 19.5322C58.6966 21.0197 57.4808 22.2245 55.9797 22.2245C54.4785 22.2245 53.2627 21.0197 53.2627 19.5322C53.2627 18.0446 54.4785 16.8398 55.9797 16.8398C57.4808 16.8398 58.6966 18.0446 58.6966 19.5322Z" fill="white"/>\n                                              <path d="M162.676 49.8438L165.999 51.9931L148.839 78.0456L145.519 75.8962L162.676 49.8438Z" fill="#DE5D1D"/>\n                                              <path d="M143.645 39.5062L139.681 39.6914L140.719 61.5077L144.683 61.3224L143.645 39.5062Z" fill="#DE5D1D"/>\n                                              <path fill-rule="evenodd" clip-rule="evenodd" d="M32.3862 86.8171L1.08938 101.445L0 83.9738L9.35047 89.4708L11.5 76.9763L20.3674 84.3464L23.1816 74.0977L32.3862 86.8171Z" fill="#F0C82F"/>\n                                              <path d="M131.983 133.526C134.758 140.449 131.331 148.321 124.348 151.074C117.361 153.824 109.418 150.431 106.639 143.508C103.86 136.584 107.287 128.713 114.274 125.963C121.261 123.213 129.205 126.605 131.983 133.529V133.526ZM110.196 142.107C112.193 147.087 117.909 149.529 122.934 147.55C127.963 145.57 130.424 139.906 128.426 134.927C126.429 129.943 120.713 127.502 115.688 129.484C110.663 131.463 108.198 137.127 110.196 142.107Z" fill="#91B3FF"/>\n                                              <path fill-rule="evenodd" clip-rule="evenodd" d="M159.811 87.7704C159.811 89.258 158.595 90.4628 157.094 90.4628C155.593 90.4628 154.377 89.258 154.377 87.7704C154.377 86.2829 155.593 85.0781 157.094 85.0781C158.595 85.0781 159.811 86.2829 159.811 87.7704Z" fill="#F0C82F"/>\n                                              <path fill-rule="evenodd" clip-rule="evenodd" d="M92.263 148.563C92.263 150.051 91.0472 151.256 89.5461 151.256C88.0449 151.256 86.8291 150.051 86.8291 148.563C86.8291 147.076 88.0449 145.871 89.5461 145.871C91.0472 145.871 92.263 147.076 92.263 148.563Z" fill="#BCCAFC"/>\n                                              <path fill-rule="evenodd" clip-rule="evenodd" d="M66.3999 -0.000693463C67.4179 0.70612 68.4943 1.22659 69.4248 2.21292C68.0599 3.84823 67.6189 4.90202 65.638 5.78232C64.2341 6.4056 62.707 6.52769 61.2027 6.59195C59.3092 6.67548 57.5746 6.21605 55.7623 7.46582C54.0536 8.64492 53.6484 10.8746 51.7225 12.0858C49.2552 13.6376 46.5869 13.3774 44.3627 13.2681C43.2636 13.2135 42.3623 12.9468 40.9811 13.8753C40.0182 14.5211 39.4703 15.7066 38.65 16.6929C36.5815 19.1668 33.9715 20.5322 30.7715 19.7483C30.8655 18.6238 31.3 17.6022 31.488 16.5098C36.0368 16.6801 36.0789 11.6906 40.3975 9.93324C43.5619 8.64492 47.0927 10.5694 49.6896 8.89551C50.6623 8.26902 51.2394 6.91322 51.8392 6.17428C52.5784 5.26185 53.4182 4.31408 54.5918 3.71329C57.633 2.15187 61.6371 3.83537 64.4221 2.16794C65.3494 1.61213 65.6023 0.837844 66.3999 -0.00390625V-0.000693463Z" fill="#DE5D1D"/>\n                                              <path d="M66.3037 147.067L59.0869 152.852L64.9247 160.003L72.1416 154.218L66.3037 147.067Z" fill="#DE5D1D"/>\n                                              <path fill-rule="evenodd" clip-rule="evenodd" d="M160.871 113.361L158.475 119.054L154.698 114.151L150.921 109.249L157.094 108.458L163.267 107.668L160.871 113.361Z" fill="#BCCAFC"/>\n                                              <path d="M125.274 25.9725L11.0479 40.1914L24.895 149.422L139.121 135.203L125.274 25.9725Z" fill="#222221"/>\n                                              <path d="M129.885 19.5389L15.6592 33.7578L29.5063 142.989L143.732 128.77L129.885 19.5389Z" fill="#3ACBA8"/>\n                                              <path d="M32.6805 34.082C30.0187 34.7085 28.0053 35.8876 26.475 37.8313C25.0484 39.6466 24.9544 41.4554 26.1216 42.6505C27.3082 43.8682 28.9552 43.7557 30.8033 42.1975C32.3401 40.9028 33.6694 39.3735 35.6244 38.6313C36.7981 38.1847 37.5762 37.1888 37.333 35.8298C37.0542 34.2651 35.8287 33.886 34.4605 33.8828C33.7699 33.8828 33.0728 34.0338 32.6773 34.0788L32.6805 34.082Z" fill="white"/>\n                                              <path d="M22.2279 44.4611C20.9408 44.927 20.0168 47.0892 20.4707 48.4771C20.8143 49.5277 21.5762 49.9421 22.6332 49.5823C23.9268 49.1422 24.8055 47.0249 24.3029 45.6402C23.9333 44.625 23.22 44.1977 22.2279 44.4643V44.4611Z" fill="white"/>\n                                              <path d="M39.353 138.232C36.7236 137.487 34.7653 136.215 33.329 134.203C31.9868 132.324 31.977 130.515 33.1993 129.371C34.4411 128.208 36.0816 128.398 37.8551 130.036C39.3271 131.399 40.585 132.986 42.5077 133.818C43.6586 134.316 44.3914 135.347 44.0866 136.697C43.7364 138.245 42.4947 138.57 41.1265 138.512C40.4359 138.483 39.7486 138.3 39.3563 138.232H39.353Z" fill="white"/>\n                                              <path d="M80.7888 124.485L39.3926 83.933L49.4045 73.8962L76.9533 100.887L105.381 45.6719L118.064 52.0846L80.7888 124.485Z" fill="white"/>\n                                              <path d="M138.957 5.46044L74.8526 13.4988C70.2714 14.0739 67.0324 18.2184 67.6095 22.7549L69.1658 34.9249C69.7429 39.4646 73.9286 42.6774 78.5065 42.1023L79.7224 41.9481L81.6061 56.4088L90.2822 40.6244L142.611 34.0639C147.189 33.4888 150.431 29.3443 149.854 24.8046L148.301 12.6346C147.721 8.09493 143.538 4.88214 138.96 5.45723L138.957 5.46044Z" fill="#FFD32B"/>\n                                              <path d="M76.3598 37.0385C77.527 36.8843 78.1949 36.7976 79.08 36.6851L81.45 36.3831C86.5306 35.7309 90.1261 31.1013 89.4647 26.0701C88.7936 20.9521 84.2221 17.463 79.0573 18.1281L73.9606 18.7835C73.1565 18.8863 72.5892 19.6188 72.6929 20.4124L74.7063 35.7855C74.7549 36.1647 74.9592 36.5149 75.2672 36.7526C75.5784 36.9871 75.961 37.0899 76.3533 37.0417L76.3598 37.0385ZM77.433 33.9671L75.7957 21.4822L79.4366 21.0132C83.029 20.5505 86.0896 22.8862 86.5565 26.446C87.0072 29.8901 84.5463 33.0547 81.074 33.5013L77.433 33.9671Z" fill="#222221"/>\n                                              <path d="M101.678 33.8058C96.5944 34.4612 91.9224 30.895 91.261 25.8574C90.5996 20.8197 94.1984 16.1901 99.2821 15.5347C104.366 14.8793 109.038 18.4455 109.699 23.4831C110.361 28.5208 106.762 33.1504 101.678 33.8058ZM99.6615 18.4166C96.1794 18.8631 93.7153 22.0342 94.1692 25.4847C94.6199 28.9352 97.8199 31.3769 101.302 30.9271C104.784 30.4806 107.248 27.3095 106.794 23.859C106.344 20.4085 103.144 17.9668 99.6615 18.4166Z" fill="#222221"/>\n                                              <path d="M126.834 30.5691C126.406 30.6237 125.965 30.4888 125.637 30.1836L113.959 19.228L115.444 30.5723C115.548 31.3691 114.984 32.0952 114.179 32.198C113.375 32.3008 112.643 31.7386 112.539 30.945L110.522 15.5557C110.441 14.9453 110.759 14.3542 111.31 14.0746C111.861 13.7983 112.532 13.8915 112.983 14.3156L124.665 25.2712L123.18 13.9269C123.076 13.1301 123.64 12.404 124.444 12.3012C125.248 12.1984 125.981 12.7606 126.085 13.5542L128.101 28.9434C128.182 29.5539 127.865 30.145 127.314 30.4245C127.161 30.5016 127.002 30.5498 126.837 30.5691H126.834Z" fill="#222221"/>\n                                              <path d="M143.343 20.6206C144.147 20.5178 144.711 19.7885 144.608 18.995C144.504 18.1982 143.768 17.6392 142.967 17.742L132.177 19.1299L131.545 14.3139L142.335 12.926C143.139 12.8232 143.703 12.0939 143.599 11.3003C143.496 10.5036 142.76 9.94453 141.959 10.0473L129.716 11.6216C128.912 11.7244 128.348 12.4537 128.452 13.2473L130.468 28.6365C130.572 29.4333 131.308 29.9923 132.109 29.8895L144.351 28.3152C145.156 28.2124 145.72 27.4831 145.616 26.6896C145.512 25.896 144.776 25.3338 143.975 25.4366L133.185 26.8245L132.553 22.0085L143.343 20.6206Z" fill="#222221"/>\n                                              <path d="M138.957 5.46044L74.8526 13.4988C70.2714 14.0739 67.0324 18.2184 67.6095 22.7549L69.1658 34.9249C69.7429 39.4646 73.9286 42.6774 78.5065 42.1023L79.7224 41.9481L81.6061 56.4088L90.2822 40.6244L142.611 34.0639C147.189 33.4888 150.431 29.3443 149.854 24.8046L148.301 12.6346C147.721 8.09493 143.538 4.88214 138.96 5.45723L138.957 5.46044Z" fill="#FFD32B"/>\n                                              <path d="M76.3598 37.0385C77.527 36.8843 78.1949 36.7976 79.08 36.6851L81.45 36.3831C86.5306 35.7309 90.1261 31.1013 89.4647 26.0701C88.7936 20.9521 84.2221 17.463 79.0573 18.1281L73.9606 18.7835C73.1565 18.8863 72.5892 19.6188 72.6929 20.4124L74.7063 35.7855C74.7549 36.1647 74.9592 36.5149 75.2672 36.7526C75.5784 36.9871 75.961 37.0899 76.3533 37.0417L76.3598 37.0385ZM77.433 33.9671L75.7957 21.4822L79.4366 21.0132C83.029 20.5505 86.0896 22.8862 86.5565 26.446C87.0072 29.8901 84.5463 33.0547 81.074 33.5013L77.433 33.9671Z" fill="#222221"/>\n                                              <path d="M101.678 33.8058C96.5944 34.4612 91.9224 30.895 91.261 25.8574C90.5996 20.8197 94.1984 16.1901 99.2821 15.5347C104.366 14.8793 109.038 18.4455 109.699 23.4831C110.361 28.5208 106.762 33.1504 101.678 33.8058ZM99.6615 18.4166C96.1794 18.8631 93.7153 22.0342 94.1692 25.4847C94.6199 28.9352 97.8199 31.3769 101.302 30.9271C104.784 30.4806 107.248 27.3095 106.794 23.859C106.344 20.4085 103.144 17.9668 99.6615 18.4166Z" fill="#222221"/>\n                                              <path d="M126.834 30.5691C126.406 30.6237 125.965 30.4888 125.637 30.1836L113.959 19.228L115.444 30.5723C115.548 31.3691 114.984 32.0952 114.179 32.198C113.375 32.3008 112.643 31.7386 112.539 30.945L110.522 15.5557C110.441 14.9453 110.759 14.3542 111.31 14.0746C111.861 13.7983 112.532 13.8915 112.983 14.3156L124.665 25.2712L123.18 13.9269C123.076 13.1301 123.64 12.404 124.444 12.3012C125.248 12.1984 125.981 12.7606 126.085 13.5542L128.101 28.9434C128.182 29.5539 127.865 30.145 127.314 30.4245C127.161 30.5016 127.002 30.5498 126.837 30.5691H126.834Z" fill="#222221"/>\n                                              <path d="M143.343 20.6206C144.147 20.5178 144.711 19.7885 144.608 18.995C144.504 18.1982 143.768 17.6392 142.967 17.742L132.177 19.1299L131.545 14.3139L142.335 12.926C143.139 12.8232 143.703 12.0939 143.599 11.3003C143.496 10.5036 142.76 9.94453 141.959 10.0473L129.716 11.6216C128.912 11.7244 128.348 12.4537 128.452 13.2473L130.468 28.6365C130.572 29.4333 131.308 29.9923 132.109 29.8895L144.351 28.3152C145.156 28.2124 145.72 27.4831 145.616 26.6896C145.512 25.896 144.776 25.3338 143.975 25.4366L133.185 26.8245L132.553 22.0085L143.343 20.6206Z" fill="#222221"/>\n                                            </g>\n                                            <defs>\n                                              <clipPath id="clip0_7029_28838">\n                                                <rect width="166" height="160" fill="white"/>\n                                              </clipPath>\n                                            </defs>\n                                          </svg>\n                                            </div>\n                                        </div>\n                                        <div class="trustshop-report--subtitle">\n                                            ${(()=>{const e=/\{\{\s*([^}\s]+)\s*\}\}/;return trustshop_onepage.label_content.modal_report_subtitle?trustshop_onepage.label_content.modal_report_subtitle.match(e)?trustshop_onepage.label_content.modal_report_subtitle.replace(e,Shopify.shop.split(".")[0]).replace(/\./,".</br>"):trustshop_onepage.label_content.modal_report_subtitle.replace(/\./,".</br>"):`<p>\n                Thank you for taking the time to help ${Shopify.shop.split(".")[0]}.\n            </p>\n            <p>\n                Your report is anonymous.\n            </p>`})()}\n                                        </div>\n                                    </div>`;const t=document.createElement("button");t.classList.add("trustshop-button","trustshop-report-done--btn"),t.innerHTML="Done",t.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".trustshop-report--overlay").classList.remove("trustshop-show--report"),document.querySelector(".trustshop-report--container").remove(),document.querySelector(".trustshop-report--overlay").appendChild(trustshop_onepage.reportBtn())})),document.querySelector(".trustshop-report--finish").appendChild(t)}))},handleSlideImageButton:e=>{const t=trustshop_onepage.widget_container.querySelector(".trustshop-image-review--container"),s=trustshop_onepage.widget_container.querySelector(".trustshop-image-review--list"),o=trustshop_onepage.widget_container.querySelector(".trustshop-image-review--wrap"),i=trustshop_onepage.widget_container.querySelector(".trustshop-slide-left"),r=trustshop_onepage.widget_container.querySelector(".trustshop-slide-right");if(t&&s&&o)if(s.clientWidth>o.clientWidth&&!i){const s=document.createElement("button");s.classList.add("trustshop","trustshop-slide-left"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                                    <path d="M8.61033 3.17188L9.29773 3.89528L5.66434 7.5123L9.29773 11.1293L8.61033 11.8527L4.19135 7.5123L8.61033 3.17188Z" fill="#ffffff" />\n                                </svg>';const o=document.createElement("button");o.classList.add("trustshop","trustshop-slide-right"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                                    <path d="M5.38979 3.17188L4.70239 3.89528L8.33578 7.5123L4.70239 11.1293L5.38979 11.8527L9.80878 7.5123L5.38979 3.17188Z" fill="#ffffff" />\n                                </svg>',s.addEventListener("click",(e=>{e.preventDefault(),trustshop_onepage_actions.slideImageFromReviews(12)})),o.setAttribute("cursor",e),o.addEventListener("click",(e=>{e.preventDefault(),trustshop_onepage_actions.slideImageFromReviews(-12,trustshop_onepage.pagination.slide_image,!1)})),t.appendChild(s),t.appendChild(o)}else s.clientWidth<=o.clientWidth&&i&&r&&(i.remove(),r.remove())},handleResizeGridItem:e=>{const t=trustshop_onepage.widget_container.querySelector(".trustshop-review--list.trustshop-review-list--grid"),s=parseInt(window.getComputedStyle(t).getPropertyValue("grid-auto-rows")),o=parseInt(window.getComputedStyle(t).getPropertyValue("grid-row-gap")),i=Math.ceil((e.querySelector(".trustshop-review-item-grid--content").getBoundingClientRect().height+o)/(s+o));e.style.gridRowEnd="span "+i},handleResizeAllGridItems:()=>{const e=trustshop_onepage.widget_container.querySelectorAll(".trustshop-review-item-type--grid");if(e)for(let t=0;t<e.length;t++)trustshop_onepage_actions.handleResizeGridItem(e[t])}},window.addEventListener("resize",(()=>{trustshop_reviews.widget_container&&(trustshop_reviews.checkPageWidth(),trustshop_widgetreviews.handleResizeAllGridItems(),trustshop_widgetreviews.handleSlideImageButton(_.slide_image)),window.trustshop_testimonial.handleTestimonialButton(),trustshop_onepage.widget_container&&(trustshop_onepage.checkPageWidth(),trustshop_onepage_actions.handleSlideImageButton(trustshop_onepage.pagination.slide_image))}));let A;const F=()=>{A&&A.disconnect(),A=new MutationObserver((function(e){e.forEach((function(e){document.getElementById("trustshop-review")&&""===document.getElementById("trustshop-review").innerHTML?.trim()&&document.getElementById("trustshop-review")&&(window.trustshop_reviews.widget_container=document.querySelector("#trustshop-review"),JSON.parse(document.getElementById("trustshop-get-product_info").value)&&(E=JSON.parse(document.getElementById("trustshop-get-product_info").value),document.getElementById("trustshop-widget_box_layout_box")&&document.getElementById("trustshop-widget_box_layout_box").value&&(f=document.getElementById("trustshop-widget_box_layout_box").value),document.getElementById("trustshop-widget_box_layout_summary_box")&&document.getElementById("trustshop-widget_box_layout_summary_box").value&&(L=document.getElementById("trustshop-widget_box_layout_summary_box").value),document.getElementById("trustshop-widget_box_color_customize")&&document.getElementById("trustshop-widget_box_color_customize").value&&(y={...g,...JSON.parse(document.getElementById("trustshop-widget_box_color_customize").value)}),document.getElementById("trustshop-widget_box_section_show")&&document.getElementById("trustshop-widget_box_section_show").value&&(C={...v,...JSON.parse(document.getElementById("trustshop-widget_box_section_show").value)}),document.getElementById("trustshop-widget_box_sort_filter")&&document.getElementById("trustshop-widget_box_sort_filter").value&&(b=JSON.parse(document.getElementById("trustshop-widget_box_sort_filter").value)),document.getElementById("trustshop-widget_box_label_content")&&document.getElementById("trustshop-widget_box_label_content").value&&(M={...w,...JSON.parse(document.getElementById("trustshop-widget_box_label_content").value)}),document.getElementById("trustshop-widget_box_review_per_page")&&document.getElementById("trustshop-widget_box_review_per_page").value&&($=JSON.parse(document.getElementById("trustshop-widget_box_review_per_page").value)),x=x=[{value:"first_name_last_name",label:M.option_name_display_format_1??"John Smith"},{value:"first_name",label:M.option_name_display_format_2??"John S."},{value:"short_name",label:M.option_name_display_format_3??"J.S."},{value:"anonymous",label:M.option_name_display_format_4??"Anonymous"}],I={name:"",email:"",title:"",content:"",star:"",medias:[],customer_display_name:"first_name_last_name",product_id:E.productId,shop_id:E.shopId},window.trustshop_reviews.initReviews()));const t=Array.from(e.addedNodes).some((e=>1===e.nodeType&&e.closest(".trustshop-collection-rating--item"))),n=Array.from(document.querySelectorAll(".trustshop-collection-rating--item")).some((e=>""===e.innerHTML?.trim()));!t&&n&&window.trustshop_collection.listCollection!==document.querySelectorAll(".trustshop-collection-rating--item")&&(window.trustshop_collection.initCollectionRating(),window.trustshop_collection.listCollection=document.querySelectorAll(".trustshop-collection-rating--item"));document.getElementById("trustshop-review--summary")&&""===document.getElementById("trustshop-review--summary").innerHTML?.trim()&&document.getElementById("trustshop-product_rating")&&document.getElementById("trustshop-product_rating").value&&(i={...s,...JSON.parse(document.getElementById("trustshop-product_rating").value)},document.getElementById("trustshop-product_rating_font_size")&&document.getElementById("trustshop-product_rating_font_size").value&&(r={...o,...JSON.parse(document.getElementById("trustshop-product_rating_font_size").value)}),window.trustshop_rating.initRating());document.getElementById("trustshop-testimonial")&&""===document.getElementById("trustshop-testimonial").innerHTML?.trim()&&document.getElementById("trustshop-testimonial-shop_info")&&document.getElementById("trustshop-testimonial-shop_info").value&&(window.trustshop_testimonial.shopInfo=JSON.parse(document.getElementById("trustshop-testimonial-shop_info").value),document.getElementById("trustshop-testimonial-number_of_review")&&document.getElementById("trustshop-testimonial-number_of_review").value&&(window.trustshop_testimonial.numberOfReview=document.getElementById("trustshop-testimonial-number_of_review").value),document.getElementById("trustshop-testimonial-section_show")&&document.getElementById("trustshop-testimonial-section_show").value&&(window.trustshop_testimonial.testimonial_section_show={...window.trustshop_testimonial.default_testimonial_section_show,...JSON.parse(document.getElementById("trustshop-testimonial-section_show").value)}),document.getElementById("trustshop-testimonial-navigator_setting")&&document.getElementById("trustshop-testimonial-navigator_setting").value&&(window.trustshop_testimonial.testimonial_navigator_setting={...window.trustshop_testimonial.default_testimonial_navigator_setting,...JSON.parse(document.getElementById("trustshop-testimonial-navigator_setting").value)}),document.getElementById("trustshop-testimonial-label")&&document.getElementById("trustshop-testimonial-label").value&&(window.trustshop_testimonial.label_content={...window.trustshop_testimonial.testimonial_default_label_setting,...JSON.parse(document.getElementById("trustshop-testimonial-label").value)}),document.getElementById("trustshop-testimonial-color_customize")&&document.getElementById("trustshop-testimonial-color_customize").value&&(window.trustshop_testimonial.color_schema={...window.trustshop_testimonial.testimonial_default_color_schema,...JSON.parse(document.getElementById("trustshop-testimonial-color_customize").value)}),window.trustshop_testimonial.initTestimonial());document.getElementById("trustshop-review-one--page")&&""===document.getElementById("trustshop-review-one--page").innerHTML?.trim()&&(()=>{if(document.getElementById("trustshop-get-shop_info")&&document.getElementById("trustshop-get-shop_info").value&&(window.trustshop_onepage.shopInfo=JSON.parse(document.getElementById("trustshop-get-shop_info").value),document.getElementById("trustshop-review-one--page"))){if(window.trustshop_onepage.widget_container=document.getElementById("trustshop-review-one--page"),document.getElementById("trustshop-review-page-show_all_reviews")&&document.getElementById("trustshop-review-page-show_all_reviews").value&&(trustshop_onepage.show_all_review=JSON.parse(document.getElementById("trustshop-review-page-show_all_reviews").value)),document.getElementById("trustshop-review-page-review_of_products")&&document.getElementById("trustshop-review-page-review_of_products").value&&(window.trustshop_onepage.review_to_show=JSON.parse(document.getElementById("trustshop-review-page-review_of_products").value)||[],window.review_of_products=trustshop_onepage.show_all_review?[]:trustshop_onepage.review_to_show.length>0?trustshop_onepage.review_to_show.map((e=>e.split("gid://shopify/Product/")[1])).toString():""),document.getElementById("trustshop-review-page_layout")&&document.getElementById("trustshop-review-page_layout").value&&(trustshop_onepage.layoutBox=document.getElementById("trustshop-review-page_layout").value||"grid"),document.getElementById("trustshop-review-page-summary--box_layout")&&document.getElementById("trustshop-review-page-summary--box_layout").value&&(trustshop_onepage.summaryBoxLayout=document.getElementById("trustshop-review-page-summary--box_layout").value||"center"),document.getElementById("trustshop-review-page-color_customize")&&document.getElementById("trustshop-review-page-color_customize").value&&(window.trustshop_onepage.color_setting={...trustshop_onepage.default_color_setting,...JSON.parse(document.getElementById("trustshop-review-page-color_customize").value)}),document.getElementById("trustshop-review-page-section_show")&&document.getElementById("trustshop-review-page-section_show").value)try{window.trustshop_onepage.section_show=document.getElementById("trustshop-review-page-section_show")&&document.getElementById("trustshop-review-page-section_show").value?{...window.trustshop_onepage.default_section_show,...JSON.parse(document.getElementById("trustshop-review-page-section_show").value)}:window.trustshop_onepage.default_section_show}catch(e){document.getElementById("trustshop-review-page-section_show")&&document.getElementById("trustshop-review-page-section_show").value?window.trustshop_onepage.section_show={...window.trustshop_onepage.default_section_show,title:{...window.trustshop_onepage.default_section_show,content:document.getElementById("trustshop-review-page-section_show").value}}:window.trustshop_onepage.section_show=window.trustshop_onepage.default_section_show}if(document.getElementById("trustshop-review-page-section_show")&&document.getElementById("trustshop-review-page-section_show").value)try{window.trustshop_onepage.section_show={...trustshop_onepage.default_section_show,...JSON.parse(document.getElementById("trustshop-review-page-section_show").value)}}catch(e){trustshop_onepage.section_show={...trustshop_onepage.default_section_show,title:{...trustshop_onepage.default_section_show,content:document.getElementById("trustshop-review-page-section_show").value}}}document.getElementById("trustshop-review-page-sort_filter")&&document.getElementById("trustshop-review-page-sort_filter").value&&(trustshop_onepage.filter_tab=JSON.parse(document.getElementById("trustshop-review-page-sort_filter").value)),document.getElementById("trustshop-review-page-review_per_page")&&document.getElementById("trustshop-review-page-review_per_page").value&&(trustshop_onepage.review_per_page={...trustshop_onepage.default_review_per_page,...JSON.parse(document.getElementById("trustshop-review-page-review_per_page").value)}),document.getElementById("trustshop-review-page-label_content")&&document.getElementById("trustshop-review-page-label_content").value&&(trustshop_onepage.label_content={...trustshop_onepage.default_label_content,...JSON.parse(document.getElementById("trustshop-review-page-label_content").value)}),window.trustshop_onepage.initReviews()}})()}))}));A.observe(document.body,{childList:!0,subtree:!0,attributes:!0})};["DOMContentLoaded","load","popstate","pushstate","hashchange"].forEach((e=>{window.addEventListener(e,F)})),window.addEventListener("scroll",(()=>{const e=document.getElementById("trustshop-review-one--page");if(!e)return;const t=document.querySelector(".trustshop-back-to-top--btn");t&&(e.getBoundingClientRect().top<-150?t.classList.contains("trustshop--hidden")&&t.classList.remove("trustshop--hidden"):t.classList.contains("trustshop--hidden")||t.classList.add("trustshop--hidden"))}));let k=0})();